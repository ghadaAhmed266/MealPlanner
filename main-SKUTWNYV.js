var Jk=Object.create;var Vy=Object.defineProperty,eL=Object.defineProperties,tL=Object.getOwnPropertyDescriptor,nL=Object.getOwnPropertyDescriptors,rL=Object.getOwnPropertyNames,QC=Object.getOwnPropertySymbols,JC=Object.getPrototypeOf,eS=Object.prototype.hasOwnProperty,iL=Object.prototype.propertyIsEnumerable,oL=Reflect.get;var XC=(t,e,n)=>e in t?Vy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J=(t,e)=>{for(var n in e||={})eS.call(e,n)&&XC(t,n,e[n]);if(QC)for(var n of QC(e))iL.call(e,n)&&XC(t,n,e[n]);return t},Ne=(t,e)=>eL(t,nL(e));var sL=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var aL=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of rL(e))!eS.call(t,i)&&i!==n&&Vy(t,i,{get:()=>e[i],enumerable:!(r=tL(e,i))||r.enumerable});return t};var lL=(t,e,n)=>(n=t!=null?Jk(JC(t)):{},aL(e||!t||!t.__esModule?Vy(n,"default",{value:t,enumerable:!0}):n,t));var Ro=(t,e,n)=>oL(JC(t),n,e);var A=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(h){i(h)}},a=u=>{try{c(n.throw(u))}catch(h){i(h)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,a);c((n=n.apply(t,e)).next())});var Tk=sL((Iy,bk)=>{"use strict";(function(t,e){typeof Iy=="object"&&typeof bk<"u"?e(Iy):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.leaflet={}))})(Iy,function(t){"use strict";var e="1.9.4";function n(s){var l,f,p,y;for(f=1,p=arguments.length;f<p;f++){y=arguments[f];for(l in y)s[l]=y[l]}return s}var r=Object.create||(function(){function s(){}return function(l){return s.prototype=l,new s}})();function i(s,l){var f=Array.prototype.slice;if(s.bind)return s.bind.apply(s,f.call(arguments,1));var p=f.call(arguments,2);return function(){return s.apply(l,p.length?p.concat(f.call(arguments)):arguments)}}var o=0;function a(s){return"_leaflet_id"in s||(s._leaflet_id=++o),s._leaflet_id}function c(s,l,f){var p,y,w,P;return P=function(){p=!1,y&&(w.apply(f,y),y=!1)},w=function(){p?y=arguments:(s.apply(f,arguments),setTimeout(P,l),p=!0)},w}function u(s,l,f){var p=l[1],y=l[0],w=p-y;return s===p&&f?s:((s-y)%w+w)%w+y}function h(){return!1}function m(s,l){if(l===!1)return s;var f=Math.pow(10,l===void 0?6:l);return Math.round(s*f)/f}function v(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function I(s){return v(s).split(/\s+/)}function E(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?r(s.options):{});for(var f in l)s.options[f]=l[f];return s.options}function C(s,l,f){var p=[];for(var y in s)p.push(encodeURIComponent(f?y.toUpperCase():y)+"="+encodeURIComponent(s[y]));return(!l||l.indexOf("?")===-1?"?":"&")+p.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function k(s,l){return s.replace(N,function(f,p){var y=l[p];if(y===void 0)throw new Error("No value provided for variable "+f);return typeof y=="function"&&(y=y(l)),y})}var B=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function z(s,l){for(var f=0;f<s.length;f++)if(s[f]===l)return f;return-1}var H="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ee(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var ie=0;function ne(s){var l=+new Date,f=Math.max(0,16-(l-ie));return ie=l+f,window.setTimeout(s,f)}var R=window.requestAnimationFrame||ee("RequestAnimationFrame")||ne,T=window.cancelAnimationFrame||ee("CancelAnimationFrame")||ee("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function S(s,l,f){if(f&&R===ne)s.call(l);else return R.call(window,i(s,l))}function D(s){s&&T.call(window,s)}var M={__proto__:null,extend:n,create:r,bind:i,get lastId(){return o},stamp:a,throttle:c,wrapNum:u,falseFn:h,formatNum:m,trim:v,splitWords:I,setOptions:E,getParamString:C,template:k,isArray:B,indexOf:z,emptyImageUrl:H,requestFn:R,cancelFn:T,requestAnimFrame:S,cancelAnimFrame:D};function O(){}O.extend=function(s){var l=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=l.__super__=this.prototype,p=r(f);p.constructor=l,l.prototype=p;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(l[y]=this[y]);return s.statics&&n(l,s.statics),s.includes&&(x(s.includes),n.apply(null,[p].concat(s.includes))),n(p,s),delete p.statics,delete p.includes,p.options&&(p.options=f.options?r(f.options):{},n(p.options,s.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,P=p._initHooks.length;w<P;w++)p._initHooks[w].call(this)}},l},O.include=function(s){var l=this.prototype.options;return n(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},O.mergeOptions=function(s){return n(this.prototype.options,s),this},O.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),f=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function x(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=B(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ge={on:function(s,l,f){if(typeof s=="object")for(var p in s)this._on(p,s[p],l);else{s=I(s);for(var y=0,w=s.length;y<w;y++)this._on(s[y],l,f)}return this},off:function(s,l,f){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var p in s)this._off(p,s[p],l);else{s=I(s);for(var y=arguments.length===1,w=0,P=s.length;w<P;w++)y?this._off(s[w]):this._off(s[w],l,f)}return this},_on:function(s,l,f,p){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,f)===!1){f===this&&(f=void 0);var y={fn:l,ctx:f};p&&(y.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(y)}},_off:function(s,l,f){var p,y,w;if(this._events&&(p=this._events[s],!!p)){if(arguments.length===1){if(this._firingCount)for(y=0,w=p.length;y<w;y++)p[y].fn=h;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var P=this._listens(s,l,f);if(P!==!1){var V=p[P];this._firingCount&&(V.fn=h,this._events[s]=p=p.slice()),p.splice(P,1)}}},fire:function(s,l,f){if(!this.listens(s,f))return this;var p=n({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[s];if(y){this._firingCount=this._firingCount+1||1;for(var w=0,P=y.length;w<P;w++){var V=y[w],j=V.fn;V.once&&this.off(s,j,V.ctx),j.call(V.ctx||this,p)}this._firingCount--}}return f&&this._propagateEvent(p),this},listens:function(s,l,f,p){typeof s!="string"&&console.warn('"string" type argument expected');var y=l;typeof l!="function"&&(p=!!l,y=void 0,f=void 0);var w=this._events&&this._events[s];if(w&&w.length&&this._listens(s,y,f)!==!1)return!0;if(p){for(var P in this._eventParents)if(this._eventParents[P].listens(s,l,f,p))return!0}return!1},_listens:function(s,l,f){if(!this._events)return!1;var p=this._events[s]||[];if(!l)return!!p.length;f===this&&(f=void 0);for(var y=0,w=p.length;y<w;y++)if(p[y].fn===l&&p[y].ctx===f)return y;return!1},once:function(s,l,f){if(typeof s=="object")for(var p in s)this._on(p,s[p],l,!0);else{s=I(s);for(var y=0,w=s.length;y<w;y++)this._on(s[y],l,f,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[a(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[a(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,n({layer:s.target,propagatedFrom:s.target},s),!0)}};Ge.addEventListener=Ge.on,Ge.removeEventListener=Ge.clearAllEventListeners=Ge.off,Ge.addOneTimeEventListener=Ge.once,Ge.fireEvent=Ge.fire,Ge.hasEventListeners=Ge.listens;var At=O.extend(Ge);function Ie(s,l,f){this.x=f?Math.round(s):s,this.y=f?Math.round(l):l}var yn=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};Ie.prototype={clone:function(){return new Ie(this.x,this.y)},add:function(s){return this.clone()._add(Q(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(Q(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new Ie(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new Ie(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=yn(this.x),this.y=yn(this.y),this},distanceTo:function(s){s=Q(s);var l=s.x-this.x,f=s.y-this.y;return Math.sqrt(l*l+f*f)},equals:function(s){return s=Q(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=Q(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function Q(s,l,f){return s instanceof Ie?s:B(s)?new Ie(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new Ie(s.x,s.y):new Ie(s,l,f)}function we(s,l){if(s)for(var f=l?[s,l]:s,p=0,y=f.length;p<y;p++)this.extend(f[p])}we.prototype={extend:function(s){var l,f;if(!s)return this;if(s instanceof Ie||typeof s[0]=="number"||"x"in s)l=f=Q(s);else if(s=Qe(s),l=s.min,f=s.max,!l||!f)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=f.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(s){return Q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return Q(this.min.x,this.max.y)},getTopRight:function(){return Q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,f;return typeof s[0]=="number"||s instanceof Ie?s=Q(s):s=Qe(s),s instanceof we?(l=s.min,f=s.max):l=f=s,l.x>=this.min.x&&f.x<=this.max.x&&l.y>=this.min.y&&f.y<=this.max.y},intersects:function(s){s=Qe(s);var l=this.min,f=this.max,p=s.min,y=s.max,w=y.x>=l.x&&p.x<=f.x,P=y.y>=l.y&&p.y<=f.y;return w&&P},overlaps:function(s){s=Qe(s);var l=this.min,f=this.max,p=s.min,y=s.max,w=y.x>l.x&&p.x<f.x,P=y.y>l.y&&p.y<f.y;return w&&P},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,f=this.max,p=Math.abs(l.x-f.x)*s,y=Math.abs(l.y-f.y)*s;return Qe(Q(l.x-p,l.y-y),Q(f.x+p,f.y+y))},equals:function(s){return s?(s=Qe(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function Qe(s,l){return!s||s instanceof we?s:new we(s,l)}function dt(s,l){if(s)for(var f=l?[s,l]:s,p=0,y=f.length;p<y;p++)this.extend(f[p])}dt.prototype={extend:function(s){var l=this._southWest,f=this._northEast,p,y;if(s instanceof be)p=s,y=s;else if(s instanceof dt){if(p=s._southWest,y=s._northEast,!p||!y)return this}else return s?this.extend($e(s)||Xe(s)):this;return!l&&!f?(this._southWest=new be(p.lat,p.lng),this._northEast=new be(y.lat,y.lng)):(l.lat=Math.min(p.lat,l.lat),l.lng=Math.min(p.lng,l.lng),f.lat=Math.max(y.lat,f.lat),f.lng=Math.max(y.lng,f.lng)),this},pad:function(s){var l=this._southWest,f=this._northEast,p=Math.abs(l.lat-f.lat)*s,y=Math.abs(l.lng-f.lng)*s;return new dt(new be(l.lat-p,l.lng-y),new be(f.lat+p,f.lng+y))},getCenter:function(){return new be((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new be(this.getNorth(),this.getWest())},getSouthEast:function(){return new be(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof be||"lat"in s?s=$e(s):s=Xe(s);var l=this._southWest,f=this._northEast,p,y;return s instanceof dt?(p=s.getSouthWest(),y=s.getNorthEast()):p=y=s,p.lat>=l.lat&&y.lat<=f.lat&&p.lng>=l.lng&&y.lng<=f.lng},intersects:function(s){s=Xe(s);var l=this._southWest,f=this._northEast,p=s.getSouthWest(),y=s.getNorthEast(),w=y.lat>=l.lat&&p.lat<=f.lat,P=y.lng>=l.lng&&p.lng<=f.lng;return w&&P},overlaps:function(s){s=Xe(s);var l=this._southWest,f=this._northEast,p=s.getSouthWest(),y=s.getNorthEast(),w=y.lat>l.lat&&p.lat<f.lat,P=y.lng>l.lng&&p.lng<f.lng;return w&&P},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=Xe(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Xe(s,l){return s instanceof dt?s:new dt(s,l)}function be(s,l,f){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,f!==void 0&&(this.alt=+f)}be.prototype={equals:function(s,l){if(!s)return!1;s=$e(s);var f=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return f<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+m(this.lat,s)+", "+m(this.lng,s)+")"},distanceTo:function(s){return $r.distance(this,$e(s))},wrap:function(){return $r.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,f=l/Math.cos(Math.PI/180*this.lat);return Xe([this.lat-l,this.lng-f],[this.lat+l,this.lng+f])},clone:function(){return new be(this.lat,this.lng,this.alt)}};function $e(s,l,f){return s instanceof be?s:B(s)&&typeof s[0]!="object"?s.length===3?new be(s[0],s[1],s[2]):s.length===2?new be(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new be(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new be(s,l,f)}var Sn={latLngToPoint:function(s,l){var f=this.projection.project(s),p=this.scale(l);return this.transformation._transform(f,p)},pointToLatLng:function(s,l){var f=this.scale(l),p=this.transformation.untransform(s,f);return this.projection.unproject(p)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,f=this.scale(s),p=this.transformation.transform(l.min,f),y=this.transformation.transform(l.max,f);return new we(p,y)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?u(s.lng,this.wrapLng,!0):s.lng,f=this.wrapLat?u(s.lat,this.wrapLat,!0):s.lat,p=s.alt;return new be(f,l,p)},wrapLatLngBounds:function(s){var l=s.getCenter(),f=this.wrapLatLng(l),p=l.lat-f.lat,y=l.lng-f.lng;if(p===0&&y===0)return s;var w=s.getSouthWest(),P=s.getNorthEast(),V=new be(w.lat-p,w.lng-y),j=new be(P.lat-p,P.lng-y);return new dt(V,j)}},$r=n({},Sn,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var f=Math.PI/180,p=s.lat*f,y=l.lat*f,w=Math.sin((l.lat-s.lat)*f/2),P=Math.sin((l.lng-s.lng)*f/2),V=w*w+Math.cos(p)*Math.cos(y)*P*P,j=2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V));return this.R*j}}),_o=6378137,du={R:_o,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,f=this.MAX_LATITUDE,p=Math.max(Math.min(f,s.lat),-f),y=Math.sin(p*l);return new Ie(this.R*s.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(s){var l=180/Math.PI;return new be((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:(function(){var s=_o*Math.PI;return new we([-s,-s],[s,s])})()};function fu(s,l,f,p){if(B(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=f,this._d=p}fu.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new Ie((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function zr(s,l,f,p){return new fu(s,l,f,p)}var Eo=n({},$r,{code:"EPSG:3857",projection:du,transformation:(function(){var s=.5/(Math.PI*du.R);return zr(s,.5,-s,.5)})()}),hu=n({},Eo,{code:"EPSG:900913"});function Wa(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Ka(s,l){var f="",p,y,w,P,V,j;for(p=0,w=s.length;p<w;p++){for(V=s[p],y=0,P=V.length;y<P;y++)j=V[y],f+=(y?"L":"M")+j.x+" "+j.y;f+=l?le.svg?"z":"x":""}return f||"M0 0"}var As=document.documentElement.style,xs="ActiveXObject"in window,ch=xs&&!document.addEventListener,uh="msLaunchUri"in navigator&&!("documentMode"in document),Za=zn("webkit"),pu=zn("android"),Ya=zn("android 2")||zn("android 3"),dh=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),xy=pu&&zn("Google")&&dh<537&&!("AudioNode"in window),Ms=!!window.opera,Qa=!uh&&zn("chrome"),Xa=zn("gecko")&&!Za&&!Ms&&!xs,Xt=!Qa&&zn("safari"),Jt=zn("phantom"),Ps="OTransition"in As,fh=navigator.platform.indexOf("Win")===0,mu=xs&&"transition"in As,gu="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ya,Io="MozPerspective"in As,hh=!window.L_DISABLE_3D&&(mu||gu||Io)&&!Ps&&!Jt,wo=typeof orientation<"u"||zn("mobile"),vu=wo&&Za,My=wo&&gu,ph=!window.PointerEvent&&window.MSPointerEvent,Ja=!!(window.PointerEvent||ph),yu="ontouchstart"in window||!!window.TouchEvent,mh=!window.L_NO_TOUCH&&(yu||Ja),Rs=wo&&Ms,_u=wo&&Xa,Eu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Oi=(function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",h,l),window.removeEventListener("testPassiveEventSupport",h,l)}catch{}return s})(),gh=(function(){return!!document.createElement("canvas").getContext})(),bo=!!(document.createElementNS&&Wa("svg").createSVGRect),vh=!!bo&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ns=!bo&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),yh=navigator.platform.indexOf("Mac")===0,fn=navigator.platform.indexOf("Linux")===0;function zn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var le={ie:xs,ielt9:ch,edge:uh,webkit:Za,android:pu,android23:Ya,androidStock:xy,opera:Ms,chrome:Qa,gecko:Xa,safari:Xt,phantom:Jt,opera12:Ps,win:fh,ie3d:mu,webkit3d:gu,gecko3d:Io,any3d:hh,mobile:wo,mobileWebkit:vu,mobileWebkit3d:My,msPointer:ph,pointer:Ja,touch:mh,touchNative:yu,mobileOpera:Rs,mobileGecko:_u,retina:Eu,passiveEvents:Oi,canvas:gh,svg:bo,vml:Ns,inlineSvg:vh,mac:yh,linux:fn},To=le.msPointer?"MSPointerDown":"pointerdown",_h=le.msPointer?"MSPointerMove":"pointermove",Eh=le.msPointer?"MSPointerUp":"pointerup",ki=le.msPointer?"MSPointerCancel":"pointercancel",Iu={touchstart:To,touchmove:_h,touchend:Eh,touchcancel:ki},Ih={touchstart:bh,touchmove:Co,touchend:Co,touchcancel:Co},wr={},wu=!1;function bu(s,l,f){return l==="touchstart"&&Cu(),Ih[l]?(f=Ih[l].bind(this,f),s.addEventListener(Iu[l],f,!1),f):(console.warn("wrong event specified:",l),h)}function el(s,l,f){if(!Iu[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(Iu[l],f,!1)}function Hr(s){wr[s.pointerId]=s}function wh(s){wr[s.pointerId]&&(wr[s.pointerId]=s)}function Tu(s){delete wr[s.pointerId]}function Cu(){wu||(document.addEventListener(To,Hr,!0),document.addEventListener(_h,wh,!0),document.addEventListener(Eh,Tu,!0),document.addEventListener(ki,Tu,!0),wu=!0)}function Co(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var f in wr)l.touches.push(wr[f]);l.changedTouches=[l],s(l)}}function bh(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&_t(l),Co(s,l)}function Th(s){var l={},f,p;for(p in s)f=s[p],l[p]=f&&f.bind?f.bind(s):f;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Py=200;function tl(s,l){s.addEventListener("dblclick",l);var f=0,p;function y(w){if(w.detail!==1){p=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var P=Ou(w);if(!(P.some(function(j){return j instanceof HTMLLabelElement&&j.attributes.for})&&!P.some(function(j){return j instanceof HTMLInputElement||j instanceof HTMLSelectElement}))){var V=Date.now();V-f<=Py?(p++,p===2&&l(Th(w))):p=1,f=V}}}return s.addEventListener("click",y),{dblclick:l,simDblclick:y}}function Ch(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var Os=lr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),br=lr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),qr=br==="webkitTransition"||br==="OTransition"?br+"End":"transitionend";function nl(s){return typeof s=="string"?document.getElementById(s):s}function ks(s,l){var f=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!f||f==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(s,null);f=p?p[l]:null}return f==="auto"?null:f}function We(s,l,f){var p=document.createElement(s);return p.className=l||"",f&&f.appendChild(p),p}function lt(s){var l=s.parentNode;l&&l.removeChild(s)}function Ls(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Gr(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function Wr(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function rl(s,l){if(s.classList!==void 0)return s.classList.contains(l);var f=Fs(s);return f.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(f)}function xe(s,l){if(s.classList!==void 0)for(var f=I(l),p=0,y=f.length;p<y;p++)s.classList.add(f[p]);else if(!rl(s,l)){var w=Fs(s);Su(s,(w?w+" ":"")+l)}}function yt(s,l){s.classList!==void 0?s.classList.remove(l):Su(s,v((" "+Fs(s)+" ").replace(" "+l+" "," ")))}function Su(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function Fs(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Dn(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&Ry(s,l)}function Ry(s,l){var f=!1,p="DXImageTransform.Microsoft.Alpha";try{f=s.filters.item(p)}catch{if(l===1)return}l=Math.round(l*100),f?(f.Enabled=l!==100,f.Opacity=l):s.style.filter+=" progid:"+p+"(opacity="+l+")"}function lr(s){for(var l=document.documentElement.style,f=0;f<s.length;f++)if(s[f]in l)return s[f];return!1}function hn(s,l,f){var p=l||new Ie(0,0);s.style[Os]=(le.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(f?" scale("+f+")":"")}function ft(s,l){s._leaflet_pos=l,le.any3d?hn(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function cr(s){return s._leaflet_pos||new Ie(0,0)}var So,Je,Do;if("onselectstart"in document)So=function(){Te(window,"selectstart",_t)},Je=function(){rt(window,"selectstart",_t)};else{var Tr=lr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);So=function(){if(Tr){var s=document.documentElement.style;Do=s[Tr],s[Tr]="none"}},Je=function(){Tr&&(document.documentElement.style[Tr]=Do,Do=void 0)}}function Li(){Te(window,"dragstart",_t)}function Du(){rt(window,"dragstart",_t)}var Vs,Au;function xu(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(il(),Vs=s,Au=s.style.outlineStyle,s.style.outlineStyle="none",Te(window,"keydown",il))}function il(){Vs&&(Vs.style.outlineStyle=Au,Vs=void 0,Au=void 0,rt(window,"keydown",il))}function Sh(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Fi(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var Kr={__proto__:null,TRANSFORM:Os,TRANSITION:br,TRANSITION_END:qr,get:nl,getStyle:ks,create:We,remove:lt,empty:Ls,toFront:Gr,toBack:Wr,hasClass:rl,addClass:xe,removeClass:yt,setClass:Su,getClass:Fs,setOpacity:Dn,testProp:lr,setTransform:hn,setPosition:ft,getPosition:cr,get disableTextSelection(){return So},get enableTextSelection(){return Je},disableImageDrag:Li,enableImageDrag:Du,preventOutline:xu,restoreOutline:il,getSizedParentNode:Sh,getScale:Fi};function Te(s,l,f,p){if(l&&typeof l=="object")for(var y in l)Pu(s,y,l[y],f);else{l=I(l);for(var w=0,P=l.length;w<P;w++)Pu(s,l[w],f,p)}return this}var Hn="_leaflet_events";function rt(s,l,f,p){if(arguments.length===1)Vi(s),delete s[Hn];else if(l&&typeof l=="object")for(var y in l)Ru(s,y,l[y],f);else if(l=I(l),arguments.length===2)Vi(s,function(V){return z(l,V)!==-1});else for(var w=0,P=l.length;w<P;w++)Ru(s,l[w],f,p);return this}function Vi(s,l){for(var f in s[Hn]){var p=f.split(/\d/)[0];(!l||l(p))&&Ru(s,p,null,null,f)}}var Mu={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Pu(s,l,f,p){var y=l+a(f)+(p?"_"+a(p):"");if(s[Hn]&&s[Hn][y])return this;var w=function(V){return f.call(p||s,V||window.event)},P=w;!le.touchNative&&le.pointer&&l.indexOf("touch")===0?w=bu(s,l,w):le.touch&&l==="dblclick"?w=tl(s,w):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(Mu[l]||l,w,le.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(w=function(V){V=V||window.event,Us(s,V)&&P(V)},s.addEventListener(Mu[l],w,!1)):s.addEventListener(l,P,!1):s.attachEvent("on"+l,w),s[Hn]=s[Hn]||{},s[Hn][y]=w}function Ru(s,l,f,p,y){y=y||l+a(f)+(p?"_"+a(p):"");var w=s[Hn]&&s[Hn][y];if(!w)return this;!le.touchNative&&le.pointer&&l.indexOf("touch")===0?el(s,l,w):le.touch&&l==="dblclick"?Ch(s,w):"removeEventListener"in s?s.removeEventListener(Mu[l]||l,w,!1):s.detachEvent("on"+l,w),s[Hn][y]=null}function _n(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Nu(s){return Pu(s,"wheel",_n),this}function Bs(s){return Te(s,"mousedown touchstart dblclick contextmenu",_n),s._leaflet_disable_click=!0,this}function _t(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ur(s){return _t(s),_n(s),this}function Ou(s){if(s.composedPath)return s.composedPath();for(var l=[],f=s.target;f;)l.push(f),f=f.parentNode;return l}function Ao(s,l){if(!l)return new Ie(s.clientX,s.clientY);var f=Fi(l),p=f.boundingClientRect;return new Ie((s.clientX-p.left)/f.x-l.clientLeft,(s.clientY-p.top)/f.y-l.clientTop)}var js=le.linux&&le.chrome?window.devicePixelRatio:le.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ku(s){return le.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/js:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Us(s,l){var f=l.relatedTarget;if(!f)return!0;try{for(;f&&f!==s;)f=f.parentNode}catch{return!1}return f!==s}var pt={__proto__:null,on:Te,off:rt,stopPropagation:_n,disableScrollPropagation:Nu,disableClickPropagation:Bs,preventDefault:_t,stop:ur,getPropagationPath:Ou,getMousePosition:Ao,getWheelDelta:ku,isExternalTarget:Us,addListener:Te,removeListener:rt},Dh=At.extend({run:function(s,l,f,p){this.stop(),this._el=s,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=cr(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,f=this._duration*1e3;l<f?this._runFrame(this._easeOut(l/f),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var f=this._startPos.add(this._offset.multiplyBy(s));l&&f._round(),ft(this._el,f),this.fire("step")},_complete:function(){D(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),ze=At.extend({options:{crs:Eo,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=E(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView($e(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=br&&le.any3d&&!le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,qr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,f){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter($e(s),l,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=n({animate:f.animate},f.zoom),f.pan=n({animate:f.animate,duration:f.duration},f.pan));var p=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,f.zoom):this._tryAnimatedPan(s,f.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,f.pan&&f.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,f){var p=this.getZoomScale(l),y=this.getSize().divideBy(2),w=s instanceof Ie?s:this.latLngToContainerPoint(s),P=w.subtract(y).multiplyBy(1-1/p),V=this.containerPointToLatLng(y.add(P));return this.setView(V,l,{zoom:f})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():Xe(s);var f=Q(l.paddingTopLeft||l.padding||[0,0]),p=Q(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(s,!1,f.add(p));if(y=typeof l.maxZoom=="number"?Math.min(l.maxZoom,y):y,y===1/0)return{center:s.getCenter(),zoom:y};var w=p.subtract(f).divideBy(2),P=this.project(s.getSouthWest(),y),V=this.project(s.getNorthEast(),y),j=this.unproject(P.add(V).divideBy(2).add(w),y);return{center:j,zoom:y}},fitBounds:function(s,l){if(s=Xe(s),!s.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(s,l);return this.setView(f.center,f.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=Q(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Dh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){xe(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,f,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,f){if(f=f||{},f.animate===!1||!le.any3d)return this.setView(s,l,f);this._stop();var p=this.project(this.getCenter()),y=this.project(s),w=this.getSize(),P=this._zoom;s=$e(s),l=l===void 0?P:l;var V=Math.max(w.x,w.y),j=V*this.getZoomScale(P,l),G=y.distanceTo(p)||1,te=1.42,ye=te*te;function Fe(Nt){var qh=Nt?-1:1,Zk=Nt?j:V,Yk=j*j-V*V+qh*ye*ye*G*G,Qk=2*Zk*ye*G,Fy=Yk/Qk,YC=Math.sqrt(Fy*Fy+1)-Fy,Xk=YC<1e-9?-18:Math.log(YC);return Xk}function xn(Nt){return(Math.exp(Nt)-Math.exp(-Nt))/2}function tn(Nt){return(Math.exp(Nt)+Math.exp(-Nt))/2}function dr(Nt){return xn(Nt)/tn(Nt)}var kn=Fe(0);function gl(Nt){return V*(tn(kn)/tn(kn+te*Nt))}function qk(Nt){return V*(tn(kn)*dr(kn+te*Nt)-xn(kn))/ye}function Gk(Nt){return 1-Math.pow(1-Nt,1.5)}var Wk=Date.now(),KC=(Fe(1)-kn)/te,Kk=f.duration?1e3*f.duration:1e3*KC*.8;function ZC(){var Nt=(Date.now()-Wk)/Kk,qh=Gk(Nt)*KC;Nt<=1?(this._flyToFrame=S(ZC,this),this._move(this.unproject(p.add(y.subtract(p).multiplyBy(qk(qh)/G)),P),this.getScaleZoom(V/gl(qh),P),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),ZC.call(this),this},flyToBounds:function(s,l){var f=this._getBoundsCenterZoom(s,l);return this.flyTo(f.center,f.zoom,l)},setMaxBounds:function(s){return s=Xe(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var f=this.getCenter(),p=this._limitCenter(f,this._zoom,Xe(s));return f.equals(p)||this.panTo(p,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var f=Q(l.paddingTopLeft||l.padding||[0,0]),p=Q(l.paddingBottomRight||l.padding||[0,0]),y=this.project(this.getCenter()),w=this.project(s),P=this.getPixelBounds(),V=Qe([P.min.add(f),P.max.subtract(p)]),j=V.getSize();if(!V.contains(w)){this._enforcingBounds=!0;var G=w.subtract(V.getCenter()),te=V.extend(w).getSize().subtract(j);y.x+=G.x<0?-te.x:te.x,y.y+=G.y<0?-te.y:te.y,this.panTo(this.unproject(y),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=n({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),p=l.divideBy(2).round(),y=f.divideBy(2).round(),w=p.subtract(y);return!w.x&&!w.y?this:(s.animate&&s.pan?this.panBy(w):(s.pan&&this._rawPanBy(w),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=n({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=i(this._handleGeolocationResponse,this),f=i(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,f,s):navigator.geolocation.getCurrentPosition(l,f,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,f=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,f=s.coords.longitude,p=new be(l,f),y=p.toBounds(s.coords.accuracy*2),w=this._locateOptions;if(w.setView){var P=this.getBoundsZoom(y);this.setView(p,w.maxZoom?Math.min(P,w.maxZoom):P)}var V={latlng:p,bounds:y,timestamp:s.timestamp};for(var j in s.coords)typeof s.coords[j]=="number"&&(V[j]=s.coords[j]);this.fire("locationfound",V)}},addHandler:function(s,l){if(!l)return this;var f=this[s]=new l(this);return this._handlers.push(f),this.options[s]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(D(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)lt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var f="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),p=We("div",f,l||this._mapPane);return s&&(this._panes[s]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),f=this.unproject(s.getTopRight());return new dt(l,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,f){s=Xe(s),f=Q(f||[0,0]);var p=this.getZoom()||0,y=this.getMinZoom(),w=this.getMaxZoom(),P=s.getNorthWest(),V=s.getSouthEast(),j=this.getSize().subtract(f),G=Qe(this.project(V,p),this.project(P,p)).getSize(),te=le.any3d?this.options.zoomSnap:1,ye=j.x/G.x,Fe=j.y/G.y,xn=l?Math.max(ye,Fe):Math.min(ye,Fe);return p=this.getScaleZoom(xn,p),te&&(p=Math.round(p/(te/100))*(te/100),p=l?Math.ceil(p/te)*te:Math.floor(p/te)*te),Math.max(y,Math.min(w,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ie(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var f=this._getTopLeftPoint(s,l);return new we(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var f=this.options.crs;return l=l===void 0?this._zoom:l,f.scale(s)/f.scale(l)},getScaleZoom:function(s,l){var f=this.options.crs;l=l===void 0?this._zoom:l;var p=f.zoom(s*f.scale(l));return isNaN(p)?1/0:p},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint($e(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(Q(s),l)},layerPointToLatLng:function(s){var l=Q(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project($e(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng($e(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Xe(s))},distance:function(s,l){return this.options.crs.distance($e(s),$e(l))},containerPointToLayerPoint:function(s){return Q(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return Q(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(Q(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint($e(s)))},mouseEventToContainerPoint:function(s){return Ao(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=nl(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Te(l,"scroll",this._onScroll,this),this._containerId=a(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&le.any3d,xe(s,"leaflet-container"+(le.touch?" leaflet-touch":"")+(le.retina?" leaflet-retina":"")+(le.ielt9?" leaflet-oldie":"")+(le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=ks(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ft(this._mapPane,new Ie(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xe(s.markerPane,"leaflet-zoom-hide"),xe(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,f){ft(this._mapPane,new Ie(0,0));var p=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var y=this._zoom!==l;this._moveStart(y,f)._move(s,l)._moveEnd(y),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,f,p){l===void 0&&(l=this._zoom);var y=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),p?f&&f.pinch&&this.fire("zoom",f):((y||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return D(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){ft(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[a(this._container)]=this;var l=s?rt:Te;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),le.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){D(this._resizeRequest),this._resizeRequest=S(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var f=[],p,y=l==="mouseout"||l==="mouseover",w=s.target||s.srcElement,P=!1;w;){if(p=this._targets[a(w)],p&&(l==="click"||l==="preclick")&&this._draggableMoved(p)){P=!0;break}if(p&&p.listens(l,!0)&&(y&&!Us(w,s)||(f.push(p),y))||w===this._container)break;w=w.parentNode}return!f.length&&!P&&!y&&this.listens(l,!0)&&(f=[this]),f},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var f=s.type;f==="mousedown"&&xu(l),this._fireDOMEvent(s,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,f){if(s.type==="click"){var p=n({},s);p.type="preclick",this._fireDOMEvent(p,p.type,f)}var y=this._findEventTargets(s,l);if(f){for(var w=[],P=0;P<f.length;P++)f[P].listens(l,!0)&&w.push(f[P]);y=w.concat(y)}if(y.length){l==="contextmenu"&&_t(s);var V=y[0],j={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var G=V.getLatLng&&(!V._radius||V._radius<=10);j.containerPoint=G?this.latLngToContainerPoint(V.getLatLng()):this.mouseEventToContainerPoint(s),j.layerPoint=this.containerPointToLayerPoint(j.containerPoint),j.latlng=G?V.getLatLng():this.layerPointToLatLng(j.layerPoint)}for(P=0;P<y.length;P++)if(y[P].fire(l,j,!0),j.originalEvent._stopped||y[P].options.bubblingMouseEvents===!1&&z(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return cr(this._mapPane)||new Ie(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var f=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var f=this.getSize()._divideBy(2);return this.project(s,l)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,f){var p=this._getNewPixelOrigin(f,l);return this.project(s,l)._subtract(p)},_latLngBoundsToNewLayerBounds:function(s,l,f){var p=this._getNewPixelOrigin(f,l);return Qe([this.project(s.getSouthWest(),l)._subtract(p),this.project(s.getNorthWest(),l)._subtract(p),this.project(s.getSouthEast(),l)._subtract(p),this.project(s.getNorthEast(),l)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,f){if(!f)return s;var p=this.project(s,l),y=this.getSize().divideBy(2),w=new we(p.subtract(y),p.add(y)),P=this._getBoundsOffset(w,f,l);return Math.abs(P.x)<=1&&Math.abs(P.y)<=1?s:this.unproject(p.add(P),l)},_limitOffset:function(s,l){if(!l)return s;var f=this.getPixelBounds(),p=new we(f.min.add(s),f.max.add(s));return s.add(this._getBoundsOffset(p,l))},_getBoundsOffset:function(s,l,f){var p=Qe(this.project(l.getNorthEast(),f),this.project(l.getSouthWest(),f)),y=p.min.subtract(s.min),w=p.max.subtract(s.max),P=this._rebound(y.x,-w.x),V=this._rebound(y.y,-w.y);return new Ie(P,V)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),f=this.getMaxZoom(),p=le.any3d?this.options.zoomSnap:1;return p&&(s=Math.round(s/p)*p),Math.max(l,Math.min(f,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){yt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var f=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,l),!0)},_createAnimProxy:function(){var s=this._proxy=We("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var f=Os,p=this._proxy.style[f];hn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),p===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();hn(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(l),y=this._getCenterOffset(s)._divideBy(1-1/p);return f.animate!==!0&&!this.getSize().contains(y)?!1:(S(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,f,p){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,xe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&yt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ah(s,l){return new ze(s,l)}var On=O.extend({options:{position:"topright"},initialize:function(s){E(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),f=this.getPosition(),p=s._controlCorners[f];return xe(l,"leaflet-control"),f.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),xo=function(s){return new On(s)};ze.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",f=this._controlContainer=We("div",l+"control-container",this._container);function p(y,w){var P=l+y+" "+l+w;s[y+w]=We("div",P,f)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)lt(this._controlCorners[s]);lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $s=On.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,f,p){return f<p?-1:p<f?1:0}},initialize:function(s,l,f){E(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in s)this._addLayer(s[p],p);for(p in l)this._addLayer(l[p],p,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return On.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(a(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){xe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(xe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):yt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return yt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=We("div",s),f=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Bs(l),Nu(l);var p=this._section=We("section",s+"-list");f&&(this._map.on("click",this.collapse,this),Te(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=We("a",s+"-toggle",l);y.href="#",y.title="Layers",y.setAttribute("role","button"),Te(y,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){_t(w),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=We("div",s+"-base",p),this._separator=We("div",s+"-separator",p),this._overlaysList=We("div",s+"-overlays",p),l.appendChild(p)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&a(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,f){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:f}),this.options.sortLayers&&this._layers.sort(i(function(p,y){return this.options.sortFunction(p.layer,y.layer,p.name,y.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ls(this._baseLayersList),Ls(this._overlaysList),this._layerControlInputs=[];var s,l,f,p,y=0;for(f=0;f<this._layers.length;f++)p=this._layers[f],this._addItem(p),l=l||p.overlay,s=s||!p.overlay,y+=p.overlay?0:1;return this.options.hideSingleBase&&(s=s&&y>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(a(s.target)),f=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;f&&this._map.fire(f,l)},_createRadioElement:function(s,l){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=f,p.firstChild},_addItem:function(s){var l=document.createElement("label"),f=this._map.hasLayer(s.layer),p;s.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=f):p=this._createRadioElement("leaflet-base-layers_"+a(this),f),this._layerControlInputs.push(p),p.layerId=a(s.layer),Te(p,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+s.name;var w=document.createElement("span");l.appendChild(w),w.appendChild(p),w.appendChild(y);var P=s.overlay?this._overlaysList:this._baseLayersList;return P.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,f,p=[],y=[];this._handlingClick=!0;for(var w=s.length-1;w>=0;w--)l=s[w],f=this._getLayer(l.layerId).layer,l.checked?p.push(f):l.checked||y.push(f);for(w=0;w<y.length;w++)this._map.hasLayer(y[w])&&this._map.removeLayer(y[w]);for(w=0;w<p.length;w++)this._map.hasLayer(p[w])||this._map.addLayer(p[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,f,p=this._map.getZoom(),y=s.length-1;y>=0;y--)l=s[y],f=this._getLayer(l.layerId).layer,l.disabled=f.options.minZoom!==void 0&&p<f.options.minZoom||f.options.maxZoom!==void 0&&p>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Te(s,"click",_t),this.expand();var l=this;setTimeout(function(){rt(s,"click",_t),l._preventClick=!1})}}),xh=function(s,l,f){return new $s(s,l,f)},qn=On.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",f=We("div",l+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,l+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,l+"-out",f,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,f,p,y){var w=We("a",f,p);return w.innerHTML=s,w.href="#",w.title=l,w.setAttribute("role","button"),w.setAttribute("aria-label",l),Bs(w),Te(w,"click",ur),Te(w,"click",y,this),Te(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";yt(this._zoomInButton,l),yt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(xe(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(xe(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});ze.mergeOptions({zoomControl:!0}),ze.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qn,this.addControl(this.zoomControl))});var Mh=function(s){return new qn(s)},Ph=On.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",f=We("div",l),p=this.options;return this._addScales(p,l+"-line",f),s.on(p.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),f},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,f){s.metric&&(this._mScale=We("div",l,f)),s.imperial&&(this._iScale=We("div",l,f))},_update:function(){var s=this._map,l=s.getSize().y/2,f=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(f)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),f=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,f,l/s)},_updateImperial:function(s){var l=s*3.2808399,f,p,y;l>5280?(f=l/5280,p=this._getRoundNum(f),this._updateScale(this._iScale,p+" mi",p/f)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(s,l,f){s.style.width=Math.round(this.options.maxWidth*f)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),f=s/l;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,l*f}}),zs=function(s){return new Ph(s)},Rh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Hs=On.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(le.inlineSvg?Rh+" ":"")+"Leaflet</a>"},initialize:function(s){E(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=We("div","leaflet-control-attribution"),Bs(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var f=[];this.options.prefix&&f.push(this.options.prefix),s.length&&f.push(s.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});ze.mergeOptions({attributionControl:!0}),ze.addInitHook(function(){this.options.attributionControl&&new Hs().addTo(this)});var ol=function(s){return new Hs(s)};On.Layers=$s,On.Zoom=qn,On.Scale=Ph,On.Attribution=Hs,xo.layers=xh,xo.zoom=Mh,xo.scale=zs,xo.attribution=ol;var Gn=O.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gn.addTo=function(s,l){return s.addHandler(l,this),this};var sl={Events:Ge},Nh=le.touch?"touchstart mousedown":"mousedown",Cr=At.extend({options:{clickTolerance:3},initialize:function(s,l,f,p){E(this,p),this._element=s,this._dragStartTarget=l||s,this._preventOutline=f},enable:function(){this._enabled||(Te(this._dragStartTarget,Nh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Cr._dragging===this&&this.finishDrag(!0),rt(this._dragStartTarget,Nh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!rl(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Cr._dragging===this&&this.finishDrag();return}if(!(Cr._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Cr._dragging=this,this._preventOutline&&xu(this._element),Li(),So(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,f=Sh(this._element);this._startPoint=new Ie(l.clientX,l.clientY),this._startPos=cr(this._element),this._parentScale=Fi(f);var p=s.type==="mousedown";Te(document,p?"mousemove":"touchmove",this._onMove,this),Te(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,f=new Ie(l.clientX,l.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,_t(s),this._moved||(this.fire("dragstart"),this._moved=!0,xe(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),ft(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){yt(document.body,"leaflet-dragging"),this._lastTarget&&(yt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),rt(document,"mousemove touchmove",this._onMove,this),rt(document,"mouseup touchend touchcancel",this._onUp,this),Du(),Je();var l=this._moved&&this._moving;this._moving=!1,Cr._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Mo(s,l,f){var p,y=[1,4,2,8],w,P,V,j,G,te,ye,Fe;for(w=0,te=s.length;w<te;w++)s[w]._code=Zr(s[w],l);for(V=0;V<4;V++){for(ye=y[V],p=[],w=0,te=s.length,P=te-1;w<te;P=w++)j=s[w],G=s[P],j._code&ye?G._code&ye||(Fe=qs(G,j,ye,l,f),Fe._code=Zr(Fe,l),p.push(Fe)):(G._code&ye&&(Fe=qs(G,j,ye,l,f),Fe._code=Zr(Fe,l),p.push(Fe)),p.push(j));s=p}return s}function Lu(s,l){var f,p,y,w,P,V,j,G,te;if(!s||s.length===0)throw new Error("latlngs not passed");An(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ye=$e([0,0]),Fe=Xe(s),xn=Fe.getNorthWest().distanceTo(Fe.getSouthWest())*Fe.getNorthEast().distanceTo(Fe.getNorthWest());xn<1700&&(ye=al(s));var tn=s.length,dr=[];for(f=0;f<tn;f++){var kn=$e(s[f]);dr.push(l.project($e([kn.lat-ye.lat,kn.lng-ye.lng])))}for(V=j=G=0,f=0,p=tn-1;f<tn;p=f++)y=dr[f],w=dr[p],P=y.y*w.x-w.y*y.x,j+=(y.x+w.x)*P,G+=(y.y+w.y)*P,V+=P*3;V===0?te=dr[0]:te=[j/V,G/V];var gl=l.unproject(Q(te));return $e([gl.lat+ye.lat,gl.lng+ye.lng])}function al(s){for(var l=0,f=0,p=0,y=0;y<s.length;y++){var w=$e(s[y]);l+=w.lat,f+=w.lng,p++}return $e([l/p,f/p])}var Fu={__proto__:null,clipPolygon:Mo,polygonCenter:Lu,centroid:al};function ll(s,l){if(!l||!s.length)return s.slice();var f=l*l;return s=Bi(s,f),s=Oh(s,f),s}function Vu(s,l,f){return Math.sqrt(Ht(s,l,f,!0))}function cl(s,l,f){return Ht(s,l,f)}function Oh(s,l){var f=s.length,p=typeof Uint8Array<"u"?Uint8Array:Array,y=new p(f);y[0]=y[f-1]=1,ul(s,y,l,0,f-1);var w,P=[];for(w=0;w<f;w++)y[w]&&P.push(s[w]);return P}function ul(s,l,f,p,y){var w=0,P,V,j;for(V=p+1;V<=y-1;V++)j=Ht(s[V],s[p],s[y],!0),j>w&&(P=V,w=j);w>f&&(l[P]=1,ul(s,l,f,p,P),ul(s,l,f,P,y))}function Bi(s,l){for(var f=[s[0]],p=1,y=0,w=s.length;p<w;p++)dl(s[p],s[y])>l&&(f.push(s[p]),y=p);return y<w-1&&f.push(s[w-1]),f}var Bu;function ju(s,l,f,p,y){var w=p?Bu:Zr(s,f),P=Zr(l,f),V,j,G;for(Bu=P;;){if(!(w|P))return[s,l];if(w&P)return!1;V=w||P,j=qs(s,l,V,f,y),G=Zr(j,f),V===w?(s=j,w=G):(l=j,P=G)}}function qs(s,l,f,p,y){var w=l.x-s.x,P=l.y-s.y,V=p.min,j=p.max,G,te;return f&8?(G=s.x+w*(j.y-s.y)/P,te=j.y):f&4?(G=s.x+w*(V.y-s.y)/P,te=V.y):f&2?(G=j.x,te=s.y+P*(j.x-s.x)/w):f&1&&(G=V.x,te=s.y+P*(V.x-s.x)/w),new Ie(G,te,y)}function Zr(s,l){var f=0;return s.x<l.min.x?f|=1:s.x>l.max.x&&(f|=2),s.y<l.min.y?f|=4:s.y>l.max.y&&(f|=8),f}function dl(s,l){var f=l.x-s.x,p=l.y-s.y;return f*f+p*p}function Ht(s,l,f,p){var y=l.x,w=l.y,P=f.x-y,V=f.y-w,j=P*P+V*V,G;return j>0&&(G=((s.x-y)*P+(s.y-w)*V)/j,G>1?(y=f.x,w=f.y):G>0&&(y+=P*G,w+=V*G)),P=s.x-y,V=s.y-w,p?P*P+V*V:new Ie(y,w)}function An(s){return!B(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Uu(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),An(s)}function ji(s,l){var f,p,y,w,P,V,j,G;if(!s||s.length===0)throw new Error("latlngs not passed");An(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var te=$e([0,0]),ye=Xe(s),Fe=ye.getNorthWest().distanceTo(ye.getSouthWest())*ye.getNorthEast().distanceTo(ye.getNorthWest());Fe<1700&&(te=al(s));var xn=s.length,tn=[];for(f=0;f<xn;f++){var dr=$e(s[f]);tn.push(l.project($e([dr.lat-te.lat,dr.lng-te.lng])))}for(f=0,p=0;f<xn-1;f++)p+=tn[f].distanceTo(tn[f+1])/2;if(p===0)G=tn[0];else for(f=0,w=0;f<xn-1;f++)if(P=tn[f],V=tn[f+1],y=P.distanceTo(V),w+=y,w>p){j=(w-p)/y,G=[V.x-j*(V.x-P.x),V.y-j*(V.y-P.y)];break}var kn=l.unproject(Q(G));return $e([kn.lat+te.lat,kn.lng+te.lng])}var d={__proto__:null,simplify:ll,pointToSegmentDistance:Vu,closestPointOnSegment:cl,clipSegment:ju,_getEdgeIntersection:qs,_getBitCode:Zr,_sqClosestPointOnSegment:Ht,isFlat:An,_flat:Uu,polylineCenter:ji},g={project:function(s){return new Ie(s.lng,s.lat)},unproject:function(s){return new be(s.y,s.x)},bounds:new we([-180,-90],[180,90])},_={R:6378137,R_MINOR:6356752314245179e-9,bounds:new we([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,f=this.R,p=s.lat*l,y=this.R_MINOR/f,w=Math.sqrt(1-y*y),P=w*Math.sin(p),V=Math.tan(Math.PI/4-p/2)/Math.pow((1-P)/(1+P),w/2);return p=-f*Math.log(Math.max(V,1e-10)),new Ie(s.lng*l*f,p)},unproject:function(s){for(var l=180/Math.PI,f=this.R,p=this.R_MINOR/f,y=Math.sqrt(1-p*p),w=Math.exp(-s.y/f),P=Math.PI/2-2*Math.atan(w),V=0,j=.1,G;V<15&&Math.abs(j)>1e-7;V++)G=y*Math.sin(P),G=Math.pow((1-G)/(1+G),y/2),j=Math.PI/2-2*Math.atan(w*G)-P,P+=j;return new be(P*l,s.x*l/f)}},b={__proto__:null,LonLat:g,Mercator:_,SphericalMercator:du},F=n({},$r,{code:"EPSG:3395",projection:_,transformation:(function(){var s=.5/(Math.PI*_.R);return zr(s,.5,-s,.5)})()}),U=n({},$r,{code:"EPSG:4326",projection:g,transformation:zr(1/180,1,-1/180,.5)}),X=n({},Sn,{projection:g,transformation:zr(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var f=l.lng-s.lng,p=l.lat-s.lat;return Math.sqrt(f*f+p*p)},infinite:!0});Sn.Earth=$r,Sn.EPSG3395=F,Sn.EPSG3857=Eo,Sn.EPSG900913=hu,Sn.EPSG4326=U,Sn.Simple=X;var ke=At.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[a(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[a(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var f=this.getEvents();l.on(f,this),this.once("remove",function(){l.off(f,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});ze.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=a(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=a(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return a(s)in this._layers},eachLayer:function(s,l){for(var f in this._layers)s.call(l,this._layers[f]);return this},_addLayers:function(s){s=s?B(s)?s:[s]:[];for(var l=0,f=s.length;l<f;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[a(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=a(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,f=this._getZoomSpan();for(var p in this._zoomBoundLayers){var y=this._zoomBoundLayers[p].options;s=y.minZoom===void 0?s:Math.min(s,y.minZoom),l=y.maxZoom===void 0?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var mt=ke.extend({initialize:function(s,l){E(this,l),this._layers={};var f,p;if(s)for(f=0,p=s.length;f<p;f++)this.addLayer(s[f])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),f,p;for(f in this._layers)p=this._layers[f],p[s]&&p[s].apply(p,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var f in this._layers)s.call(l,this._layers[f]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return a(s)}}),Ke=function(s,l){return new mt(s,l)},ct=mt.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),mt.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),mt.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new dt;for(var l in this._layers){var f=this._layers[l];s.extend(f.getBounds?f.getBounds():f.getLatLng())}return s}}),en=function(s,l){return new ct(s,l)},Wn=O.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){E(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var f=this._getIconUrl(s);if(!f){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(f,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(p,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(s,l){var f=this.options,p=f[l+"Size"];typeof p=="number"&&(p=[p,p]);var y=Q(p),w=Q(l==="shadow"&&f.shadowAnchor||f.iconAnchor||y&&y.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(f.className||""),w&&(s.style.marginLeft=-w.x+"px",s.style.marginTop=-w.y+"px"),y&&(s.style.width=y.x+"px",s.style.height=y.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return le.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Kn(s){return new Wn(s)}var Yr=Wn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Yr.imagePath!="string"&&(Yr.imagePath=this._detectIconPath()),(this.options.imagePath||Yr.imagePath)+Wn.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(f,p,y){var w=p.exec(f);return w&&w[y]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=We("div","leaflet-default-icon-path",document.body),l=ks(s,"background-image")||ks(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),fl=Gn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Cr(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xe(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&yt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,f=l._map,p=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,w=cr(l._icon),P=f.getPixelBounds(),V=f.getPixelOrigin(),j=Qe(P.min._subtract(V).add(y),P.max._subtract(V).subtract(y));if(!j.contains(w)){var G=Q((Math.max(j.max.x,w.x)-j.max.x)/(P.max.x-j.max.x)-(Math.min(j.min.x,w.x)-j.min.x)/(P.min.x-j.min.x),(Math.max(j.max.y,w.y)-j.max.y)/(P.max.y-j.max.y)-(Math.min(j.min.y,w.y)-j.min.y)/(P.min.y-j.min.y)).multiplyBy(p);f.panBy(G,{animate:!1}),this._draggable._newPos._add(G),this._draggable._startPos._add(G),ft(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=S(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(D(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,f=l._shadow,p=cr(l._icon),y=l._map.layerPointToLatLng(p);f&&ft(f,p),l._latlng=y,s.latlng=y,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){D(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),kh=ke.extend({options:{icon:new Yr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){E(this,l),this._latlng=$e(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=$e(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=s.icon.createIcon(this._icon),p=!1;f!==this._icon&&(this._icon&&this._removeIcon(),p=!0,s.title&&(f.title=s.title),f.tagName==="IMG"&&(f.alt=s.alt||"")),xe(f,l),s.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(f,"focus",this._panOnFocus,this);var y=s.icon.createShadow(this._shadow),w=!1;y!==this._shadow&&(this._removeShadow(),w=!0),y&&(xe(y,l),y.alt=""),this._shadow=y,s.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&w&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&rt(this._icon,"focus",this._panOnFocus,this),lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&lt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&ft(this._icon,s),this._shadow&&ft(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(xe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),fl)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new fl(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Dn(this._icon,s),this._shadow&&Dn(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,f=l.iconSize?Q(l.iconSize):Q(0,0),p=l.iconAnchor?Q(l.iconAnchor):Q(0,0);s.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:f.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Dk(s,l){return new kh(s,l)}var Po=ke.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return E(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Lh=Po.extend({options:{fill:!0,radius:10},initialize:function(s,l){E(this,l),this._latlng=$e(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=$e(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Po.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,f=this._clickTolerance(),p=[s+f,l+f];this._pxBounds=new we(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ak(s,l){return new Lh(s,l)}var Ny=Lh.extend({initialize:function(s,l,f){if(typeof l=="number"&&(l=n({},f,{radius:l})),E(this,l),this._latlng=$e(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new dt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Po.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,f=this._map,p=f.options.crs;if(p.distance===$r.distance){var y=Math.PI/180,w=this._mRadius/$r.R/y,P=f.project([l+w,s]),V=f.project([l-w,s]),j=P.add(V).divideBy(2),G=f.unproject(j).lat,te=Math.acos((Math.cos(w*y)-Math.sin(l*y)*Math.sin(G*y))/(Math.cos(l*y)*Math.cos(G*y)))/y;(isNaN(te)||te===0)&&(te=w/Math.cos(Math.PI/180*l)),this._point=j.subtract(f.getPixelOrigin()),this._radius=isNaN(te)?0:j.x-f.project([G,s-te]).x,this._radiusY=j.y-P.y}else{var ye=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(ye).x}this._updateBounds()}});function xk(s,l,f){return new Ny(s,l,f)}var Ui=Po.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){E(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,f=null,p=Ht,y,w,P=0,V=this._parts.length;P<V;P++)for(var j=this._parts[P],G=1,te=j.length;G<te;G++){y=j[G-1],w=j[G];var ye=p(s,y,w,!0);ye<l&&(l=ye,f=p(s,y,w))}return f&&(f.distance=Math.sqrt(l)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ji(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=$e(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new dt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return An(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],f=An(s),p=0,y=s.length;p<y;p++)f?(l[p]=$e(s[p]),this._bounds.extend(l[p])):l[p]=this._convertLatLngs(s[p]);return l},_project:function(){var s=new we;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new Ie(s,s);this._rawPxBounds&&(this._pxBounds=new we([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,f){var p=s[0]instanceof be,y=s.length,w,P;if(p){for(P=[],w=0;w<y;w++)P[w]=this._map.latLngToLayerPoint(s[w]),f.extend(P[w]);l.push(P)}else for(w=0;w<y;w++)this._projectLatlngs(s[w],l,f)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,f,p,y,w,P,V,j;for(f=0,y=0,w=this._rings.length;f<w;f++)for(j=this._rings[f],p=0,P=j.length;p<P-1;p++)V=ju(j[p],j[p+1],s,p,!0),V&&(l[y]=l[y]||[],l[y].push(V[0]),(V[1]!==j[p+1]||p===P-2)&&(l[y].push(V[1]),y++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,f=0,p=s.length;f<p;f++)s[f]=ll(s[f],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var f,p,y,w,P,V,j=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(f=0,w=this._parts.length;f<w;f++)for(V=this._parts[f],p=0,P=V.length,y=P-1;p<P;y=p++)if(!(!l&&p===0)&&Vu(s,V[y],V[p])<=j)return!0;return!1}});function Mk(s,l){return new Ui(s,l)}Ui._flat=Uu;var hl=Ui.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Ui.prototype._convertLatLngs.call(this,s),f=l.length;return f>=2&&l[0]instanceof be&&l[0].equals(l[f-1])&&l.pop(),l},_setLatLngs:function(s){Ui.prototype._setLatLngs.call(this,s),An(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return An(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,f=new Ie(l,l);if(s=new we(s.min.subtract(f),s.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,y=this._rings.length,w;p<y;p++)w=Mo(this._rings[p],s,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,f,p,y,w,P,V,j,G;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(w=0,j=this._parts.length;w<j;w++)for(f=this._parts[w],P=0,G=f.length,V=G-1;P<G;V=P++)p=f[P],y=f[V],p.y>s.y!=y.y>s.y&&s.x<(y.x-p.x)*(s.y-p.y)/(y.y-p.y)+p.x&&(l=!l);return l||Ui.prototype._containsPoint.call(this,s,!0)}});function Pk(s,l){return new hl(s,l)}var $i=ct.extend({initialize:function(s,l){E(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=B(s)?s:s.features,f,p,y;if(l){for(f=0,p=l.length;f<p;f++)y=l[f],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var w=this.options;if(w.filter&&!w.filter(s))return this;var P=Fh(s,w);return P?(P.feature=jh(s),P.defaultOptions=P.options,this.resetStyle(P),w.onEachFeature&&w.onEachFeature(s,P),this.addLayer(P)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=n({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Fh(s,l){var f=s.type==="Feature"?s.geometry:s,p=f?f.coordinates:null,y=[],w=l&&l.pointToLayer,P=l&&l.coordsToLatLng||Oy,V,j,G,te;if(!p&&!f)return null;switch(f.type){case"Point":return V=P(p),MC(w,s,V,l);case"MultiPoint":for(G=0,te=p.length;G<te;G++)V=P(p[G]),y.push(MC(w,s,V,l));return new ct(y);case"LineString":case"MultiLineString":return j=Vh(p,f.type==="LineString"?0:1,P),new Ui(j,l);case"Polygon":case"MultiPolygon":return j=Vh(p,f.type==="Polygon"?1:2,P),new hl(j,l);case"GeometryCollection":for(G=0,te=f.geometries.length;G<te;G++){var ye=Fh({geometry:f.geometries[G],type:"Feature",properties:s.properties},l);ye&&y.push(ye)}return new ct(y);case"FeatureCollection":for(G=0,te=f.features.length;G<te;G++){var Fe=Fh(f.features[G],l);Fe&&y.push(Fe)}return new ct(y);default:throw new Error("Invalid GeoJSON object.")}}function MC(s,l,f,p){return s?s(l,f):new kh(f,p&&p.markersInheritOptions&&p)}function Oy(s){return new be(s[1],s[0],s[2])}function Vh(s,l,f){for(var p=[],y=0,w=s.length,P;y<w;y++)P=l?Vh(s[y],l-1,f):(f||Oy)(s[y]),p.push(P);return p}function ky(s,l){return s=$e(s),s.alt!==void 0?[m(s.lng,l),m(s.lat,l),m(s.alt,l)]:[m(s.lng,l),m(s.lat,l)]}function Bh(s,l,f,p){for(var y=[],w=0,P=s.length;w<P;w++)y.push(l?Bh(s[w],An(s[w])?0:l-1,f,p):ky(s[w],p));return!l&&f&&y.length>0&&y.push(y[0].slice()),y}function pl(s,l){return s.feature?n({},s.feature,{geometry:l}):jh(l)}function jh(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Ly={toGeoJSON:function(s){return pl(this,{type:"Point",coordinates:ky(this.getLatLng(),s)})}};kh.include(Ly),Ny.include(Ly),Lh.include(Ly),Ui.include({toGeoJSON:function(s){var l=!An(this._latlngs),f=Bh(this._latlngs,l?1:0,!1,s);return pl(this,{type:(l?"Multi":"")+"LineString",coordinates:f})}}),hl.include({toGeoJSON:function(s){var l=!An(this._latlngs),f=l&&!An(this._latlngs[0]),p=Bh(this._latlngs,f?2:l?1:0,!0,s);return l||(p=[p]),pl(this,{type:(f?"Multi":"")+"Polygon",coordinates:p})}}),mt.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(f){l.push(f.toGeoJSON(s).geometry.coordinates)}),pl(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var f=l==="GeometryCollection",p=[];return this.eachLayer(function(y){if(y.toGeoJSON){var w=y.toGeoJSON(s);if(f)p.push(w.geometry);else{var P=jh(w);P.type==="FeatureCollection"?p.push.apply(p,P.features):p.push(P)}}}),f?pl(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function PC(s,l){return new $i(s,l)}var Rk=PC,Uh=ke.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,f){this._url=s,this._bounds=Xe(l),E(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Gr(this._image),this},bringToBack:function(){return this._map&&Wr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Xe(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:We("img");if(xe(l,"leaflet-image-layer"),this._zoomAnimated&&xe(l,"leaflet-zoom-animated"),this.options.className&&xe(l,this.options.className),l.onselectstart=h,l.onmousemove=h,l.onload=i(this.fire,this,"load"),l.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;hn(this._image,f,l)},_reset:function(){var s=this._image,l=new we(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=l.getSize();ft(s,l.min),s.style.width=f.x+"px",s.style.height=f.y+"px"},_updateOpacity:function(){Dn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Nk=function(s,l,f){return new Uh(s,l,f)},RC=Uh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:We("video");if(xe(l,"leaflet-image-layer"),this._zoomAnimated&&xe(l,"leaflet-zoom-animated"),this.options.className&&xe(l,this.options.className),l.onselectstart=h,l.onmousemove=h,l.onloadeddata=i(this.fire,this,"load"),s){for(var f=l.getElementsByTagName("source"),p=[],y=0;y<f.length;y++)p.push(f[y].src);this._url=f.length>0?p:[l.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var P=We("source");P.src=this._url[w],l.appendChild(P)}}});function Ok(s,l,f){return new RC(s,l,f)}var NC=Uh.extend({_initImage:function(){var s=this._image=this._url;xe(s,"leaflet-image-layer"),this._zoomAnimated&&xe(s,"leaflet-zoom-animated"),this.options.className&&xe(s,this.options.className),s.onselectstart=h,s.onmousemove=h}});function kk(s,l,f){return new NC(s,l,f)}var Qr=ke.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof be||B(s))?(this._latlng=$e(s),E(this,l)):(E(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Dn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Dn(this._container,1),this.bringToFront(),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Dn(this._container,0),this._removeTimeout=setTimeout(i(lt,void 0,this._container),200)):lt(this._container),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=$e(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Gr(this._container),this},bringToBack:function(){return this._map&&Wr(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof ct){l=null;var f=this._source._layers;for(var p in f)if(f[p]._map){l=f[p];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=Q(this.options.offset),f=this._getAnchor();this._zoomAnimated?ft(this._container,s.add(f)):l=l.add(s).add(f);var p=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=p+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});ze.include({_initOverlay:function(s,l,f,p){var y=l;return y instanceof s||(y=new s(p).setContent(l)),f&&y.setLatLng(f),y}}),ke.include({_initOverlay:function(s,l,f,p){var y=f;return y instanceof s?(E(y,p),y._source=this):(y=l&&!p?l:new s(p,this),y.setContent(f)),y}});var $h=Qr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Qr.prototype.openOn.call(this,s)},onAdd:function(s){Qr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Po||this._source.on("preclick",_n))},onRemove:function(s){Qr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Po||this._source.off("preclick",_n))},getEvents:function(){var s=Qr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=We("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=We("div",s+"-content-wrapper",l);if(this._contentNode=We("div",s+"-content",f),Bs(l),Nu(this._contentNode),Te(l,"contextmenu",_n),this._tipContainer=We("div",s+"-tip-container",l),this._tip=We("div",s+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=We("a",s+"-close-button",l);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',Te(p,"click",function(y){_t(y),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var f=s.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),l.width=f+1+"px",l.whiteSpace="",l.height="";var p=s.offsetHeight,y=this.options.maxHeight,w="leaflet-popup-scrolled";y&&p>y?(l.height=y+"px",xe(s,w)):yt(s,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),f=this._getAnchor();ft(this._container,l.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(ks(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+l,p=this._containerWidth,y=new Ie(this._containerLeft,-f-this._containerBottom);y._add(cr(this._container));var w=s.layerPointToContainerPoint(y),P=Q(this.options.autoPanPadding),V=Q(this.options.autoPanPaddingTopLeft||P),j=Q(this.options.autoPanPaddingBottomRight||P),G=s.getSize(),te=0,ye=0;w.x+p+j.x>G.x&&(te=w.x+p-G.x+j.x),w.x-te-V.x<0&&(te=w.x-V.x),w.y+f+j.y>G.y&&(ye=w.y+f-G.y+j.y),w.y-ye-V.y<0&&(ye=w.y-V.y),(te||ye)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([te,ye]))}},_getAnchor:function(){return Q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Lk=function(s,l){return new $h(s,l)};ze.mergeOptions({closePopupOnClick:!0}),ze.include({openPopup:function(s,l,f){return this._initOverlay($h,s,l,f).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),ke.include({bindPopup:function(s,l){return this._popup=this._initOverlay($h,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof ct||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ur(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof Po)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var zh=Qr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Qr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Qr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Qr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=We("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,f,p=this._map,y=this._container,w=p.latLngToContainerPoint(p.getCenter()),P=p.layerPointToContainerPoint(s),V=this.options.direction,j=y.offsetWidth,G=y.offsetHeight,te=Q(this.options.offset),ye=this._getAnchor();V==="top"?(l=j/2,f=G):V==="bottom"?(l=j/2,f=0):V==="center"?(l=j/2,f=G/2):V==="right"?(l=0,f=G/2):V==="left"?(l=j,f=G/2):P.x<w.x?(V="right",l=0,f=G/2):(V="left",l=j+(te.x+ye.x)*2,f=G/2),s=s.subtract(Q(l,f,!0)).add(te).add(ye),yt(y,"leaflet-tooltip-right"),yt(y,"leaflet-tooltip-left"),yt(y,"leaflet-tooltip-top"),yt(y,"leaflet-tooltip-bottom"),xe(y,"leaflet-tooltip-"+V),ft(y,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Dn(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return Q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Fk=function(s,l){return new zh(s,l)};ze.include({openTooltip:function(s,l,f){return this._initOverlay(zh,s,l,f).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),ke.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(zh,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[l](f),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof ct||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(Te(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Te(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,f,p;this._tooltip.options.sticky&&s.originalEvent&&(f=this._map.mouseEventToContainerPoint(s.originalEvent),p=this._map.containerPointToLayerPoint(f),l=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(l)}});var OC=Wn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Ls(l),l.appendChild(f.html)):l.innerHTML=f.html!==!1?f.html:"",f.bgPos){var p=Q(f.bgPos);l.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Vk(s){return new OC(s)}Wn.Default=Yr;var $u=ke.extend({options:{tileSize:256,opacity:1,updateWhenIdle:le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){E(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),lt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Gr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Wr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof Ie?s:new Ie(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,f=-s(-1/0,1/0),p=0,y=l.length,w;p<y;p++)w=l[p].style.zIndex,l[p]!==this._container&&w&&(f=s(f,+w));isFinite(f)&&(this.options.zIndex=f+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!le.ielt9){Dn(this._container,this.options.opacity);var s=+new Date,l=!1,f=!1;for(var p in this._tiles){var y=this._tiles[p];if(!(!y.current||!y.loaded)){var w=Math.min(1,(s-y.loaded)/200);Dn(y.el,w),w<1?l=!0:(y.active?f=!0:this._onOpaqueTile(y),y.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),l&&(D(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=We("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===s?(this._levels[f].el.style.zIndex=l-Math.abs(s-f),this._onUpdateLevel(f)):(lt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var p=this._levels[s],y=this._map;return p||(p=this._levels[s]={},p.el=We("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=l,p.origin=y.project(y.unproject(y.getPixelOrigin()),s).round(),p.zoom=s,this._setZoomTransform(p,y.getCenter(),y.getZoom()),h(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var s,l,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var p=l.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)lt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,f,p){var y=Math.floor(s/2),w=Math.floor(l/2),P=f-1,V=new Ie(+y,+w);V.z=+P;var j=this._tileCoordsToKey(V),G=this._tiles[j];return G&&G.active?(G.retain=!0,!0):(G&&G.loaded&&(G.retain=!0),P>p?this._retainParent(y,w,P,p):!1)},_retainChildren:function(s,l,f,p){for(var y=2*s;y<2*s+2;y++)for(var w=2*l;w<2*l+2;w++){var P=new Ie(y,w);P.z=f+1;var V=this._tileCoordsToKey(P),j=this._tiles[V];if(j&&j.active){j.retain=!0;continue}else j&&j.loaded&&(j.retain=!0);f+1<p&&this._retainChildren(y,w,f+1,p)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,f,p){var y=Math.round(l);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var w=this.options.updateWhenZooming&&y!==this._tileZoom;(!p||w)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(s),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var f in this._levels)this._setZoomTransform(this._levels[f],s,l)},_setZoomTransform:function(s,l,f){var p=this._map.getZoomScale(f,s.zoom),y=s.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(l,f)).round();le.any3d?hn(s.el,y,p):ft(s.el,y)},_resetGrid:function(){var s=this._map,l=s.options.crs,f=this._tileSize=this.getTileSize(),p=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],p).x/f.x),Math.ceil(s.project([0,l.wrapLng[1]],p).x/f.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],p).y/f.x),Math.ceil(s.project([l.wrapLat[1],0],p).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,f=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),p=l.getZoomScale(f,this._tileZoom),y=l.project(s,this._tileZoom).floor(),w=l.getSize().divideBy(p*2);return new we(y.subtract(w),y.add(w))},_update:function(s){var l=this._map;if(l){var f=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(s),y=this._pxBoundsToTileRange(p),w=y.getCenter(),P=[],V=this.options.keepBuffer,j=new we(y.getBottomLeft().subtract([V,-V]),y.getTopRight().add([V,-V]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var G in this._tiles){var te=this._tiles[G].coords;(te.z!==this._tileZoom||!j.contains(new Ie(te.x,te.y)))&&(this._tiles[G].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(s,f);return}for(var ye=y.min.y;ye<=y.max.y;ye++)for(var Fe=y.min.x;Fe<=y.max.x;Fe++){var xn=new Ie(Fe,ye);if(xn.z=this._tileZoom,!!this._isValidTile(xn)){var tn=this._tiles[this._tileCoordsToKey(xn)];tn?tn.current=!0:P.push(xn)}}if(P.sort(function(kn,gl){return kn.distanceTo(w)-gl.distanceTo(w)}),P.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var dr=document.createDocumentFragment();for(Fe=0;Fe<P.length;Fe++)this._addTile(P[Fe],dr);this._level.el.appendChild(dr)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var f=this._globalTileRange;if(!l.wrapLng&&(s.x<f.min.x||s.x>f.max.x)||!l.wrapLat&&(s.y<f.min.y||s.y>f.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(s);return Xe(this.options.bounds).overlaps(p)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,f=this.getTileSize(),p=s.scaleBy(f),y=p.add(f),w=l.unproject(p,s.z),P=l.unproject(y,s.z);return[w,P]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),f=new dt(l[0],l[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),f=new Ie(+l[0],+l[1]);return f.z=+l[2],f},_removeTile:function(s){var l=this._tiles[s];l&&(lt(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){xe(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=h,s.onmousemove=h,le.ielt9&&this.options.opacity<1&&Dn(s,this.options.opacity)},_addTile:function(s,l){var f=this._getTilePos(s),p=this._tileCoordsToKey(s),y=this.createTile(this._wrapCoords(s),i(this._tileReady,this,s));this._initTile(y),this.createTile.length<2&&S(i(this._tileReady,this,s,null,y)),ft(y,f),this._tiles[p]={el:y,coords:s,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:s})},_tileReady:function(s,l,f){l&&this.fire("tileerror",{error:l,tile:f,coords:s});var p=this._tileCoordsToKey(s);f=this._tiles[p],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Dn(f.el,0),D(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),l||(xe(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),le.ielt9||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new Ie(this._wrapX?u(s.x,this._wrapX):s.x,this._wrapY?u(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new we(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Bk(s){return new $u(s)}var ml=$u.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=E(this,l),l.detectRetina&&le.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var f=document.createElement("img");return Te(f,"load",i(this._tileOnLoad,this,l,f)),Te(f,"error",i(this._tileOnError,this,l,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(s),f},getTileUrl:function(s){var l={r:le.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=f),l["-y"]=f}return k(this._url,n(l,this.options))},_tileOnLoad:function(s,l){le.ielt9?setTimeout(i(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,f){var p=this.options.errorTileUrl;p&&l.getAttribute("src")!==p&&(l.src=p),s(f,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,f=this.options.zoomReverse,p=this.options.zoomOffset;return f&&(s=l-s),s+p},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=h,l.onerror=h,!l.complete)){l.src=H;var f=this._tiles[s].coords;lt(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:f})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",H),$u.prototype._removeTile.call(this,s)},_tileReady:function(s,l,f){if(!(!this._map||f&&f.getAttribute("src")===H))return $u.prototype._tileReady.call(this,s,l,f)}});function kC(s,l){return new ml(s,l)}var LC=ml.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var f=n({},this.defaultWmsParams);for(var p in l)p in this.options||(f[p]=l[p]);l=E(this,l);var y=l.detectRetina&&le.retina?2:1,w=this.getTileSize();f.width=w.x*y,f.height=w.y*y,this.wmsParams=f},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,ml.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),f=this._crs,p=Qe(f.project(l[0]),f.project(l[1])),y=p.min,w=p.max,P=(this._wmsVersion>=1.3&&this._crs===U?[y.y,y.x,w.y,w.x]:[y.x,y.y,w.x,w.y]).join(","),V=ml.prototype.getTileUrl.call(this,s);return V+C(this.wmsParams,V,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+P},setParams:function(s,l){return n(this.wmsParams,s),l||this.redraw(),this}});function jk(s,l){return new LC(s,l)}ml.WMS=LC,kC.wms=jk;var zi=ke.extend({options:{padding:.1},initialize:function(s){E(this,s),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var f=this._map.getZoomScale(l,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,l),w=p.multiplyBy(-f).add(y).subtract(this._map._getNewPixelOrigin(s,l));le.any3d?hn(this._container,w,f):ft(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),f=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new we(f,f.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),FC=zi.extend({options:{tolerance:0},getEvents:function(){var s=zi.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Te(s,"mousemove",this._onMouseMove,this),Te(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){D(this._redrawRequest),delete this._ctx,lt(this._container),rt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zi.prototype._update.call(this);var s=this._bounds,l=this._container,f=s.getSize(),p=le.retina?2:1;ft(l,s.min),l.width=p*f.x,l.height=p*f.y,l.style.width=f.x+"px",l.style.height=f.y+"px",le.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){zi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[a(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,f=l.next,p=l.prev;f?f.prev=p:this._drawLast=p,p?p.next=f:this._drawFirst=f,delete s._order,delete this._layers[a(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),f=[],p,y;for(y=0;y<l.length;y++){if(p=Number(l[y]),isNaN(p))return;f.push(p)}s.options._dashArray=f}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new we,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var f=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)s=p.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var f,p,y,w,P=s._parts,V=P.length,j=this._ctx;if(V){for(j.beginPath(),f=0;f<V;f++){for(p=0,y=P[f].length;p<y;p++)w=P[f][p],j[p?"lineTo":"moveTo"](w.x,w.y);l&&j.closePath()}this._fillStroke(j,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,f=this._ctx,p=Math.max(Math.round(s._radius),1),y=(Math.max(Math.round(s._radiusY),1)||p)/p;y!==1&&(f.save(),f.scale(1,y)),f.beginPath(),f.arc(l.x,l.y/y,p,0,Math.PI*2,!1),y!==1&&f.restore(),this._fillStroke(f,s)}},_fillStroke:function(s,l){var f=l.options;f.fill&&(s.globalAlpha=f.fillOpacity,s.fillStyle=f.fillColor||f.color,s.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=f.opacity,s.lineWidth=f.weight,s.strokeStyle=f.color,s.lineCap=f.lineCap,s.lineJoin=f.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),f,p,y=this._drawFirst;y;y=y.next)f=y.layer,f.options.interactive&&f._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(f))&&(p=f);this._fireEvent(p?[p]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(yt(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var f,p,y=this._drawFirst;y;y=y.next)f=y.layer,f.options.interactive&&f._containsPoint(l)&&(p=f);p!==this._hoveredLayer&&(this._handleMouseOut(s),p&&(xe(this._container,"leaflet-interactive"),this._fireEvent([p],s,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(i(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,f){this._map._fireDOMEvent(l,f||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var f=l.next,p=l.prev;if(f)f.prev=p;else return;p?p.next=f:f&&(this._drawFirst=f),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var f=l.next,p=l.prev;if(p)p.next=f;else return;f?f.prev=p:p&&(this._drawLast=p),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function VC(s){return le.canvas?new FC(s):null}var zu=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Uk={_initContainer:function(){this._container=We("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zi.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=zu("shape");xe(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=zu("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[a(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;lt(l),s.removeInteractiveTarget(l),delete this._layers[a(s)]},_updateStyle:function(s){var l=s._stroke,f=s._fill,p=s.options,y=s._container;y.stroked=!!p.stroke,y.filled=!!p.fill,p.stroke?(l||(l=s._stroke=zu("stroke")),y.appendChild(l),l.weight=p.weight+"px",l.color=p.color,l.opacity=p.opacity,p.dashArray?l.dashStyle=B(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=p.lineCap.replace("butt","flat"),l.joinstyle=p.lineJoin):l&&(y.removeChild(l),s._stroke=null),p.fill?(f||(f=s._fill=zu("fill")),y.appendChild(f),f.color=p.fillColor||p.color,f.opacity=p.fillOpacity):f&&(y.removeChild(f),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),f=Math.round(s._radius),p=Math.round(s._radiusY||f);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+f+","+p+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){Gr(s._container)},_bringToBack:function(s){Wr(s._container)}},Hh=le.vml?zu:Wa,Hu=zi.extend({_initContainer:function(){this._container=Hh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Hh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){lt(this._container),rt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zi.prototype._update.call(this);var s=this._bounds,l=s.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,f.setAttribute("width",l.x),f.setAttribute("height",l.y)),ft(f,s.min),f.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Hh("path");s.options.className&&xe(l,s.options.className),s.options.interactive&&xe(l,"leaflet-interactive"),this._updateStyle(s),this._layers[a(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){lt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[a(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,f=s.options;l&&(f.stroke?(l.setAttribute("stroke",f.color),l.setAttribute("stroke-opacity",f.opacity),l.setAttribute("stroke-width",f.weight),l.setAttribute("stroke-linecap",f.lineCap),l.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?l.setAttribute("stroke-dasharray",f.dashArray):l.removeAttribute("stroke-dasharray"),f.dashOffset?l.setAttribute("stroke-dashoffset",f.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),f.fill?(l.setAttribute("fill",f.fillColor||f.color),l.setAttribute("fill-opacity",f.fillOpacity),l.setAttribute("fill-rule",f.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Ka(s._parts,l))},_updateCircle:function(s){var l=s._point,f=Math.max(Math.round(s._radius),1),p=Math.max(Math.round(s._radiusY),1)||f,y="a"+f+","+p+" 0 1,0 ",w=s._empty()?"M0 0":"M"+(l.x-f)+","+l.y+y+f*2+",0 "+y+-f*2+",0 ";this._setPath(s,w)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){Gr(s._path)},_bringToBack:function(s){Wr(s._path)}});le.vml&&Hu.include(Uk);function BC(s){return le.svg||le.vml?new Hu(s):null}ze.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&VC(s)||BC(s)}});var jC=hl.extend({initialize:function(s,l){hl.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Xe(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function $k(s,l){return new jC(s,l)}Hu.create=Hh,Hu.pointsToPath=Ka,$i.geometryToLayer=Fh,$i.coordsToLatLng=Oy,$i.coordsToLatLngs=Vh,$i.latLngToCoords=ky,$i.latLngsToCoords=Bh,$i.getFeature=pl,$i.asFeature=jh,ze.mergeOptions({boxZoom:!0});var UC=Gn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){rt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),So(),Li(),this._startPoint=this._map.mouseEventToContainerPoint(s),Te(document,{contextmenu:ur,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=We("div","leaflet-zoom-box",this._container),xe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new we(this._point,this._startPoint),f=l.getSize();ft(this._box,l.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(lt(this._box),yt(this._container,"leaflet-crosshair")),Je(),Du(),rt(document,{contextmenu:ur,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var l=new dt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ze.addInitHook("addHandler","boxZoom",UC),ze.mergeOptions({doubleClickZoom:!0});var $C=Gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,f=l.getZoom(),p=l.options.zoomDelta,y=s.originalEvent.shiftKey?f-p:f+p;l.options.doubleClickZoom==="center"?l.setZoom(y):l.setZoomAround(s.containerPoint,y)}});ze.addInitHook("addHandler","doubleClickZoom",$C),ze.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var zC=Gn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Cr(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}xe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){yt(this._map._container,"leaflet-grab"),yt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Xe(this._map.options.maxBounds);this._offsetLimit=Qe(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),f=this._initialWorldOffset,p=this._draggable._newPos.x,y=(p-l+f)%s+l-f,w=(p+l+f)%s-l-f,P=Math.abs(y+f)<Math.abs(w+f)?y:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=P},_onDragEnd:function(s){var l=this._map,f=l.options,p=!f.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),p)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,P=f.easeLinearity,V=y.multiplyBy(P/w),j=V.distanceTo([0,0]),G=Math.min(f.inertiaMaxSpeed,j),te=V.multiplyBy(G/j),ye=G/(f.inertiaDeceleration*P),Fe=te.multiplyBy(-ye/2).round();!Fe.x&&!Fe.y?l.fire("moveend"):(Fe=l._limitOffset(Fe,l.options.maxBounds),S(function(){l.panBy(Fe,{duration:ye,easeLinearity:P,noMoveStart:!0,animate:!0})}))}}});ze.addInitHook("addHandler","dragging",zC),ze.mergeOptions({keyboard:!0,keyboardPanDelta:80});var HC=Gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Te(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),rt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,f=s.scrollTop||l.scrollTop,p=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(p,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},f=this.keyCodes,p,y;for(p=0,y=f.left.length;p<y;p++)l[f.left[p]]=[-1*s,0];for(p=0,y=f.right.length;p<y;p++)l[f.right[p]]=[s,0];for(p=0,y=f.down.length;p<y;p++)l[f.down[p]]=[0,s];for(p=0,y=f.up.length;p<y;p++)l[f.up[p]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},f=this.keyCodes,p,y;for(p=0,y=f.zoomIn.length;p<y;p++)l[f.zoomIn[p]]=s;for(p=0,y=f.zoomOut.length;p<y;p++)l[f.zoomOut[p]]=-s},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){rt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,f=this._map,p;if(l in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(p=this._panKeys[l],s.shiftKey&&(p=Q(p).multiplyBy(3)),f.options.maxBounds&&(p=f._limitOffset(Q(p),f.options.maxBounds)),f.options.worldCopyJump){var y=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(p)));f.panTo(y)}else f.panBy(p)}else if(l in this._zoomKeys)f.setZoom(f.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;ur(s)}}});ze.addInitHook("addHandler","keyboard",HC),ze.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var qC=Gn.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){rt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=ku(s),f=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var p=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),p),ur(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),f=this._map.options.zoomSnap||0;s._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,w=f?Math.ceil(y/f)*f:y,P=s._limitZoom(l+(this._delta>0?w:-w))-l;this._delta=0,this._startTime=null,P&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+P):s.setZoomAround(this._lastMousePos,l+P))}});ze.addInitHook("addHandler","scrollWheelZoom",qC);var zk=600;ze.mergeOptions({tapHold:le.touchNative&&le.safari&&le.mobile,tapTolerance:15});var GC=Gn.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){rt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new Ie(l.clientX,l.clientY),this._holdTimeout=setTimeout(i(function(){this._cancel(),this._isTapValid()&&(Te(document,"touchend",_t),Te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),zk),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){rt(document,"touchend",_t),rt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),rt(document,"touchend touchcancel contextmenu",this._cancel,this),rt(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new Ie(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var f=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});f._simulated=!0,l.target.dispatchEvent(f)}});ze.addInitHook("addHandler","tapHold",GC),ze.mergeOptions({touchZoom:le.touch,bounceAtZoomLimits:!0});var WC=Gn.extend({addHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),rt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var f=l.mouseEventToContainerPoint(s.touches[0]),p=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(f.add(p)._divideBy(2))),this._startDist=f.distanceTo(p),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),_t(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,f=l.mouseEventToContainerPoint(s.touches[0]),p=l.mouseEventToContainerPoint(s.touches[1]),y=f.distanceTo(p)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var w=f._add(p)._divideBy(2)._subtract(this._centerPoint);if(y===1&&w.x===0&&w.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),D(this._animRequest);var P=i(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=S(P,this,!0),_t(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,D(this._animRequest),rt(document,"touchmove",this._onTouchMove,this),rt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ze.addInitHook("addHandler","touchZoom",WC),ze.BoxZoom=UC,ze.DoubleClickZoom=$C,ze.Drag=zC,ze.Keyboard=HC,ze.ScrollWheelZoom=qC,ze.TapHold=GC,ze.TouchZoom=WC,t.Bounds=we,t.Browser=le,t.CRS=Sn,t.Canvas=FC,t.Circle=Ny,t.CircleMarker=Lh,t.Class=O,t.Control=On,t.DivIcon=OC,t.DivOverlay=Qr,t.DomEvent=pt,t.DomUtil=Kr,t.Draggable=Cr,t.Evented=At,t.FeatureGroup=ct,t.GeoJSON=$i,t.GridLayer=$u,t.Handler=Gn,t.Icon=Wn,t.ImageOverlay=Uh,t.LatLng=be,t.LatLngBounds=dt,t.Layer=ke,t.LayerGroup=mt,t.LineUtil=d,t.Map=ze,t.Marker=kh,t.Mixin=sl,t.Path=Po,t.Point=Ie,t.PolyUtil=Fu,t.Polygon=hl,t.Polyline=Ui,t.Popup=$h,t.PosAnimation=Dh,t.Projection=b,t.Rectangle=jC,t.Renderer=zi,t.SVG=Hu,t.SVGOverlay=NC,t.TileLayer=ml,t.Tooltip=zh,t.Transformation=fu,t.Util=M,t.VideoOverlay=RC,t.bind=i,t.bounds=Qe,t.canvas=VC,t.circle=xk,t.circleMarker=Ak,t.control=xo,t.divIcon=Vk,t.extend=n,t.featureGroup=en,t.geoJSON=PC,t.geoJson=Rk,t.gridLayer=Bk,t.icon=Kn,t.imageOverlay=Nk,t.latLng=$e,t.latLngBounds=Xe,t.layerGroup=Ke,t.map=Ah,t.marker=Dk,t.point=Q,t.polygon=Pk,t.polyline=Mk,t.popup=Lk,t.rectangle=$k,t.setOptions=E,t.stamp=a,t.svg=BC,t.svgOverlay=kk,t.tileLayer=kC,t.tooltip=Fk,t.transformation=zr,t.version=e,t.videoOverlay=Ok;var Hk=window.L;t.noConflict=function(){return window.L=Hk,this},window.L=t})});var By;function Gh(){return By}function Xr(t){let e=By;return By=t,e}var tS=Symbol("NotFound");function vl(t){return t===tS||t?.name==="\u0275NotFound"}var En=null,Wh=!1,jy=1,cL=null,Mn=Symbol("SIGNAL");function Ce(t){let e=En;return En=t,e}function Qh(){return En}var yl={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _l(t){if(Wh)throw new Error("");if(En===null)return;En.consumerOnSignalRead(t);let e=En.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=En.recomputing;if(r&&(n=e!==void 0?e.nextProducer:En.producers,n!==void 0&&n.producer===t)){En.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===En&&(!r||dL(i,En)))return;let o=Il(En),a={producer:t,consumer:En,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};En.producersTail=a,e!==void 0?e.nextProducer=a:En.producers=a,o&&oS(t,a)}function nS(){jy++}function Xh(t){if(!(Il(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===jy)){if(!t.producerMustRecompute(t)&&!Wu(t)){Yh(t);return}t.producerRecomputeValue(t),Yh(t)}}function Uy(t){if(t.consumers===void 0)return;let e=Wh;Wh=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||uL(r)}}finally{Wh=e}}function $y(){return En?.consumerAllowSignalWrites!==!1}function uL(t){t.dirty=!0,Uy(t),t.consumerMarkedDirty?.(t)}function Yh(t){t.dirty=!1,t.lastCleanEpoch=jy}function El(t){return t&&rS(t),Ce(t)}function rS(t){t.producersTail=void 0,t.recomputing=!0}function Gu(t,e){Ce(e),t&&iS(t)}function iS(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Il(t))do n=zy(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Wu(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Xh(n),r!==n.version))return!0}return!1}function Ku(t){if(Il(t)){let e=t.producers;for(;e!==void 0;)e=zy(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function oS(t,e){let n=t.consumersTail,r=Il(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)oS(i.producer,i)}function zy(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Il(e)){let o=e.producers;for(;o!==void 0;)o=zy(o)}return n}function Il(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Jh(t){cL?.(t)}function dL(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function ep(t,e){return Object.is(t,e)}function tp(t,e){let n=Object.create(fL);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Xh(n),_l(n),n.value===qu)throw n.error;return n.value};return r[Mn]=n,Jh(n),r}var Kh=Symbol("UNSET"),Zh=Symbol("COMPUTING"),qu=Symbol("ERRORED"),fL=Ne(J({},yl),{value:Kh,dirty:!0,error:null,equal:ep,kind:"computed",producerMustRecompute(t){return t.value===Kh||t.value===Zh},producerRecomputeValue(t){if(t.value===Zh)throw new Error("");let e=t.value;t.value=Zh;let n=El(t),r,i=!1;try{r=t.computation(),Ce(null),i=e!==Kh&&e!==qu&&r!==qu&&t.equal(e,r)}catch(o){r=qu,t.error=o}finally{Gu(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function hL(){throw new Error}var sS=hL;function aS(t){sS(t)}function Hy(t){sS=t}var pL=null;function qy(t,e){let n=Object.create(np);n.value=t,e!==void 0&&(n.equal=e);let r=()=>lS(n);return r[Mn]=n,Jh(n),[r,a=>wl(n,a),a=>Gy(n,a)]}function lS(t){return _l(t),t.value}function wl(t,e){$y()||aS(t),t.equal(t.value,e)||(t.value=e,mL(t))}function Gy(t,e){$y()||aS(t),wl(t,e(t.value))}var np=Ne(J({},yl),{equal:ep,value:void 0,kind:"signal"});function mL(t){t.version++,nS(),Uy(t),pL?.(t)}function Me(t){return typeof t=="function"}function bl(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var rp=bl(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Gs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var bt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Me(r))try{r()}catch(o){e=o instanceof rp?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{cS(o)}catch(a){e=e??[],a instanceof rp?e=[...e,...a.errors]:e.push(a)}}if(e)throw new rp(e)}}add(e){var n;if(e&&e!==this)if(this.closed)cS(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Gs(n,e)}remove(e){let{_finalizers:n}=this;n&&Gs(n,e),e instanceof t&&e._removeParent(this)}};bt.EMPTY=(()=>{let t=new bt;return t.closed=!0,t})();var Wy=bt.EMPTY;function ip(t){return t instanceof bt||t&&"closed"in t&&Me(t.remove)&&Me(t.add)&&Me(t.unsubscribe)}function cS(t){Me(t)?t():t.unsubscribe()}var Sr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Tl={setTimeout(t,e,...n){let{delegate:r}=Tl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Tl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function op(t){Tl.setTimeout(()=>{let{onUnhandledError:e}=Sr;if(e)e(t);else throw t})}function Zu(){}var uS=Ky("C",void 0,void 0);function dS(t){return Ky("E",void 0,t)}function fS(t){return Ky("N",t,void 0)}function Ky(t,e,n){return{kind:t,value:e,error:n}}var Ws=null;function Cl(t){if(Sr.useDeprecatedSynchronousErrorHandling){let e=!Ws;if(e&&(Ws={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ws;if(Ws=null,n)throw r}}else t()}function hS(t){Sr.useDeprecatedSynchronousErrorHandling&&Ws&&(Ws.errorThrown=!0,Ws.error=t)}var Ks=class extends bt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ip(e)&&e.add(this)):this.destination=yL}static create(e,n,r){return new Sl(e,n,r)}next(e){this.isStopped?Yy(fS(e),this):this._next(e)}error(e){this.isStopped?Yy(dS(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yy(uS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gL=Function.prototype.bind;function Zy(t,e){return gL.call(t,e)}var Qy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){sp(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){sp(r)}else sp(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){sp(n)}}},Sl=class extends Ks{constructor(e,n,r){super();let i;if(Me(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Sr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Zy(e.next,o),error:e.error&&Zy(e.error,o),complete:e.complete&&Zy(e.complete,o)}):i=e}this.destination=new Qy(i)}};function sp(t){Sr.useDeprecatedSynchronousErrorHandling?hS(t):op(t)}function vL(t){throw t}function Yy(t,e){let{onStoppedNotification:n}=Sr;n&&Tl.setTimeout(()=>n(t,e))}var yL={closed:!0,next:Zu,error:vL,complete:Zu};var Dl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zn(t){return t}function ap(...t){return Xy(t)}function Xy(t){return t.length===0?Zn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=EL(n)?n:new Sl(n,r,i);return Cl(()=>{let{operator:a,source:c}=this;o.add(a?a.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=pS(r),new r((i,o)=>{let a=new Sl({next:c=>{try{n(c)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Dl](){return this}pipe(...n){return Xy(n)(this)}toPromise(n){return n=pS(n),new n((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return t.create=e=>new t(e),t})();function pS(t){var e;return(e=t??Sr.Promise)!==null&&e!==void 0?e:Promise}function _L(t){return t&&Me(t.next)&&Me(t.error)&&Me(t.complete)}function EL(t){return t&&t instanceof Ks||_L(t)&&ip(t)}function Jy(t){return Me(t?.lift)}function Ze(t){return e=>{if(Jy(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function He(t,e,n,r,i){return new e_(t,e,n,r,i)}var e_=class extends Ks{constructor(e,n,r,i,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Al(){return Ze((t,e)=>{let n=null;t._refCount++;let r=He(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var xl=class extends Oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Jy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bt;let n=this.getSubject();e.add(this.source.subscribe(He(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bt.EMPTY)}return e}refCount(){return Al()(this)}};var mS=bl(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xt=(()=>{class t extends Oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new lp(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new mS}next(n){Cl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Cl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Cl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wy:(this.currentObservers=null,o.push(n),new bt(()=>{this.currentObservers=null,Gs(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Oe;return n.source=this,n}}return t.create=(e,n)=>new lp(e,n),t})(),lp=class extends xt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Wy}};var Tt=class extends xt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var t_={now(){return(t_.delegate||Date).now()},delegate:void 0};var cp=class extends bt{constructor(e,n){super()}schedule(e,n=0){return this}};var Yu={setInterval(t,e,...n){let{delegate:r}=Yu;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Yu;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ml=class extends cp{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Yu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Yu.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Gs(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Pl=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Pl.now=t_.now;var Rl=class extends Pl{constructor(e,n=Pl.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var n_=new Rl(Ml);var up=class extends Ml{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var dp=class extends Rl{};var r_=new dp(up);var Ln=new Oe(t=>t.complete());function gS(t){return t&&Me(t.schedule)}function vS(t){return t[t.length-1]}function fp(t){return Me(vS(t))?t.pop():void 0}function No(t){return gS(vS(t))?t.pop():void 0}function i_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _S(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(m){try{h(r.next(m))}catch(v){a(v)}}function u(m){try{h(r.throw(m))}catch(v){a(v)}}function h(m){m.done?o(m.value):i(m.value).then(c,u)}h((r=r.apply(t,e||[])).next())})}function yS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zs(t){return this instanceof Zs?(this.v=t,this):new Zs(t)}function ES(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(E){return function(C){return Promise.resolve(C).then(E,v)}}function c(E,C){r[E]&&(i[E]=function(N){return new Promise(function(k,B){o.push([E,N,k,B])>1||u(E,N)})},C&&(i[E]=C(i[E])))}function u(E,C){try{h(r[E](C))}catch(N){I(o[0][3],N)}}function h(E){E.value instanceof Zs?Promise.resolve(E.value.v).then(m,v):I(o[0][2],E)}function m(E){u("next",E)}function v(E){u("throw",E)}function I(E,C){E(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function IS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof yS=="function"?yS(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(c,u){a=t[o](a),i(c,u,a.done,a.value)})}}function i(o,a,c,u){Promise.resolve(u).then(function(h){o({value:h,done:c})},a)}}var hp=t=>t&&typeof t.length=="number"&&typeof t!="function";function pp(t){return Me(t?.then)}function mp(t){return Me(t[Dl])}function gp(t){return Symbol.asyncIterator&&Me(t?.[Symbol.asyncIterator])}function vp(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function IL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yp=IL();function _p(t){return Me(t?.[yp])}function Ep(t){return ES(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Zs(n.read());if(i)return yield Zs(void 0);yield yield Zs(r)}}finally{n.releaseLock()}})}function Ip(t){return Me(t?.getReader)}function Ot(t){if(t instanceof Oe)return t;if(t!=null){if(mp(t))return wL(t);if(hp(t))return bL(t);if(pp(t))return TL(t);if(gp(t))return wS(t);if(_p(t))return CL(t);if(Ip(t))return SL(t)}throw vp(t)}function wL(t){return new Oe(e=>{let n=t[Dl]();if(Me(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bL(t){return new Oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function TL(t){return new Oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,op)})}function CL(t){return new Oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function wS(t){return new Oe(e=>{DL(t,e).catch(n=>e.error(n))})}function SL(t){return wS(Ep(t))}function DL(t,e){var n,r,i,o;return _S(this,void 0,void 0,function*(){try{for(n=IS(t);r=yield n.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Fn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Oo(t,e=0){return Ze((n,r)=>{n.subscribe(He(r,i=>Fn(r,t,()=>r.next(i),e),()=>Fn(r,t,()=>r.complete(),e),i=>Fn(r,t,()=>r.error(i),e)))})}function ko(t,e=0){return Ze((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function bS(t,e){return Ot(t).pipe(ko(e),Oo(e))}function TS(t,e){return Ot(t).pipe(ko(e),Oo(e))}function CS(t,e){return new Oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function SS(t,e){return new Oe(n=>{let r;return Fn(n,e,()=>{r=t[yp](),Fn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),()=>Me(r?.return)&&r.return()})}function wp(t,e){if(!t)throw new Error("Iterable cannot be null");return new Oe(n=>{Fn(n,e,()=>{let r=t[Symbol.asyncIterator]();Fn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function DS(t,e){return wp(Ep(t),e)}function AS(t,e){if(t!=null){if(mp(t))return bS(t,e);if(hp(t))return CS(t,e);if(pp(t))return TS(t,e);if(gp(t))return wp(t,e);if(_p(t))return SS(t,e);if(Ip(t))return DS(t,e)}throw vp(t)}function gt(t,e){return e?AS(t,e):Ot(t)}function _e(...t){let e=No(t);return gt(t,e)}function Nl(t,e){let n=Me(t)?t:()=>t,r=i=>i.error(n());return new Oe(e?i=>e.schedule(r,0,i):r)}function o_(t){return!!t&&(t instanceof Oe||Me(t.lift)&&Me(t.subscribe))}var Hi=bl(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Pe(t,e){return Ze((n,r)=>{let i=0;n.subscribe(He(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:AL}=Array;function xL(t,e){return AL(e)?t(...e):t(e)}function bp(t){return Pe(e=>xL(t,e))}var{isArray:ML}=Array,{getPrototypeOf:PL,prototype:RL,keys:NL}=Object;function Tp(t){if(t.length===1){let e=t[0];if(ML(e))return{args:e,keys:null};if(OL(e)){let n=NL(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function OL(t){return t&&typeof t=="object"&&PL(t)===RL}function Cp(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Sp(...t){let e=No(t),n=fp(t),{args:r,keys:i}=Tp(t);if(r.length===0)return gt([],e);let o=new Oe(kL(r,e,i?a=>Cp(i,a):Zn));return n?o.pipe(bp(n)):o}function kL(t,e,n=Zn){return r=>{xS(e,()=>{let{length:i}=t,o=new Array(i),a=i,c=i;for(let u=0;u<i;u++)xS(e,()=>{let h=gt(t[u],e),m=!1;h.subscribe(He(r,v=>{o[u]=v,m||(m=!0,c--),c||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function xS(t,e,n){t?Fn(n,t,e):e()}function MS(t,e,n,r,i,o,a,c){let u=[],h=0,m=0,v=!1,I=()=>{v&&!u.length&&!h&&e.complete()},E=N=>h<r?C(N):u.push(N),C=N=>{o&&e.next(N),h++;let k=!1;Ot(n(N,m++)).subscribe(He(e,B=>{i?.(B),o?E(B):e.next(B)},()=>{k=!0},void 0,()=>{if(k)try{for(h--;u.length&&h<r;){let B=u.shift();a?Fn(e,a,()=>C(B)):C(B)}I()}catch(B){e.error(B)}}))};return t.subscribe(He(e,E,()=>{v=!0,I()})),()=>{c?.()}}function kt(t,e,n=1/0){return Me(e)?kt((r,i)=>Pe((o,a)=>e(r,o,i,a))(Ot(t(r,i))),n):(typeof e=="number"&&(n=e),Ze((r,i)=>MS(r,i,t,n)))}function Ol(t=1/0){return kt(Zn,t)}function PS(){return Ol(1)}function kl(...t){return PS()(gt(t,No(t)))}function Qu(t){return new Oe(e=>{Ot(t()).subscribe(e)})}function s_(...t){let e=fp(t),{args:n,keys:r}=Tp(t),i=new Oe(o=>{let{length:a}=n;if(!a){o.complete();return}let c=new Array(a),u=a,h=a;for(let m=0;m<a;m++){let v=!1;Ot(n[m]).subscribe(He(o,I=>{v||(v=!0,h--),c[m]=I},()=>u--,void 0,()=>{(!u||!v)&&(h||o.next(r?Cp(r,c):c),o.complete())}))}});return e?i.pipe(bp(e)):i}function Vn(t,e){return Ze((n,r)=>{let i=0;n.subscribe(He(r,o=>t.call(e,o,i++)&&r.next(o)))})}function qi(t){return Ze((e,n)=>{let r=null,i=!1,o;r=e.subscribe(He(n,void 0,void 0,a=>{o=Ot(t(a,qi(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function RS(t,e,n,r,i){return(o,a)=>{let c=n,u=e,h=0;o.subscribe(He(a,m=>{let v=h++;u=c?t(u,m,v):(c=!0,m),r&&a.next(u)},i&&(()=>{c&&a.next(u),a.complete()})))}}function Ys(t,e){return Me(e)?kt(t,e,1):kt(t,1)}function Lo(t){return Ze((e,n)=>{let r=!1;e.subscribe(He(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Gi(t){return t<=0?()=>Ln:Ze((e,n)=>{let r=0;e.subscribe(He(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Dp(t=LL){return Ze((e,n)=>{let r=!1;e.subscribe(He(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function LL(){return new Hi}function Xu(t){return Ze((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Wi(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vn((i,o)=>t(i,o,r)):Zn,Gi(1),n?Lo(e):Dp(()=>new Hi))}function Ll(t){return t<=0?()=>Ln:Ze((e,n)=>{let r=[];e.subscribe(He(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function a_(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vn((i,o)=>t(i,o,r)):Zn,Ll(1),n?Lo(e):Dp(()=>new Hi))}function Ap(t,e){return Ze(RS(t,e,arguments.length>=2,!0))}function xp(...t){let e=No(t);return Ze((n,r)=>{(e?kl(t,n,e):kl(t,n)).subscribe(r)})}function pn(t,e){return Ze((n,r)=>{let i=null,o=0,a=!1,c=()=>a&&!i&&r.complete();n.subscribe(He(r,u=>{i?.unsubscribe();let h=0,m=o++;Ot(t(u,m)).subscribe(i=He(r,v=>r.next(e?e(u,v,m,h++):v),()=>{i=null,c()}))},()=>{a=!0,c()}))})}function Mp(t){return Ze((e,n)=>{Ot(t).subscribe(He(n,()=>n.complete(),Zu)),!n.closed&&e.subscribe(n)})}function nn(t,e,n){let r=Me(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ze((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let c=!0;i.subscribe(He(o,u=>{var h;(h=r.next)===null||h===void 0||h.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var h;c=!1,(h=r.error)===null||h===void 0||h.call(r,u),o.error(u)},()=>{var u,h;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(h=r.finalize)===null||h===void 0||h.call(r)}))}):Zn}function NS(t){let e=Ce(null);try{return t()}finally{Ce(e)}}var Xs=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},E_=new Xs("20.3.10");var Op="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ue=class extends Error{code;constructor(e,n){super(Vl(e,n)),this.code=e}};function FL(t){return`NG0${Math.abs(t)}`}function Vl(t,e){return`${FL(t)}${e?": "+e:""}`}var nd=globalThis;function tt(t){for(let e in t)if(t[e]===tt)return e;throw Error("")}function LS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Zi(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Zi).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function I_(t,e){return t?e?`${t} ${e}`:t:e||""}var VL=tt({__forward_ref__:tt});function jo(t){return t.__forward_ref__=jo,t.toString=function(){return Zi(this())},t}function mn(t){return w_(t)?t():t}function w_(t){return typeof t=="function"&&t.hasOwnProperty(VL)&&t.__forward_ref__===jo}function de(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Dr(t){return{providers:t.providers||[],imports:t.imports||[]}}function rd(t){return BL(t,kp)}function b_(t){return rd(t)!==null}function BL(t,e){return t.hasOwnProperty(e)&&t[e]||null}function jL(t){let e=t?.[kp]??null;return e||null}function c_(t){return t&&t.hasOwnProperty(Rp)?t[Rp]:null}var kp=tt({\u0275prov:tt}),Rp=tt({\u0275inj:tt}),ce=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=de({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function T_(t){return t&&!!t.\u0275providers}var C_=tt({\u0275cmp:tt}),S_=tt({\u0275dir:tt}),D_=tt({\u0275pipe:tt}),A_=tt({\u0275mod:tt}),ed=tt({\u0275fac:tt}),na=tt({__NG_ELEMENT_ID__:tt}),OS=tt({__NG_ENV_ID__:tt});function id(t){return typeof t=="string"?t:t==null?"":String(t)}function FS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():id(t)}var VS=tt({ngErrorCode:tt}),UL=tt({ngErrorMessage:tt}),$L=tt({ngTokenPath:tt});function x_(t,e){return BS("",-200,e)}function Lp(t,e){throw new ue(-201,!1)}function BS(t,e,n){let r=new ue(e,t);return r[VS]=e,r[UL]=t,n&&(r[$L]=n),r}function zL(t){return t[VS]}var u_;function jS(){return u_}function Pn(t){let e=u_;return u_=t,e}function M_(t,e,n){let r=rd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Lp(t,"Injector")}var HL={},Qs=HL,d_="__NG_DI_FLAG__",f_=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Js(n)||0;try{return this.injector.get(e,r&8?null:Qs,r)}catch(i){if(vl(i))return i;throw i}}};function qL(t,e=0){let n=Gh();if(n===void 0)throw new ue(-203,!1);if(n===null)return M_(t,void 0,e);{let r=GL(e),i=n.retrieve(t,r);if(vl(i)){if(r.optional)return null;throw i}return i}}function pe(t,e=0){return(jS()||qL)(mn(t),e)}function W(t,e){return pe(t,Js(e))}function Js(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function GL(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function h_(t){let e=[];for(let n=0;n<t.length;n++){let r=mn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ue(900,!1);let i,o=0;for(let a=0;a<r.length;a++){let c=r[a],u=WL(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(pe(i,o))}else e.push(pe(r))}return e}function US(t,e){return t[d_]=e,t.prototype[d_]=e,t}function WL(t){return t[d_]}function Fo(t,e){let n=t.hasOwnProperty(ed);return n?t[ed]:null}function $S(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function zS(t){return t.flat(Number.POSITIVE_INFINITY)}function Fp(t,e){t.forEach(n=>Array.isArray(n)?Fp(n,e):e(n))}function P_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function od(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function HS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function qS(t,e,n){let r=Bl(t,e);return r>=0?t[r|1]=n:(r=~r,HS(t,r,e,n)),r}function Vp(t,e){let n=Bl(t,e);if(n>=0)return t[n|1]}function Bl(t,e){return KL(t,e,1)}function KL(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),a=t[o<<n];if(e===a)return o<<n;a>e?i=o:r=o+1}return~(i<<n)}var Uo={},Yn=[],Yi=new ce(""),R_=new ce("",-1),N_=new ce(""),td=class{get(e,n=Qs){if(n===Qs){let i=BS("",-201);throw i.name="\u0275NotFound",i}return n}};function O_(t){return t[A_]||null}function $o(t){return t[C_]||null}function k_(t){return t[S_]||null}function GS(t){return t[D_]||null}function Qn(t){return{\u0275providers:t}}function WS(t){return Qn([{provide:Yi,multi:!0,useValue:t}])}function KS(...t){return{\u0275providers:L_(!0,t),\u0275fromNgModule:!0}}function L_(t,...e){let n=[],r=new Set,i,o=a=>{n.push(a)};return Fp(e,a=>{let c=a;Np(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&ZS(i,o),n}function ZS(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];F_(i,o=>{e(o,r)})}}function Np(t,e,n,r){if(t=mn(t),!t)return!1;let i=null,o=c_(t),a=!o&&$o(t);if(!o&&!a){let u=t.ngModule;if(o=c_(u),o)i=u;else return!1}else{if(a&&!a.standalone)return!1;i=t}let c=r.has(i);if(a){if(c)return!1;if(r.add(i),a.dependencies){let u=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let h of u)Np(h,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let h;try{Fp(o.imports,m=>{Np(m,e,n,r)&&(h||=[],h.push(m))})}finally{}h!==void 0&&ZS(h,e)}if(!c){let h=Fo(i)||(()=>new i);e({provide:i,useFactory:h,deps:Yn},i),e({provide:N_,useValue:i,multi:!0},i),e({provide:Yi,useValue:()=>pe(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let h=t;F_(u,m=>{e(m,h)})}}else return!1;return i!==t&&t.providers!==void 0}function F_(t,e){for(let n of t)T_(n)&&(n=n.\u0275providers),Array.isArray(n)?F_(n,e):e(n)}var ZL=tt({provide:String,useValue:tt});function YS(t){return t!==null&&typeof t=="object"&&ZL in t}function YL(t){return!!(t&&t.useExisting)}function QL(t){return!!(t&&t.useFactory)}function ea(t){return typeof t=="function"}function QS(t){return!!t.useClass}var sd=new ce(""),Pp={},kS={},l_;function ad(){return l_===void 0&&(l_=new td),l_}var Lt=class{},ta=class extends Lt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,m_(e,a=>this.processProvider(a)),this.records.set(R_,Fl(void 0,this)),i.has("environment")&&this.records.set(Lt,Fl(void 0,this));let o=this.records.get(sd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(N_,Yn,{self:!0}))}retrieve(e,n){let r=Js(n)||0;try{return this.get(e,Qs,r)}catch(i){if(vl(i))return i;throw i}}destroy(){Ju(this),this._destroyed=!0;let e=Ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ce(e)}}onDestroy(e){return Ju(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ju(this);let n=Xr(this),r=Pn(void 0),i;try{return e()}finally{Xr(n),Pn(r)}}get(e,n=Qs,r){if(Ju(this),e.hasOwnProperty(OS))return e[OS](this);let i=Js(r),o,a=Xr(this),c=Pn(void 0);try{if(!(i&4)){let h=this.records.get(e);if(h===void 0){let m=nF(e)&&rd(e);m&&this.injectableDefInScope(m)?h=Fl(p_(e),Pp):h=null,this.records.set(e,h)}if(h!=null)return this.hydrate(e,h,i)}let u=i&2?ad():this.parent;return n=i&8&&n===Qs?null:n,u.get(e,n)}catch(u){let h=zL(u);throw h===-200||h===-201?new ue(h,null):u}finally{Pn(c),Xr(a)}}resolveInjectorInitializers(){let e=Ce(null),n=Xr(this),r=Pn(void 0),i;try{let o=this.get(Yi,Yn,{self:!0});for(let a of o)a()}finally{Xr(n),Pn(r),Ce(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Zi(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=mn(e);let n=ea(e)?e:mn(e&&e.provide),r=JL(e);if(!ea(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Fl(void 0,Pp,!0),i.factory=()=>h_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=Ce(null);try{if(n.value===kS)throw x_(Zi(e));return n.value===Pp&&(n.value=kS,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&tF(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ce(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=mn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function p_(t){let e=rd(t),n=e!==null?e.factory:Fo(t);if(n!==null)return n;if(t instanceof ce)throw new ue(204,!1);if(t instanceof Function)return XL(t);throw new ue(204,!1)}function XL(t){if(t.length>0)throw new ue(204,!1);let n=jL(t);return n!==null?()=>n.factory(t):()=>new t}function JL(t){if(YS(t))return Fl(void 0,t.useValue);{let e=V_(t);return Fl(e,Pp)}}function V_(t,e,n){let r;if(ea(t)){let i=mn(t);return Fo(i)||p_(i)}else if(YS(t))r=()=>mn(t.useValue);else if(QL(t))r=()=>t.useFactory(...h_(t.deps||[]));else if(YL(t))r=(i,o)=>pe(mn(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=mn(t&&(t.useClass||t.provide));if(eF(t))r=()=>new i(...h_(t.deps));else return Fo(i)||p_(i)}return r}function Ju(t){if(t.destroyed)throw new ue(205,!1)}function Fl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function eF(t){return!!t.deps}function tF(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function nF(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function m_(t,e){for(let n of t)Array.isArray(n)?m_(n,e):n&&T_(n)?m_(n.\u0275providers,e):e(n)}function Wt(t,e){let n;t instanceof ta?(Ju(t),n=t):n=new f_(t);let r,i=Xr(n),o=Pn(void 0);try{return e()}finally{Xr(i),Pn(o)}}function XS(){return jS()!==void 0||Gh()!=null}var Ar=0,me=1,Se=2,qt=3,fr=4,hr=5,jl=6,Ul=7,Mt=8,zo=9,ei=10,Et=11,$l=12,B_=13,ra=14,Xn=15,Ho=16,ia=17,ti=18,ld=19,j_=20,Ki=21,Bp=22,cd=23,Jn=24,jp=25,oa=26,Kt=27,JS=1,U_=6,qo=7,ud=8,sa=9,Ft=10;function ni(t){return Array.isArray(t)&&typeof t[JS]=="object"}function xr(t){return Array.isArray(t)&&t[JS]===!0}function $_(t){return(t.flags&4)!==0}function Go(t){return t.componentOffset>-1}function Up(t){return(t.flags&1)===1}function ri(t){return!!t.template}function zl(t){return(t[Se]&512)!==0}function aa(t){return(t[Se]&256)===256}var eD="svg",tD="math";function pr(t){for(;Array.isArray(t);)t=t[Ar];return t}function z_(t,e){return pr(e[t])}function Mr(t,e){return pr(e[t.index])}function dd(t,e){return t.data[e]}function nD(t,e){return t[e]}function H_(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function mr(t,e){let n=e[t];return ni(n)?n:n[Ar]}function rD(t){return(t[Se]&4)===4}function $p(t){return(t[Se]&128)===128}function iD(t){return xr(t[qt])}function ii(t,e){return e==null?null:t[e]}function q_(t){t[ia]=0}function G_(t){t[Se]&1024||(t[Se]|=1024,$p(t)&&hd(t))}function oD(t,e){for(;t>0;)e=e[ra],t--;return e}function fd(t){return!!(t[Se]&9216||t[Jn]?.dirty)}function zp(t){t[ei].changeDetectionScheduler?.notify(8),t[Se]&64&&(t[Se]|=1024),fd(t)&&hd(t)}function hd(t){t[ei].changeDetectionScheduler?.notify(0);let e=Vo(t);for(;e!==null&&!(e[Se]&8192||(e[Se]|=8192,!$p(e)));)e=Vo(e)}function W_(t,e){if(aa(t))throw new ue(911,!1);t[Ki]===null&&(t[Ki]=[]),t[Ki].push(e)}function sD(t,e){if(t[Ki]===null)return;let n=t[Ki].indexOf(e);n!==-1&&t[Ki].splice(n,1)}function Vo(t){let e=t[qt];return xr(e)?e[qt]:e}function K_(t){return t[Ul]??=[]}function Z_(t){return t.cleanup??=[]}function aD(t,e,n,r){let i=K_(e);i.push(n),t.firstCreatePass&&Z_(t).push(r,i.length-1)}var Ve={lFrame:wD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var g_=!1;function lD(){return Ve.lFrame.elementDepthCount}function cD(){Ve.lFrame.elementDepthCount++}function Y_(){Ve.lFrame.elementDepthCount--}function uD(){return Ve.bindingsEnabled}function dD(){return Ve.skipHydrationRootTNode!==null}function Q_(t){return Ve.skipHydrationRootTNode===t}function X_(){Ve.skipHydrationRootTNode=null}function je(){return Ve.lFrame.lView}function rn(){return Ve.lFrame.tView}function oi(t){return Ve.lFrame.contextLView=t,t[Mt]}function si(t){return Ve.lFrame.contextLView=null,t}function gn(){let t=J_();for(;t!==null&&t.type===64;)t=t.parent;return t}function J_(){return Ve.lFrame.currentTNode}function fD(){let t=Ve.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Hl(t,e){let n=Ve.lFrame;n.currentTNode=t,n.isParent=e}function eE(){return Ve.lFrame.isParent}function hD(){Ve.lFrame.isParent=!1}function tE(){return g_}function nE(t){let e=g_;return g_=t,e}function pD(){let t=Ve.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function mD(t){return Ve.lFrame.bindingIndex=t}function la(){return Ve.lFrame.bindingIndex++}function gD(t){let e=Ve.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function vD(){return Ve.lFrame.inI18n}function yD(t,e){let n=Ve.lFrame;n.bindingIndex=n.bindingRootIndex=t,Hp(e)}function _D(){return Ve.lFrame.currentDirectiveIndex}function Hp(t){Ve.lFrame.currentDirectiveIndex=t}function ED(t){let e=Ve.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function rE(){return Ve.lFrame.currentQueryIndex}function qp(t){Ve.lFrame.currentQueryIndex=t}function rF(t){let e=t[me];return e.type===2?e.declTNode:e.type===1?t[hr]:null}function iE(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=rF(o),i===null||(o=o[ra],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Ve.lFrame=ID();return r.currentTNode=e,r.lView=t,!0}function Gp(t){let e=ID(),n=t[me];Ve.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ID(){let t=Ve.lFrame,e=t===null?null:t.child;return e===null?wD(t):e}function wD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function bD(){let t=Ve.lFrame;return Ve.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var oE=bD;function Wp(){let t=bD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function TD(t){return(Ve.lFrame.contextLView=oD(t,Ve.lFrame.contextLView))[Mt]}function Wo(){return Ve.lFrame.selectedIndex}function Ko(t){Ve.lFrame.selectedIndex=t}function Kp(){let t=Ve.lFrame;return dd(t.tView,t.selectedIndex)}function CD(){return Ve.lFrame.currentNamespace}var SD=!0;function Zp(){return SD}function Yp(t){SD=t}function v_(t,e=null,n=null,r){let i=sE(t,e,n,r);return i.resolveInjectorInitializers(),i}function sE(t,e=null,n=null,r,i=new Set){let o=[n||Yn,KS(t)];return r=r||(typeof t=="object"?void 0:Zi(t)),new ta(o,e||ad(),r||null,i)}var Gt=class t{static THROW_IF_NOT_FOUND=Qs;static NULL=new td;static create(e,n){if(Array.isArray(e))return v_({name:""},n,e,"");{let r=e.name??"";return v_({name:r},e.parent,e.providers,r)}}static \u0275prov=de({token:t,providedIn:"any",factory:()=>pe(R_)});static __NG_ELEMENT_ID__=-1},on=new ce(""),Qi=(()=>{class t{static __NG_ELEMENT_ID__=iF;static __NG_ENV_ID__=n=>n}return t})(),y_=class extends Qi{_lView;constructor(e){super(),this._lView=e}get destroyed(){return aa(this._lView)}onDestroy(e){let n=this._lView;return W_(n,e),()=>sD(n,e)}};function iF(){return new y_(je())}var Jr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},In=new ce("",{providedIn:"root",factory:()=>{let t=W(Lt),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Jr),e.handleError(n))}}}),DD={provide:Yi,useValue:()=>void W(Jr),multi:!0},oF=new ce("",{providedIn:"root",factory:()=>{let t=W(on).defaultView;if(!t)return;let e=W(In),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),W(Qi).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function aE(){return Qn([WS(()=>void W(oF))])}function Bn(t,e){let[n,r,i]=qy(t,e?.equal),o=n,a=o[Mn];return o.set=r,o.update=i,o.asReadonly=AD.bind(o),o}function AD(){let t=this[Mn];if(t.readonlyFn===void 0){let e=()=>this();e[Mn]=t,t.readonlyFn=e}return t.readonlyFn}var Bo=class{},pd=new ce("",{providedIn:"root",factory:()=>!1});var lE=new ce(""),cE=new ce(""),ai=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Tt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Oe(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=de({token:t,providedIn:"root",factory:()=>new t})}return t})(),ql=(()=>{class t{internalPendingTasks=W(ai);scheduler=W(Bo);errorHandler=W(In);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=de({token:t,providedIn:"root",factory:()=>new t})}return t})();function md(...t){}var uE=(()=>{class t{static \u0275prov=de({token:t,providedIn:"root",factory:()=>new __})}return t})(),__=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function ec(t){return{toString:t}.toString()}var Qp="__parameters__";function mF(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function gF(t,e,n){return ec(()=>{let r=mF(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let a=new i(...o);return c.annotation=a,c;function c(u,h,m){let v=u.hasOwnProperty(Qp)?u[Qp]:Object.defineProperty(u,Qp,{value:[]})[Qp];for(;v.length<=m;)v.push(null);return(v[m]=v[m]||[]).push(a),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var er=US(gF("Optional"),8);function vF(t){return typeof t=="function"}var om=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function oA(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var ui=(()=>{let t=()=>sA;return t.ngInherit=!0,t})();function sA(t){return t.type.prototype.ngOnChanges&&(t.setInput=_F),yF}function yF(){let t=lA(this),e=t?.current;if(e){let n=t.previous;if(n===Uo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function _F(t,e,n,r,i){let o=this.declaredInputs[r],a=lA(t)||EF(t,{previous:Uo,current:null}),c=a.current||(a.current={}),u=a.previous,h=u[o];c[o]=new om(h&&h.currentValue,n,u===Uo),oA(t,e,i,n)}var aA="__ngSimpleChanges__";function lA(t){return t[aA]||null}function EF(t,e){return t[aA]=e}var xD=[];var at=function(t,e=null,n){for(let r=0;r<xD.length;r++){let i=xD[r];i(t,e,n)}};function IF(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let a=sA(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function wF(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:h,ngOnDestroy:m}=o;a&&(t.contentHooks??=[]).push(-n,a),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),h&&((t.viewHooks??=[]).push(n,h),(t.viewCheckHooks??=[]).push(n,h)),m!=null&&(t.destroyHooks??=[]).push(n,m)}}function em(t,e,n){cA(t,e,3,n)}function tm(t,e,n,r){(t[Se]&3)===n&&cA(t,e,n,r)}function dE(t,e){let n=t[Se];(n&3)===e&&(n&=16383,n+=1,t[Se]=n)}function cA(t,e,n,r){let i=r!==void 0?t[ia]&65535:0,o=r??-1,a=e.length-1,c=0;for(let u=i;u<a;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[ia]+=65536),(c<o||o==-1)&&(bF(t,n,e,u),t[ia]=(t[ia]&4294901760)+u+2),u++}function MD(t,e){at(4,t,e);let n=Ce(null);try{e.call(t)}finally{Ce(n),at(5,t,e)}}function bF(t,e,n,r){let i=n[r]<0,o=n[r+1],a=i?-n[r]:n[r],c=t[a];i?t[Se]>>14<t[ia]>>16&&(t[Se]&3)===e&&(t[Se]+=16384,MD(c,o)):MD(c,o)}var Wl=-1,ua=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function TF(t){return(t.flags&8)!==0}function CF(t){return(t.flags&16)!==0}function SF(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],a=n[r++],c=n[r++];t.setAttribute(e,a,c,o)}else{let o=i,a=n[++r];DF(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),r++}}return r}function uA(t){return t===3||t===4||t===6}function DF(t){return t.charCodeAt(0)===64}function Kl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?PD(t,n,i,null,e[++r]):PD(t,n,i,null,null))}}return t}function PD(t,e,n,r,i){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){a=-1;break}else if(c>e){a=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function dA(t){return t!==Wl}function sm(t){return t&32767}function AF(t){return t>>16}function am(t,e){let n=AF(t),r=e;for(;n>0;)r=r[ra],n--;return r}var IE=!0;function lm(t){let e=IE;return IE=t,e}var xF=256,fA=xF-1,hA=5,MF=0,li={};function PF(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(na)&&(r=n[na]),r==null&&(r=n[na]=MF++);let i=r&fA,o=1<<i;e.data[t+(i>>hA)]|=o}function cm(t,e){let n=pA(t,e);if(n!==-1)return n;let r=e[me];r.firstCreatePass&&(t.injectorIndex=e.length,fE(r.data,t),fE(e,null),fE(r.blueprint,null));let i=XE(t,e),o=t.injectorIndex;if(dA(i)){let a=sm(i),c=am(i,e),u=c[me].data;for(let h=0;h<8;h++)e[o+h]=c[a+h]|u[a+h]}return e[o+8]=i,o}function fE(t,e){t.push(0,0,0,0,0,0,0,0,e)}function pA(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function XE(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=_A(i),r===null)return Wl;if(n++,i=i[ra],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Wl}function wE(t,e,n){PF(t,e,n)}function RF(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(uA(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function mA(t,e,n){if(n&8||t!==void 0)return t;Lp(e,"NodeInjector")}function gA(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[zo],o=Pn(void 0);try{return i?i.get(e,r,n&8):M_(e,r,n&8)}finally{Pn(o)}}return mA(r,e,n)}function vA(t,e,n,r=0,i){if(t!==null){if(e[Se]&2048&&!(r&2)){let a=LF(t,e,n,r,li);if(a!==li)return a}let o=yA(t,e,n,r,li);if(o!==li)return o}return gA(e,n,r,i)}function yA(t,e,n,r,i){let o=OF(n);if(typeof o=="function"){if(!iE(e,t,r))return r&1?mA(i,n,r):gA(e,n,r,i);try{let a;if(a=o(r),a==null&&!(r&8))Lp(n);else return a}finally{oE()}}else if(typeof o=="number"){let a=null,c=pA(t,e),u=Wl,h=r&1?e[Xn][hr]:null;for((c===-1||r&4)&&(u=c===-1?XE(t,e):e[c+8],u===Wl||!ND(r,!1)?c=-1:(a=e[me],c=sm(u),e=am(u,e)));c!==-1;){let m=e[me];if(RD(o,c,m.data)){let v=NF(c,e,n,a,r,h);if(v!==li)return v}u=e[c+8],u!==Wl&&ND(r,e[me].data[c+8]===h)&&RD(o,c,e)?(a=m,c=sm(u),e=am(u,e)):c=-1}}return i}function NF(t,e,n,r,i,o){let a=e[me],c=a.data[t+8],u=r==null?Go(c)&&IE:r!=a&&(c.type&3)!==0,h=i&1&&o===c,m=nm(c,a,n,u,h);return m!==null?yd(e,a,m,c,i):li}function nm(t,e,n,r,i){let o=t.providerIndexes,a=e.data,c=o&1048575,u=t.directiveStart,h=t.directiveEnd,m=o>>20,v=r?c:c+m,I=i?c+m:h;for(let E=v;E<I;E++){let C=a[E];if(E<u&&n===C||E>=u&&C.type===n)return E}if(i){let E=a[u];if(E&&ri(E)&&E.type===n)return u}return null}function yd(t,e,n,r,i){let o=t[n],a=e.data;if(o instanceof ua){let c=o;if(c.resolving){let E=FS(a[n]);throw x_(E)}let u=lm(c.canSeeViewProviders);c.resolving=!0;let h=a[n].type||a[n],m,v=c.injectImpl?Pn(c.injectImpl):null,I=iE(t,r,0);try{o=t[n]=c.factory(void 0,i,a,t,r),e.firstCreatePass&&n>=r.directiveStart&&IF(n,a[n],e)}finally{v!==null&&Pn(v),lm(u),c.resolving=!1,oE()}}return o}function OF(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(na)?t[na]:void 0;return typeof e=="number"?e>=0?e&fA:kF:e}function RD(t,e,n){let r=1<<t;return!!(n[e+(t>>hA)]&r)}function ND(t,e){return!(t&2)&&!(t&1&&e)}var ca=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return vA(this._tNode,this._lView,e,Js(r),n)}};function kF(){return new ca(gn(),je())}function tc(t){return ec(()=>{let e=t.prototype.constructor,n=e[ed]||bE(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ed]||bE(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function bE(t){return w_(t)?()=>{let e=bE(mn(t));return e&&e()}:Fo(t)}function LF(t,e,n,r,i){let o=t,a=e;for(;o!==null&&a!==null&&a[Se]&2048&&!zl(a);){let c=yA(o,a,n,r|2,li);if(c!==li)return c;let u=o.parent;if(!u){let h=a[j_];if(h){let m=h.get(n,li,r);if(m!==li)return m}u=_A(a),a=a[ra]}o=u}return i}function _A(t){let e=t[me],n=e.type;return n===2?e.declTNode:n===1?t[hr]:null}function Td(t){return RF(gn(),t)}function FF(){return nc(gn(),je())}function nc(t,e){return new gr(Mr(t,e))}var gr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=FF}return t})();function VF(t){return t instanceof gr?t.nativeElement:t}function BF(){return this._results[Symbol.iterator]()}var um=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new xt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=zS(e);(this._changesDetected=!$S(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=BF};function EA(t){return(t.flags&128)===128}var JE=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(JE||{}),IA=new Map,jF=0;function UF(){return jF++}function $F(t){IA.set(t[ld],t)}function TE(t){IA.delete(t[ld])}var OD="__ngContext__";function Zl(t,e){ni(e)?(t[OD]=e[ld],$F(e)):t[OD]=e}function wA(t){return TA(t[$l])}function bA(t){return TA(t[fr])}function TA(t){for(;t!==null&&!xr(t);)t=t[fr];return t}var CE;function eI(t){CE=t}function CA(){if(CE!==void 0)return CE;if(typeof document<"u")return document;throw new ue(210,!1)}var Cm=new ce("",{providedIn:"root",factory:()=>zF}),zF="ng",Sm=new ce(""),Yo=new ce("",{providedIn:"platform",factory:()=>"unknown"});var Dm=new ce("",{providedIn:"root",factory:()=>CA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var HF="h",qF="b";var SA="r";var DA="di";var AA=!1,xA=new ce("",{providedIn:"root",factory:()=>AA});var GF=(t,e,n,r)=>{};function WF(t,e,n,r){GF(t,e,n,r)}function tI(t){return(t.flags&32)===32}var KF=()=>null;function MA(t,e,n=!1){return KF(t,e,n)}function PA(t,e){let n=t.contentQueries;if(n!==null){let r=Ce(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a!==-1){let c=t.data[a];qp(o),c.contentQueries(2,e[a],a)}}}finally{Ce(r)}}}function SE(t,e,n){qp(0);let r=Ce(null);try{e(t,n)}finally{Ce(r)}}function RA(t,e,n){if($_(e)){let r=Ce(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let a=i;a<o;a++){let c=t.data[a];if(c.contentQueries){let u=n[a];c.contentQueries(1,u,a)}}}finally{Ce(r)}}}var Xi=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(Xi||{});var Xp;function ZF(){if(Xp===void 0&&(Xp=null,nd.trustedTypes))try{Xp=nd.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xp}function kD(t){return ZF()?.createScriptURL(t)||t}var dm=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Op})`}};function Am(t){return t instanceof dm?t.changingThisBreaksApplicationSecurity:t}function nI(t,e){let n=NA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Op})`)}return n===e}function NA(t){return t instanceof dm&&t.getTypeName()||null}var YF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function OA(t){return t=String(t),t.match(YF)?t:"unsafe:"+t}var xm=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(xm||{});function rc(t){let e=LA();return e?e.sanitize(xm.URL,t)||"":nI(t,"URL")?Am(t):OA(id(t))}function kA(t){let e=LA();if(e)return kD(e.sanitize(xm.RESOURCE_URL,t)||"");if(nI(t,"ResourceURL"))return kD(Am(t));throw new ue(904,!1)}function QF(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?kA:rc}function rI(t,e,n){return QF(e,n)(t)}function LA(){let t=je();return t&&t[ei].sanitizer}function FA(t){return t instanceof Function?t():t}function XF(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var VA="ng-template";function JF(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&XF(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(iI(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function iI(t){return t.type===4&&t.value!==VA}function eV(t,e,n){let r=t.type===4&&!n?VA:t.value;return e===r}function tV(t,e,n){let r=4,i=t.attrs,o=i!==null?iV(i):0,a=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!a&&!Pr(r)&&!Pr(u))return!1;if(a&&Pr(u))continue;a=!1,r=u|r&1;continue}if(!a)if(r&4){if(r=2|r&1,u!==""&&!eV(t,u,n)||u===""&&e.length===1){if(Pr(r))return!1;a=!0}}else if(r&8){if(i===null||!JF(t,i,u,n)){if(Pr(r))return!1;a=!0}}else{let h=e[++c],m=nV(u,i,iI(t),n);if(m===-1){if(Pr(r))return!1;a=!0;continue}if(h!==""){let v;if(m>o?v="":v=i[m+1].toLowerCase(),r&2&&h!==v){if(Pr(r))return!1;a=!0}}}}return Pr(r)||a}function Pr(t){return(t&1)===0}function nV(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let a=e[i];if(a===t)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return oV(e,t)}function rV(t,e,n=!1){for(let r=0;r<e.length;r++)if(tV(t,e[r],n))return!0;return!1}function iV(t){for(let e=0;e<t.length;e++){let n=t[e];if(uA(n))return e}return t.length}function oV(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function LD(t,e){return t?":not("+e.trim()+")":e}function sV(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(r&2){let c=t[++n];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!Pr(a)&&(e+=LD(o,i),i=""),r=a,o=o||!Pr(r);n++}return i!==""&&(e+=LD(o,i)),e}function aV(t){return t.map(sV).join(",")}function lV(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Pr(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var di={};function cV(t,e){return t.createText(e)}function uV(t,e,n){t.setValue(e,n)}function BA(t,e,n){return t.createElement(e,n)}function fm(t,e,n,r,i){t.insertBefore(e,n,r,i)}function jA(t,e,n){t.appendChild(e,n)}function FD(t,e,n,r,i){r!==null?fm(t,e,n,r,i):jA(t,e,n)}function UA(t,e,n,r){t.removeChild(null,e,n,r)}function dV(t,e,n){t.setAttribute(e,"style",n)}function fV(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function $A(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&SF(t,e,r),i!==null&&fV(t,e,i),o!==null&&dV(t,e,o)}function oI(t,e,n,r,i,o,a,c,u,h,m){let v=Kt+r,I=v+i,E=hV(v,I),C=typeof h=="function"?h():h;return E[me]={type:t,blueprint:E,template:n,queries:null,viewQuery:c,declTNode:e,data:E.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:m}}function hV(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:di);return n}function pV(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=oI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function sI(t,e,n,r,i,o,a,c,u,h,m){let v=e.blueprint.slice();return v[Ar]=i,v[Se]=r|4|128|8|64|1024,(h!==null||t&&t[Se]&2048)&&(v[Se]|=2048),q_(v),v[qt]=v[ra]=t,v[Mt]=n,v[ei]=a||t&&t[ei],v[Et]=c||t&&t[Et],v[zo]=u||t&&t[zo]||null,v[hr]=o,v[ld]=UF(),v[jl]=m,v[j_]=h,v[Xn]=e.type==2?t[Xn]:v,v}function mV(t,e,n){let r=Mr(e,t),i=pV(n),o=t[ei].rendererFactory,a=aI(t,sI(t,i,null,zA(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=a}function zA(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function HA(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function aI(t,e){return t[$l]?t[B_][fr]=e:t[$l]=e,t[B_]=e,e}function he(t=1){qA(rn(),je(),Wo()+t,!1)}function qA(t,e,n,r){if(!r)if((e[Se]&3)===3){let o=t.preOrderCheckHooks;o!==null&&em(e,o,n)}else{let o=t.preOrderHooks;o!==null&&tm(e,o,0,n)}Ko(n)}var Mm=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Mm||{});function DE(t,e,n,r){let i=Ce(null);try{let[o,a,c]=t.inputs[n],u=null;(a&Mm.SignalBased)!==0&&(u=e[o][Mn]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):oA(e,u,o,r)}finally{Ce(i)}}var ci=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(ci||{}),gV;function lI(t,e){return gV(t,e)}var Yl=new Set,cI=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(cI||{}),Cd=new ce(""),VD=new Set;function Qo(t){VD.has(t)||(VD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var GA=!1,AE=class extends xt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,XS()&&(this.destroyRef=W(Qi,{optional:!0})??void 0,this.pendingTasks=W(ai,{optional:!0})??void 0)}emit(e){let n=Ce(null);try{super.next(e)}finally{Ce(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),a=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let c=super.subscribe({next:i,error:o,complete:a});return e instanceof bt&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Pt=AE;function WA(t){let e,n;function r(){t=md;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function BD(t){return queueMicrotask(()=>t()),()=>{t=md}}var uI="isAngularZone",hm=uI+"_ID",vV=0,it=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Pt(!1);onMicrotaskEmpty=new Pt(!1);onStable=new Pt(!1);onError=new Pt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=GA}=e;if(typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,EV(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(uI)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ue(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,e,yV,md,md);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},yV={};function dI(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _V(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){WA(()=>{t.callbackScheduled=!1,xE(t),t.isCheckStableRunning=!0,dI(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),xE(t)}function EV(t){let e=()=>{_V(t)},n=vV++;t._inner=t._inner.fork({name:"angular",properties:{[uI]:!0,[hm]:n,[hm+n]:!0},onInvokeTask:(r,i,o,a,c,u)=>{if(IV(u))return r.invokeTask(o,a,c,u);try{return jD(t),r.invokeTask(o,a,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),UD(t)}},onInvoke:(r,i,o,a,c,u,h)=>{try{return jD(t),r.invoke(o,a,c,u,h)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!wV(u)&&e(),UD(t)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,xE(t),dI(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function xE(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function jD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function UD(t){t._nesting--,dI(t)}var pm=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Pt;onMicrotaskEmpty=new Pt;onStable=new Pt;onError=new Pt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function IV(t){return KA(t,"__ignore_ng_zone__")}function wV(t){return KA(t,"__scheduler_tick__")}function KA(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ZA=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=de({token:t,providedIn:"root",factory:()=>new t})}return t})();var bV=new ce("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function YA(t,e){let n=t.get(bV);if(Array.isArray(e))for(let r of e)n.queue.add(r);else n.queue.add(e);n.scheduler&&n.scheduler(t)}function TV(t,e){for(let[n,r]of e)YA(t,r.animateFns)}function $D(t,e,n,r){let i=t?.[oa]?.enter;e!==null&&i&&i.has(n.index)&&TV(r,i)}function Gl(t,e,n,r,i,o,a,c){if(i!=null){let u,h=!1;xr(i)?u=i:ni(i)&&(h=!0,i=i[Ar]);let m=pr(i);t===0&&r!==null?($D(c,r,o,n),a==null?jA(e,r,m):fm(e,r,m,a||null,!0)):t===1&&r!==null?($D(c,r,o,n),fm(e,r,m,a||null,!0)):t===2?zD(c,o,n,v=>{UA(e,m,h,v)}):t===3&&zD(c,o,n,()=>{e.destroyNode(m)}),u!=null&&FV(e,t,n,u,o,r,a)}}function CV(t,e){QA(t,e),e[Ar]=null,e[hr]=null}function SV(t,e,n,r,i,o){r[Ar]=i,r[hr]=e,Rm(t,r,n,1,i,o)}function QA(t,e){e[ei].changeDetectionScheduler?.notify(9),Rm(t,e,e[Et],2,null,null)}function DV(t){let e=t[$l];if(!e)return hE(t[me],t);for(;e;){let n=null;if(ni(e))n=e[$l];else{let r=e[Ft];r&&(n=r)}if(!n){for(;e&&!e[fr]&&e!==t;)ni(e)&&hE(e[me],e),e=e[qt];e===null&&(e=t),ni(e)&&hE(e[me],e),n=e&&e[fr]}e=n}}function fI(t,e){let n=t[sa],r=n.indexOf(e);n.splice(r,1)}function Pm(t,e){if(aa(e))return;let n=e[Et];n.destroyNode&&Rm(t,e,n,3,null,null),DV(e)}function hE(t,e){if(aa(e))return;let n=Ce(null);try{e[Se]&=-129,e[Se]|=256,e[Jn]&&Ku(e[Jn]),MV(t,e),xV(t,e),e[me].type===1&&e[Et].destroy();let r=e[Ho];if(r!==null&&xr(e[qt])){r!==e[qt]&&fI(r,e);let i=e[ti];i!==null&&i.detachView(t)}TE(e)}finally{Ce(n)}}function zD(t,e,n,r){let i=t?.[oa];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);t&&Yl.add(t),YA(n,()=>{if(i.leave&&i.leave.has(e.index)){let a=i.leave.get(e.index),c=[];if(a)for(let u=0;u<a.animateFns.length;u++){let h=a.animateFns[u],{promise:m}=h();c.push(m)}i.running=Promise.allSettled(c),AV(t,r)}else t&&Yl.delete(t),r(!1)})}function AV(t,e){let n=t[oa]?.running;if(n){n.then(()=>{t[oa].running=void 0,Yl.delete(t),e(!0)});return}e(!1)}function xV(t,e){let n=t.cleanup,r=e[Ul];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let c=n[a+3];c>=0?r[c]():r[-c].unsubscribe(),a+=2}else{let c=r[n[a+1]];n[a].call(c)}r!==null&&(e[Ul]=null);let i=e[Ki];if(i!==null){e[Ki]=null;for(let a=0;a<i.length;a++){let c=i[a];c()}}let o=e[cd];if(o!==null){e[cd]=null;for(let a of o)a.destroy()}}function MV(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ua)){let o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let c=i[o[a]],u=o[a+1];at(4,c,u);try{u.call(c)}finally{at(5,c,u)}}else{at(4,i,o);try{o.call(i)}finally{at(5,i,o)}}}}}function PV(t,e,n){return RV(t,e.parent,n)}function RV(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Ar];if(Go(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Xi.None||i===Xi.Emulated)return null}return Mr(r,n)}function NV(t,e,n){return kV(t,e,n)}function OV(t,e,n){return t.type&40?Mr(t,n):null}var kV=OV,HD;function hI(t,e,n,r){let i=PV(t,r,e),o=e[Et],a=r.parent||e[hr],c=NV(a,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)FD(o,i,n[u],c,!1);else FD(o,i,n,c,!1);HD!==void 0&&HD(o,r,e,n,i)}function gd(t,e){if(e!==null){let n=e.type;if(n&3)return Mr(e,t);if(n&4)return ME(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return gd(t,r);{let i=t[e.index];return xr(i)?ME(-1,i):pr(i)}}else{if(n&128)return gd(t,e.next);if(n&32)return lI(e,t)()||pr(t[e.index]);{let r=XA(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Vo(t[Xn]);return gd(i,r)}else return gd(t,e.next)}}}return null}function XA(t,e){if(e!==null){let r=t[Xn][hr],i=e.projection;return r.projection[i]}return null}function ME(t,e){let n=Ft+t+1;if(n<e.length){let r=e[n],i=r[me].firstChild;if(i!==null)return gd(r,i)}return e[qo]}function pI(t,e,n,r,i,o,a){for(;n!=null;){let c=r[zo];if(n.type===128){n=n.next;continue}let u=r[n.index],h=n.type;if(a&&e===0&&(u&&Zl(pr(u),r),n.flags|=2),!tI(n))if(h&8)pI(t,e,n.child,r,i,o,!1),Gl(e,t,c,i,u,n,o,r);else if(h&32){let m=lI(n,r),v;for(;v=m();)Gl(e,t,c,i,v,n,o,r);Gl(e,t,c,i,u,n,o,r)}else h&16?LV(t,e,r,n,i,o):Gl(e,t,c,i,u,n,o,r);n=a?n.projectionNext:n.next}}function Rm(t,e,n,r,i,o){pI(n,r,t.firstChild,e,i,o,!1)}function LV(t,e,n,r,i,o){let a=n[Xn],u=a[hr].projection[r.projection];if(Array.isArray(u))for(let h=0;h<u.length;h++){let m=u[h];Gl(e,t,n[zo],i,m,r,o,n)}else{let h=u,m=a[qt];EA(r)&&(h.flags|=128),pI(t,e,h,m,i,o,!0)}}function FV(t,e,n,r,i,o,a){let c=r[qo],u=pr(r);c!==u&&Gl(e,t,n,o,c,i,a);for(let h=Ft;h<r.length;h++){let m=r[h];Rm(m[me],m,t,e,o,c)}}function VV(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:ci.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ci.Important),t.setStyle(n,r,i,o))}}function JA(t,e,n,r,i){let o=Wo(),a=r&2;try{Ko(-1),a&&e.length>Kt&&qA(t,e,Kt,!1),at(a?2:0,i,n),n(r,i)}finally{Ko(o),at(a?3:1,i,n)}}function ex(t,e,n){qV(t,e,n),(n.flags&64)===64&&GV(t,e,n)}function mI(t,e,n=Mr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],c=a===-1?n(e,t):t[a];t[i++]=c}}}function BV(t,e,n,r){let o=r.get(xA,AA)||n===Xi.ShadowDom,a=t.selectRootElement(e,o);return jV(a),a}function jV(t){UV(t)}var UV=()=>null;function $V(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function zV(t,e,n,r,i,o){let a=e[me];if(gI(t,a,e,n,r)){Go(t)&&HV(e,t.index);return}t.type&3&&(n=$V(n)),tx(t,e,n,r,i,o)}function tx(t,e,n,r,i,o){if(t.type&3){let a=Mr(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(a,n,r)}else t.type&12}function HV(t,e){let n=mr(e,t);n[Se]&16||(n[Se]|=64)}function qV(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Go(n)&&mV(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||cm(n,e);let o=n.initialInputs;for(let a=r;a<i;a++){let c=t.data[a],u=yd(e,t,a,n);if(Zl(u,e),o!==null&&QV(e,a-r,u,c,n,o),ri(c)){let h=mr(n.index,e);h[Mt]=yd(e,t,a,n)}}}function GV(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,a=_D();try{Ko(o);for(let c=r;c<i;c++){let u=t.data[c],h=e[c];Hp(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&WV(u,h)}}finally{Ko(-1),Hp(a)}}function WV(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function KV(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];rV(e,o.selectors,!1)&&(r??=[],ri(o)?r.unshift(o):r.push(o))}return r}function ZV(t,e,n,r,i,o){let a=Mr(t,e);YV(e[Et],a,o,t.value,n,r,i)}function YV(t,e,n,r,i,o,a){if(o==null)t.removeAttribute(e,i,n);else{let c=a==null?id(o):a(o,r||"",i);t.setAttribute(e,i,c,n)}}function QV(t,e,n,r,i,o){let a=o[e];if(a!==null)for(let c=0;c<a.length;c+=2){let u=a[c],h=a[c+1];DE(r,n,u,h)}}function nx(t,e,n,r,i){let o=Kt+n,a=e[me],c=i(a,e,t,r,n);e[o]=c,Hl(t,!0);let u=t.type===2;return u?($A(e[Et],c,t),(lD()===0||Up(t))&&Zl(c,e),cD()):Zl(c,e),Zp()&&(!u||!tI(t))&&hI(a,e,c,t),t}function rx(t){let e=t;return eE()?hD():(e=e.parent,Hl(e,!1)),e}function XV(t,e){let n=t[zo];if(!n)return;let r;try{r=n.get(In,null)}catch{r=null}r?.(e)}function gI(t,e,n,r,i){let o=t.inputs?.[r],a=t.hostDirectiveInputs?.[r],c=!1;if(a)for(let u=0;u<a.length;u+=2){let h=a[u],m=a[u+1],v=e.data[h];DE(v,n[h],m,i),c=!0}if(o)for(let u of o){let h=n[u],m=e.data[u];DE(m,h,r,i),c=!0}return c}function JV(t,e){let n=mr(e,t),r=n[me];e2(r,n);let i=n[Ar];i!==null&&n[jl]===null&&(n[jl]=MA(i,n[zo])),at(18),vI(r,n,n[Mt]),at(19,n[Mt])}function e2(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function vI(t,e,n){Gp(e);try{let r=t.viewQuery;r!==null&&SE(1,r,n);let i=t.template;i!==null&&JA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ti]?.finishViewCreation(t),t.staticContentQueries&&PA(t,e),t.staticViewQueries&&SE(2,t.viewQuery,n);let o=t.components;o!==null&&t2(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Se]&=-5,Wp()}}function t2(t,e){for(let n=0;n<e.length;n++)JV(t,e[n])}function Nm(t,e,n,r){let i=Ce(null);try{let o=e.tView,c=t[Se]&4096?4096:16,u=sI(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),h=t[e.index];u[Ho]=h;let m=t[ti];return m!==null&&(u[ti]=m.createEmbeddedView(o)),vI(o,u,n),u}finally{Ce(i)}}function _d(t,e){return!e||e.firstChild===null||EA(t)}function Ed(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(pr(o)),xr(o)&&ix(o,r);let a=n.type;if(a&8)Ed(t,e,n.child,r);else if(a&32){let c=lI(n,e),u;for(;u=c();)r.push(u)}else if(a&16){let c=XA(e,n);if(Array.isArray(c))r.push(...c);else{let u=Vo(e[Xn]);Ed(u[me],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function ix(t,e){for(let n=Ft;n<t.length;n++){let r=t[n],i=r[me].firstChild;i!==null&&Ed(r[me],r,i,e)}t[qo]!==t[Ar]&&e.push(t[qo])}function ox(t){if(t[jp]!==null){for(let e of t[jp])e.impl.addSequence(e);t[jp].length=0}}var sx=[];function n2(t){return t[Jn]??r2(t)}function r2(t){let e=sx.pop()??Object.create(o2);return e.lView=t,e}function i2(t){t.lView[Jn]!==t&&(t.lView=null,sx.push(t))}var o2=Ne(J({},yl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{hd(t.lView)},consumerOnSignalRead(){this.lView[Jn]=this}});function s2(t){let e=t[Jn]??Object.create(a2);return e.lView=t,e}var a2=Ne(J({},yl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Vo(t.lView);for(;e&&!ax(e[me]);)e=Vo(e);e&&G_(e)},consumerOnSignalRead(){this.lView[Jn]=this}});function ax(t){return t.type!==2}function lx(t){if(t[cd]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[cd])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Se]&8192)}}var l2=100;function cx(t,e=0){let r=t[ei].rendererFactory,i=!1;i||r.begin?.();try{c2(t,e)}finally{i||r.end?.()}}function c2(t,e){let n=tE();try{nE(!0),PE(t,e);let r=0;for(;fd(t);){if(r===l2)throw new ue(103,!1);r++,PE(t,1)}}finally{nE(n)}}function u2(t,e,n,r){if(aa(e))return;let i=e[Se],o=!1,a=!1;Gp(e);let c=!0,u=null,h=null;o||(ax(t)?(h=n2(e),u=El(h)):Qh()===null?(c=!1,h=s2(e),u=El(h)):e[Jn]&&(Ku(e[Jn]),e[Jn]=null));try{q_(e),mD(t.bindingStartIndex),n!==null&&JA(t,e,n,2,r);let m=(i&3)===3;if(!o)if(m){let E=t.preOrderCheckHooks;E!==null&&em(e,E,null)}else{let E=t.preOrderHooks;E!==null&&tm(e,E,0,null),dE(e,0)}if(a||d2(e),lx(e),ux(e,0),t.contentQueries!==null&&PA(t,e),!o)if(m){let E=t.contentCheckHooks;E!==null&&em(e,E)}else{let E=t.contentHooks;E!==null&&tm(e,E,1),dE(e,1)}h2(t,e);let v=t.components;v!==null&&fx(e,v,0);let I=t.viewQuery;if(I!==null&&SE(2,I,r),!o)if(m){let E=t.viewCheckHooks;E!==null&&em(e,E)}else{let E=t.viewHooks;E!==null&&tm(e,E,2),dE(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Bp]){for(let E of e[Bp])E();e[Bp]=null}o||(ox(e),e[Se]&=-73)}catch(m){throw o||hd(e),m}finally{h!==null&&(Gu(h,u),c&&i2(h)),Wp()}}function ux(t,e){for(let n=wA(t);n!==null;n=bA(n))for(let r=Ft;r<n.length;r++){let i=n[r];dx(i,e)}}function d2(t){for(let e=wA(t);e!==null;e=bA(e)){if(!(e[Se]&2))continue;let n=e[sa];for(let r=0;r<n.length;r++){let i=n[r];G_(i)}}}function f2(t,e,n){at(18);let r=mr(e,t);dx(r,n),at(19,r[Mt])}function dx(t,e){$p(t)&&PE(t,e)}function PE(t,e){let r=t[me],i=t[Se],o=t[Jn],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(o?.dirty&&Wu(o)),a||=!1,o&&(o.dirty=!1),t[Se]&=-9217,a)u2(r,t,r.template,t[Mt]);else if(i&8192){let c=Ce(null);try{lx(t),ux(t,1);let u=r.components;u!==null&&fx(t,u,1),ox(t)}finally{Ce(c)}}}function fx(t,e,n){for(let r=0;r<e.length;r++)f2(t,e[r],n)}function h2(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ko(~i);else{let o=i,a=n[++r],c=n[++r];yD(a,o);let u=e[o];at(24,u),c(2,u),at(25,u)}}}finally{Ko(-1)}}function yI(t,e){let n=tE()?64:1088;for(t[ei].changeDetectionScheduler?.notify(e);t;){t[Se]|=n;let r=Vo(t);if(zl(t)&&!r)return t;t=r}return null}function hx(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function px(t,e){let n=Ft+e;if(n<t.length)return t[n]}function Om(t,e,n,r=!0){let i=e[me];if(p2(i,e,t,n),r){let a=ME(n,t),c=e[Et],u=c.parentNode(t[qo]);u!==null&&SV(i,t[hr],c,e,u,a)}let o=e[jl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function mx(t,e){let n=Id(t,e);return n!==void 0&&Pm(n[me],n),n}function Id(t,e){if(t.length<=Ft)return;let n=Ft+e,r=t[n];if(r){let i=r[Ho];i!==null&&i!==t&&fI(i,r),e>0&&(t[n-1][fr]=r[fr]);let o=od(t,Ft+e);CV(r[me],r);let a=o[ti];a!==null&&a.detachView(o[me]),r[qt]=null,r[fr]=null,r[Se]&=-129}return r}function p2(t,e,n,r){let i=Ft+r,o=n.length;r>0&&(n[i-1][fr]=e),r<o-Ft?(e[fr]=n[i],P_(n,Ft+r,e)):(n.push(e),e[fr]=null),e[qt]=n;let a=e[Ho];a!==null&&n!==a&&gx(a,e);let c=e[ti];c!==null&&c.insertView(t),zp(e),e[Se]|=128}function gx(t,e){let n=t[sa],r=e[qt];if(ni(r))t[Se]|=2;else{let i=r[qt][Xn];e[Xn]!==i&&(t[Se]|=2)}n===null?t[sa]=[e]:n.push(e)}var Zo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[me];return Ed(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Mt]}set context(e){this._lView[Mt]=e}get destroyed(){return aa(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[qt];if(xr(e)){let n=e[ud],r=n?n.indexOf(this):-1;r>-1&&(Id(e,r),od(n,r))}this._attachedToViewContainer=!1}Pm(this._lView[me],this._lView)}onDestroy(e){W_(this._lView,e)}markForCheck(){yI(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Se]&=-129}reattach(){zp(this._lView),this._lView[Se]|=128}detectChanges(){this._lView[Se]|=1024,cx(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=zl(this._lView),n=this._lView[Ho];n!==null&&!e&&fI(n,this._lView),QA(this._lView[me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=e;let n=zl(this._lView),r=this._lView[Ho];r!==null&&!n&&gx(r,this._lView),zp(this._lView)}};var Ql=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=m2;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Nm(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Zo(o)}}return t})();function m2(){return _I(gn(),je())}function _I(t,e){return t.type&4?new Ql(e,t,nc(t,e)):null}function km(t,e,n,r,i){let o=t.data[e];if(o===null)o=g2(t,e,n,r,i),vD()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let a=fD();o.injectorIndex=a===null?-1:a.injectorIndex}return Hl(o,!0),o}function g2(t,e,n,r,i){let o=J_(),a=eE(),c=a?o:o&&o.parent,u=t.data[e]=y2(t,c,n,e,r,i);return v2(t,u,o,a),u}function v2(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function y2(t,e,n,r,i,o){let a=e?e.injectorIndex:-1,c=0;return dD()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var HX=new RegExp(`^(\\d+)*(${qF}|${HF})*(.*)`);function _2(t){let e=t[U_]??[],r=t[qt][Et],i=[];for(let o of e)o.data[DA]!==void 0?i.push(o):E2(o,r);t[U_]=i}function E2(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[SA];for(;n<i;){let o=r.nextSibling;UA(e,r,!1),r=o,n++}}}var I2=()=>null,w2=()=>null;function RE(t,e){return I2(t,e)}function vx(t,e,n){return w2(t,e,n)}var yx=class{},Lm=class{},NE=class{resolveComponentFactory(e){throw new ue(917,!1)}},Sd=class{static NULL=new NE},da=class{},Xo=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>b2()}return t})();function b2(){let t=je(),e=gn(),n=mr(e.index,t);return(ni(n)?n:t)[Et]}var _x=(()=>{class t{static \u0275prov=de({token:t,providedIn:"root",factory:()=>null})}return t})();var rm={},OE=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,rm,r);return i!==rm||n===rm?i:this.parentInjector.get(e,n,r)}};function mm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number")o=c;else if(o==1)i=I_(i,c);else if(o==2){let u=c,h=e[++a];r=I_(r,u+": "+h+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function fe(t,e=0){let n=je();if(n===null)return pe(t,e);let r=gn();return vA(r,n,mn(t),e)}function T2(t,e,n,r,i){let o=r===null?null:{"":-1},a=i(t,n);if(a!==null){let c=a,u=null,h=null;for(let m of a)if(m.resolveHostDirectives!==null){[c,u,h]=m.resolveHostDirectives(a);break}D2(t,e,n,c,o,u,h)}o!==null&&r!==null&&C2(n,r,o)}function C2(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new ue(-301,!1);r.push(e[i],o)}}function S2(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function D2(t,e,n,r,i,o,a){let c=r.length,u=!1;for(let I=0;I<c;I++){let E=r[I];!u&&ri(E)&&(u=!0,S2(t,n,I)),wE(cm(n,e),t,E.type)}N2(n,t.data.length,c);for(let I=0;I<c;I++){let E=r[I];E.providersResolver&&E.providersResolver(E)}let h=!1,m=!1,v=HA(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let I=0;I<c;I++){let E=r[I];if(n.mergedAttrs=Kl(n.mergedAttrs,E.hostAttrs),x2(t,n,e,v,E),R2(v,E,i),a!==null&&a.has(E)){let[N,k]=a.get(E);n.directiveToIndex.set(E.type,[v,N+n.directiveStart,k+n.directiveStart])}else(o===null||!o.has(E))&&n.directiveToIndex.set(E.type,v);E.contentQueries!==null&&(n.flags|=4),(E.hostBindings!==null||E.hostAttrs!==null||E.hostVars!==0)&&(n.flags|=64);let C=E.type.prototype;!h&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),h=!0),!m&&(C.ngOnChanges||C.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),m=!0),v++}A2(t,n,o)}function A2(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))qD(0,e,i,r),qD(1,e,i,r),WD(e,r,!1);else{let o=n.get(i);GD(0,e,o,r),GD(1,e,o,r),WD(e,r,!0)}}}function qD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a;t===0?a=e.inputs??={}:a=e.outputs??={},a[o]??=[],a[o].push(r),Ex(e,o)}}function GD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[a]??=[],c[a].push(r,o),Ex(e,a)}}function Ex(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function WD(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||iI(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let a=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let h=i[u];for(let m of h)if(m===e){a??=[],a.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let h=o[u];for(let m=0;m<h.length;m+=2)if(h[m]===e){a??=[],a.push(h[m+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(a)}function x2(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Fo(i.type,!0)),a=new ua(o,ri(i),fe,null);t.blueprint[r]=a,n[r]=a,M2(t,e,r,HA(t,n,i.hostVars,di),i)}function M2(t,e,n,r,i){let o=i.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let c=~e.index;P2(a)!=c&&a.push(c),a.push(n,r,o)}}function P2(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function R2(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ri(e)&&(n[""]=t)}}function N2(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ix(t,e,n,r,i,o,a,c){let u=e[me],h=u.consts,m=ii(h,a),v=km(u,t,n,r,m);return o&&T2(u,e,v,ii(h,c),i),v.mergedAttrs=Kl(v.mergedAttrs,v.attrs),v.attrs!==null&&mm(v,v.attrs,!1),v.mergedAttrs!==null&&mm(v,v.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,v),v}function wx(t,e){wF(t,e),$_(e)&&t.queries.elementEnd(e)}function O2(t,e,n,r,i,o){let a=e.consts,c=ii(a,i),u=km(e,t,n,r,c);if(u.mergedAttrs=Kl(u.mergedAttrs,u.attrs),o!=null){let h=ii(a,o);u.localNames=[];for(let m=0;m<h.length;m+=2)u.localNames.push(h[m],-1)}return u.attrs!==null&&mm(u,u.attrs,!1),u.mergedAttrs!==null&&mm(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function k2(t,e,n){return t[e]=n}function Jo(t,e,n){if(n===di)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function im(t,e,n){return function r(i){let o=Go(t)?mr(t.index,e):e;yI(o,5);let a=e[Mt],c=KD(e,a,n,i),u=r.__ngNextListenerFn__;for(;u;)c=KD(e,a,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function KD(t,e,n,r){let i=Ce(null);try{return at(6,e,n),n(r)!==!1}catch(o){return XV(t,o),!1}finally{at(7,e,n),Ce(i)}}function bx(t,e,n,r,i,o,a,c){let u=Up(t),h=!1,m=null;if(!r&&u&&(m=F2(e,n,o,t.index)),m!==null){let v=m.__ngLastListenerFn__||m;v.__ngNextListenerFn__=a,m.__ngLastListenerFn__=a,h=!0}else{let v=Mr(t,n),I=r?r(v):v;WF(n,I,o,c);let E=i.listen(I,o,c);if(!L2(o)){let C=r?N=>r(pr(N[t.index])):t.index;Tx(C,e,n,o,c,E,!1)}}return h}function L2(t){return t.startsWith("animation")||t.startsWith("transition")}function F2(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===n&&i[o+1]===r){let c=e[Ul],u=i[o+2];return c&&c.length>u?c[u]:null}typeof a=="string"&&(o+=2)}return null}function Tx(t,e,n,r,i,o,a){let c=e.firstCreatePass?Z_(e):null,u=K_(n),h=u.length;u.push(i,o),c&&c.push(r,t,h,(h+1)*(a?-1:1))}function ZD(t,e,n,r,i,o){let a=e[n],c=e[me],h=c.data[n].outputs[r],v=a[h].subscribe(o);Tx(t.index,c,e,i,o,v,!0)}var kE=Symbol("BINDING");var gm=class extends Sd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=$o(e);return new Xl(n,this.ngModule)}};function V2(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Mm.SignalBased)!==0};return i&&(o.transform=i),o})}function B2(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function j2(t,e,n){let r=e instanceof Lt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new OE(n,r):n}function U2(t){let e=t.get(da,null);if(e===null)throw new ue(407,!1);let n=t.get(_x,null),r=t.get(Bo,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function $2(t,e){let n=Cx(t);return BA(e,n,n==="svg"?eD:n==="math"?tD:null)}function Cx(t){return(t.selectors[0][0]||"div").toLowerCase()}var Xl=class extends Lm{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=V2(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=B2(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=aV(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,a){at(22);let c=Ce(null);try{let u=this.componentDef,h=z2(r,u,a,o),m=j2(u,i||this.ngModule,e),v=U2(m),I=v.rendererFactory.createRenderer(null,u),E=r?BV(I,r,u.encapsulation,m):$2(u,I),C=a?.some(YD)||o?.some(B=>typeof B!="function"&&B.bindings.some(YD)),N=sI(null,h,null,512|zA(u),null,null,v,I,m,null,MA(E,m,!0));N[Kt]=E,Gp(N);let k=null;try{let B=Ix(Kt,N,2,"#host",()=>h.directiveRegistry,!0,0);$A(I,E,B),Zl(E,N),ex(h,N,B),RA(h,B,N),wx(h,B),n!==void 0&&q2(B,this.ngContentSelectors,n),k=mr(B.index,N),N[Mt]=k[Mt],vI(h,N,null)}catch(B){throw k!==null&&TE(k),TE(N),B}finally{at(23),Wp()}return new vm(this.componentType,N,!!C)}finally{Ce(c)}}};function z2(t,e,n,r){let i=t?["ng-version","20.3.10"]:lV(e.selectors[0]),o=null,a=null,c=0;if(n)for(let m of n)c+=m[kE].requiredVars,m.create&&(m.targetIdx=0,(o??=[]).push(m)),m.update&&(m.targetIdx=0,(a??=[]).push(m));if(r)for(let m=0;m<r.length;m++){let v=r[m];if(typeof v!="function")for(let I of v.bindings){c+=I[kE].requiredVars;let E=m+1;I.create&&(I.targetIdx=E,(o??=[]).push(I)),I.update&&(I.targetIdx=E,(a??=[]).push(I))}}let u=[e];if(r)for(let m of r){let v=typeof m=="function"?m:m.type,I=k_(v);u.push(I)}return oI(0,null,H2(o,a),1,c,u,null,null,null,[i],null)}function H2(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function YD(t){let e=t[kE].kind;return e==="input"||e==="twoWay"}var vm=class extends yx{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=dd(n[me],Kt),this.location=nc(this._tNode,n),this.instance=mr(this._tNode.index,n)[Mt],this.hostView=this.changeDetectorRef=new Zo(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=gI(r,i[me],i,e,n);this.previousInputValues.set(e,n);let a=mr(r.index,i);yI(a,1)}get injector(){return new ca(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function q2(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var pa=(()=>{class t{static __NG_ELEMENT_ID__=G2}return t})();function G2(){let t=gn();return Dx(t,je())}var W2=pa,Sx=class extends W2{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return nc(this._hostTNode,this._hostLView)}get injector(){return new ca(this._hostTNode,this._hostLView)}get parentInjector(){let e=XE(this._hostTNode,this._hostLView);if(dA(e)){let n=am(e,this._hostLView),r=sm(e),i=n[me].data[r+8];return new ca(i,n)}else return new ca(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=QD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=RE(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(c,i,_d(this._hostTNode,a)),c}createComponent(e,n,r,i,o,a,c){let u=e&&!vF(e),h;if(u)h=n;else{let k=n||{};h=k.index,r=k.injector,i=k.projectableNodes,o=k.environmentInjector||k.ngModuleRef,a=k.directives,c=k.bindings}let m=u?e:new Xl($o(e)),v=r||this.parentInjector;if(!o&&m.ngModule==null){let B=(u?v:this.parentInjector).get(Lt,null);B&&(o=B)}let I=$o(m.componentType??{}),E=RE(this._lContainer,I?.id??null),C=E?.firstChild??null,N=m.create(v,i,C,o,a,c);return this.insertImpl(N.hostView,h,_d(this._hostTNode,E)),N}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(iD(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[qt],h=new Sx(u,u[hr],u[qt]);h.detach(h.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return Om(a,i,o,r),e.attachToViewContainerRef(),P_(pE(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=QD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Id(this._lContainer,n);r&&(od(pE(this._lContainer),n),Pm(r[me],r))}detach(e){let n=this._adjustIndex(e,-1),r=Id(this._lContainer,n);return r&&od(pE(this._lContainer),n)!=null?new Zo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function QD(t){return t[ud]}function pE(t){return t[ud]||(t[ud]=[])}function Dx(t,e){let n,r=e[t.index];return xr(r)?n=r:(n=hx(r,e,null,t),e[t.index]=n,aI(e,n)),Z2(n,e,t,r),new Sx(n,t,e)}function K2(t,e){let n=t[Et],r=n.createComment(""),i=Mr(e,t),o=n.parentNode(i);return fm(n,o,r,n.nextSibling(i),!1),r}var Z2=X2,Y2=()=>!1;function Q2(t,e,n){return Y2(t,e,n)}function X2(t,e,n,r){if(t[qo])return;let i;n.type&8?i=pr(r):i=K2(e,n),t[qo]=i}var LE=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},FE=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let a=n.getByIndex(o),c=this.queries[a.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)EI(e,n).matches!==null&&this.queries[n].setDirty()}},VE=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=sB(e):this.predicate=e}},BE=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},jE=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,J2(n,o)),this.matchTNodeWithReadOption(e,n,nm(n,e,o,!1,!1))}else r===Ql?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,nm(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===gr||i===pa||i===Ql&&n.type&4)this.addMatch(n.index,-2);else{let o=nm(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function J2(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function eB(t,e){return t.type&11?nc(t,e):t.type&4?_I(t,e):null}function tB(t,e,n,r){return n===-1?eB(e,t):n===-2?nB(t,e,r):yd(t,t[me],n,e)}function nB(t,e,n){if(n===gr)return nc(e,t);if(n===Ql)return _I(e,t);if(n===pa)return Dx(e,t)}function Ax(t,e,n,r){let i=e[ti].queries[r];if(i.matches===null){let o=t.data,a=n.matches,c=[];for(let u=0;a!==null&&u<a.length;u+=2){let h=a[u];if(h<0)c.push(null);else{let m=o[h];c.push(tB(e,m,a[u+1],n.metadata.read))}}i.matches=c}return i.matches}function UE(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let a=Ax(t,e,i,n);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(a[c/2]);else{let h=o[c+1],m=e[-u];for(let v=Ft;v<m.length;v++){let I=m[v];I[Ho]===I[qt]&&UE(I[me],I,h,r)}if(m[sa]!==null){let v=m[sa];for(let I=0;I<v.length;I++){let E=v[I];UE(E[me],E,h,r)}}}}}return r}function rB(t,e){return t[ti].queries[e].queryList}function iB(t,e,n){let r=new um((n&4)===4);return aD(t,e,r,r.destroy),(e[ti]??=new FE).queries.push(new LE(r))-1}function oB(t,e,n,r){let i=rn();if(i.firstCreatePass){let o=gn();aB(i,new VE(e,n,r),o.index),lB(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return iB(i,je(),n)}function sB(t){return t.split(",").map(e=>e.trim())}function aB(t,e,n){t.queries===null&&(t.queries=new BE),t.queries.track(new jE(e,n))}function lB(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function EI(t,e){return t.queries.getByIndex(e)}function cB(t,e){let n=t[me],r=EI(n,e);return r.crossesNgTemplate?UE(n,t,e,[]):Ax(n,t,r,e)}var fa=class{},Fm=class{};var ym=class extends fa{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new gm(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=O_(e);this._bootstrapComponents=FA(o.bootstrap),this._r3Injector=sE(e,n,[{provide:fa,useValue:this},{provide:Sd,useValue:this.componentFactoryResolver},...r],Zi(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},_m=class extends Fm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ym(this.moduleType,e,[])}};var wd=class extends fa{injector;componentFactoryResolver=new gm(this);instance=null;constructor(e){super();let n=new ta([...e.providers,{provide:fa,useValue:this},{provide:Sd,useValue:this.componentFactoryResolver}],e.parent||ad(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Dd(t,e,n=null){return new wd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var uB=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=L_(!1,n.type),i=r.length>0?Dd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=de({token:t,providedIn:"environment",factory:()=>new t(pe(Lt))})}return t})();function ht(t){return ec(()=>{let e=xx(t),n=Ne(J({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===JE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(uB).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Xi.Emulated,styles:t.styles||Yn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Qo("NgStandalone"),Mx(n);let r=t.dependencies;return n.directiveDefs=XD(r,dB),n.pipeDefs=XD(r,GS),n.id=pB(n),n})}function dB(t){return $o(t)||k_(t)}function fi(t){return ec(()=>({type:t.type,bootstrap:t.bootstrap||Yn,declarations:t.declarations||Yn,imports:t.imports||Yn,exports:t.exports||Yn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function fB(t,e){if(t==null)return Uo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,a,c,u;Array.isArray(i)?(c=i[0],o=i[1],a=i[2]??o,u=i[3]||null):(o=i,a=i,c=Mm.None,u=null),n[o]=[r,c,u],e[o]=a}return n}function hB(t){if(t==null)return Uo;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function wn(t){return ec(()=>{let e=xx(t);return Mx(e),e})}function II(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function xx(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Uo,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Yn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:fB(t.inputs,e),outputs:hB(t.outputs),debugInfo:null}}function Mx(t){t.features?.forEach(e=>e(t))}function XD(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function pB(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function mB(t){return Object.getPrototypeOf(t.prototype).constructor}function Ji(t){let e=mB(t.type),n=!0,r=[t];for(;e;){let i;if(ri(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ue(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let a=t;a.inputs=mE(t.inputs),a.declaredInputs=mE(t.declaredInputs),a.outputs=mE(t.outputs);let c=i.hostBindings;c&&EB(t,c);let u=i.viewQuery,h=i.contentQueries;if(u&&yB(t,u),h&&_B(t,h),gB(t,i),LS(t.outputs,i.outputs),ri(i)&&i.data.animation){let m=t.data;m.animation=(m.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let a=0;a<o.length;a++){let c=o[a];c&&c.ngInherit&&c(t),c===Ji&&(n=!1)}}e=Object.getPrototypeOf(e)}vB(r)}function gB(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function vB(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Kl(i.hostAttrs,n=Kl(n,i.hostAttrs))}}function mE(t){return t===Uo?{}:t===Yn?[]:t}function yB(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function _B(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function EB(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function IB(t,e,n,r,i,o,a,c){if(n.firstCreatePass){t.mergedAttrs=Kl(t.mergedAttrs,t.attrs);let m=t.tView=oI(2,t,i,o,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),m.queries=n.queries.embeddedTView(t))}c&&(t.flags|=c),Hl(t,!1);let u=wB(n,e,t,r);Zp()&&hI(n,e,u,t),Zl(u,e);let h=hx(u,e,u,t);e[r+Kt]=h,aI(e,h),Q2(h,t,e)}function Em(t,e,n,r,i,o,a,c,u,h,m){let v=n+Kt,I;if(e.firstCreatePass){if(I=km(e,v,4,a||null,c||null),h!=null){let E=ii(e.consts,h);I.localNames=[];for(let C=0;C<E.length;C+=2)I.localNames.push(E[C],-1)}}else I=e.data[v];return IB(I,t,e,n,r,i,o,u),h!=null&&mI(t,I,m),I}var wB=bB;function bB(t,e,n,r){return Yp(!0),e[Et].createComment("")}var wI=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var bI=new ce("");function eo(t){return!!t&&typeof t.then=="function"}function Vm(t){return!!t&&typeof t.subscribe=="function"}var Px=new ce("");var TI=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=W(Px,{optional:!0})??[];injector=W(Gt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Wt(this.injector,i);if(eo(o))n.push(o);else if(Vm(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bm=new ce("");function Rx(){Hy(()=>{let t="";throw new ue(600,t)})}function Nx(t){return t.isBoundToModule}var TB=10;var es=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=W(In);afterRenderManager=W(ZA);zonelessEnabled=W(pd);rootEffectScheduler=W(uE);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new xt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=W(ai);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Pe(n=>!n))}constructor(){W(Cd,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=W(Lt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Gt.NULL){return this._injector.get(it).run(()=>{at(10);let a=n instanceof Lm;if(!this._injector.get(TI).done){let C="";throw new ue(405,C)}let u;a?u=n:u=this._injector.get(Sd).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let h=Nx(u)?void 0:this._injector.get(fa),m=r||u.selector,v=u.create(i,[],m,h),I=v.location.nativeElement,E=v.injector.get(bI,null);return E?.registerApplication(I),v.onDestroy(()=>{this.detachView(v.hostView),vd(this.components,v),E?.unregisterApplication(I)}),this._loadComponent(v),at(11,v),v})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){at(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(cI.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ue(101,!1);let n=Ce(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ce(n),this.afterTick.next(),at(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(da,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<TB;)at(14),this.synchronizeOnce(),at(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!fd(i))continue;let o=r&&!this.zonelessEnabled?0:1;cx(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>fd(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;vd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Bm,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>vd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ue(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ad(t,e,n,r){let i=je(),o=la();if(Jo(i,o,e)){let a=rn(),c=Kp();ZV(c,i,t,e,n,r)}return Ad}var QX=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var $E=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,o),this.attach(i,a)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e,!0))}};function gE(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function CB(t,e,n){let r,i,o=0,a=t.length-1,c=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=a&&o<=u;){let h=t.at(o),m=e[o],v=gE(o,h,o,m,n);if(v!==0){v<0&&t.updateValue(o,m),o++;continue}let I=t.at(a),E=e[u],C=gE(a,I,u,E,n);if(C!==0){C<0&&t.updateValue(a,E),a--,u--;continue}let N=n(o,h),k=n(a,I),B=n(o,m);if(Object.is(B,k)){let z=n(u,E);Object.is(z,N)?(t.swap(o,a),t.updateValue(a,E),u--,a--):t.move(a,o),t.updateValue(o,m),o++;continue}if(r??=new Im,i??=eA(t,o,a,n),zE(t,r,o,B))t.updateValue(o,m),o++,a++;else if(i.has(B))r.set(N,t.detach(o)),a--;else{let z=t.create(o,e[o]);t.attach(o,z),o++,a++}}for(;o<=u;)JD(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),h=u.next();for(;!h.done&&o<=a;){let m=t.at(o),v=h.value,I=gE(o,m,o,v,n);if(I!==0)I<0&&t.updateValue(o,v),o++,h=u.next();else{r??=new Im,i??=eA(t,o,a,n);let E=n(o,v);if(zE(t,r,o,E))t.updateValue(o,v),o++,a++,h=u.next();else if(!i.has(E))t.attach(o,t.create(o,v)),o++,a++,h=u.next();else{let C=n(o,m);r.set(C,t.detach(o)),a--}}}for(;!h.done;)JD(t,r,n,t.length,h.value),h=u.next()}for(;o<=a;)t.destroy(t.detach(a--));r?.forEach(u=>{t.destroy(u)})}function zE(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function JD(t,e,n,r,i){if(zE(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function eA(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Im=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function ot(t,e,n,r,i,o,a,c){Qo("NgControlFlow");let u=je(),h=rn(),m=ii(h.consts,o);return Em(u,h,t,e,n,r,i,m,256,a,c),CI}function CI(t,e,n,r,i,o,a,c){Qo("NgControlFlow");let u=je(),h=rn(),m=ii(h.consts,o);return Em(u,h,t,e,n,r,i,m,512,a,c),CI}function st(t,e){Qo("NgControlFlow");let n=je(),r=la(),i=n[r]!==di?n[r]:-1,o=i!==-1?wm(n,Kt+i):void 0,a=0;if(Jo(n,r,t)){let c=Ce(null);try{if(o!==void 0&&mx(o,a),t!==-1){let u=Kt+t,h=wm(n,u),m=WE(n[me],u),v=vx(h,m,n),I=Nm(n,m,e,{dehydratedView:v});Om(h,I,a,_d(m,v))}}finally{Ce(c)}}else if(o!==void 0){let c=px(o,a);c!==void 0&&(c[Mt]=e)}}var HE=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ft}};var qE=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function ma(t,e,n,r,i,o,a,c,u,h,m,v,I){Qo("NgControlFlow");let E=je(),C=rn(),N=u!==void 0,k=je(),B=c?a.bind(k[Xn][Mt]):a,z=new qE(N,B);k[Kt+t]=z,Em(E,C,t+1,e,n,r,i,ii(C.consts,o),256),N&&Em(E,C,t+2,u,h,m,v,ii(C.consts,I),512)}var GE=class extends $E{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Ft}at(e){return this.getLView(e)[Mt].$implicit}attach(e,n){let r=n[jl];this.needsIndexUpdate||=e!==this.length,Om(this.lContainer,n,e,_d(this.templateTNode,r))}detach(e,n){return this.needsIndexUpdate||=e!==this.length-1,n&&SB(this.lContainer,e),DB(this.lContainer,e)}create(e,n){let r=RE(this.lContainer,this.templateTNode.tView.ssrId),i=Nm(this.hostLView,this.templateTNode,new HE(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Pm(e[me],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Mt].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Mt].$index=e}getLView(e){return AB(this.lContainer,e)}};function ga(t){let e=Ce(null),n=Wo();try{let r=je(),i=r[me],o=r[n],a=n+1,c=wm(r,a);if(o.liveCollection===void 0){let h=WE(i,a);o.liveCollection=new GE(c,r,h)}else o.liveCollection.reset();let u=o.liveCollection;if(CB(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let h=la(),m=u.length===0;if(Jo(r,h,m)){let v=n+2,I=wm(r,v);if(m){let E=WE(i,v),C=vx(I,E,r),N=Nm(r,E,void 0,{dehydratedView:C});Om(I,N,0,_d(E,C))}else i.firstUpdatePass&&_2(I),mx(I,0)}}}finally{Ce(e)}}function wm(t,e){return t[e]}function SB(t,e){if(t.length<=Ft)return;let n=Ft+e,r=t[n];r&&r[oa]&&(r[oa].skipLeaveAnimations=!0)}function DB(t,e){return Id(t,e)}function AB(t,e){return px(t,e)}function WE(t,e){return dd(t,e)}function va(t,e,n){let r=je(),i=la();if(Jo(r,i,e)){let o=rn(),a=Kp();zV(a,r,t,e,r[Et],n)}return va}function tA(t,e,n,r,i){gI(e,t,n,i?"class":"style",r)}function oe(t,e,n,r){let i=je(),o=i[me],a=t+Kt,c=o.firstCreatePass?Ix(a,i,2,e,KV,uD(),n,r):o.data[a];if(nx(c,i,t,e,Ox),Up(c)){let u=i[me];ex(u,i,c),RA(u,c,i)}return r!=null&&mI(i,c),oe}function se(){let t=rn(),e=gn(),n=rx(e);return t.firstCreatePass&&wx(t,n),Q_(n)&&X_(),Y_(),n.classesWithoutHost!=null&&TF(n)&&tA(t,n,je(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&CF(n)&&tA(t,n,je(),n.stylesWithoutHost,!1),se}function ut(t,e,n,r){return oe(t,e,n,r),se(),ut}function K(t,e,n,r){let i=je(),o=i[me],a=t+Kt,c=o.firstCreatePass?O2(a,o,2,e,n,r):o.data[a];return nx(c,i,t,e,Ox),r!=null&&mI(i,c),K}function Y(){let t=gn(),e=rx(t);return Q_(e)&&X_(),Y_(),Y}function Be(t,e,n,r){return K(t,e,n,r),Y(),Be}var Ox=(t,e,n,r,i)=>(Yp(!0),BA(e[Et],r,CD()));function ya(){return je()}function ic(t,e,n){let r=je(),i=la();if(Jo(r,i,e)){let o=rn(),a=Kp();tx(a,r,t,e,r[Et],n)}return ic}var xd="en-US";var xB=xd;function kx(t){typeof t=="string"&&(xB=t.toLowerCase().replace(/_/g,"-"))}function tr(t,e,n){let r=je(),i=rn(),o=gn();return MB(i,r,r[Et],o,t,e,n),tr}function hi(t,e,n){let r=je(),i=rn(),o=gn();return(o.type&3||n)&&bx(o,i,r,n,r[Et],t,e,im(o,r,e)),hi}function MB(t,e,n,r,i,o,a){let c=!0,u=null;if((r.type&3||a)&&(u??=im(r,e,o),bx(r,t,e,a,n,i,o,u)&&(c=!1)),c){let h=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let v=0;v<m.length;v+=2){let I=m[v],E=m[v+1];u??=im(r,e,o),ZD(r,e,I,E,i,u)}if(h&&h.length)for(let v of h)u??=im(r,e,o),ZD(r,e,v,i,i,u)}}function Zt(t=1){return TD(t)}function SI(t,e,n,r){oB(t,e,n,r)}function DI(t){let e=je(),n=rn(),r=rE();qp(r+1);let i=EI(n,r);if(t.dirty&&rD(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=cB(e,r);t.reset(o,VF),t.notifyOnChanges()}return!0}return!1}function AI(){return rB(je(),rE())}function Jp(t,e){return t<<17|e<<2}function ha(t){return t>>17&32767}function PB(t){return(t&2)==2}function RB(t,e){return t&131071|e<<17}function KE(t){return t|2}function Jl(t){return(t&131068)>>2}function vE(t,e){return t&-131069|e<<2}function NB(t){return(t&1)===1}function ZE(t){return t|1}function OB(t,e,n,r,i,o){let a=o?e.classBindings:e.styleBindings,c=ha(a),u=Jl(a);t[r]=n;let h=!1,m;if(Array.isArray(n)){let v=n;m=v[1],(m===null||Bl(v,m)>0)&&(h=!0)}else m=n;if(i)if(u!==0){let I=ha(t[c+1]);t[r+1]=Jp(I,c),I!==0&&(t[I+1]=vE(t[I+1],r)),t[c+1]=RB(t[c+1],r)}else t[r+1]=Jp(c,0),c!==0&&(t[c+1]=vE(t[c+1],r)),c=r;else t[r+1]=Jp(u,0),c===0?c=r:t[u+1]=vE(t[u+1],r),u=r;h&&(t[r+1]=KE(t[r+1])),nA(t,m,r,!0),nA(t,m,r,!1),kB(e,m,t,r,o),a=Jp(c,u),o?e.classBindings=a:e.styleBindings=a}function kB(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Bl(o,e)>=0&&(n[r+1]=ZE(n[r+1]))}function nA(t,e,n,r){let i=t[n+1],o=e===null,a=r?ha(i):Jl(i),c=!1;for(;a!==0&&(c===!1||o);){let u=t[a],h=t[a+1];LB(u,e)&&(c=!0,t[a+1]=r?ZE(h):KE(h)),a=r?ha(h):Jl(h)}c&&(t[n+1]=r?KE(i):ZE(i))}function LB(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Bl(t,e)>=0:!1}function Md(t,e){return FB(t,e,null,!0),Md}function FB(t,e,n,r){let i=je(),o=rn(),a=gD(2);if(o.firstUpdatePass&&BB(o,t,a,r),e!==di&&Jo(i,a,e)){let c=o.data[Wo()];HB(o,c,i,i[Et],t,i[a+1]=qB(e,n),r,a)}}function VB(t,e){return e>=t.expandoStartIndex}function BB(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Wo()],a=VB(t,n);GB(o,r)&&e===null&&!a&&(e=!1),e=jB(i,o,e,r),OB(i,o,e,n,a,r)}}function jB(t,e,n,r){let i=ED(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=yE(null,t,e,n,r),n=bd(n,e.attrs,r),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==i)if(n=yE(i,t,e,n,r),o===null){let u=UB(t,e,r);u!==void 0&&Array.isArray(u)&&(u=yE(null,t,e,u[1],r),u=bd(u,e.attrs,r),$B(t,e,r,u))}else o=zB(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function UB(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Jl(r)!==0)return t[ha(r)]}function $B(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ha(i)]=r}function zB(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let a=t[o].hostAttrs;r=bd(r,a,n)}return bd(r,e.attrs,n)}function yE(t,e,n,r,i){let o=null,a=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<a&&(o=e[c],r=bd(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function bd(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?i=a:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),qS(t,a,n?!0:e[++o]))}return t===void 0?null:t}function HB(t,e,n,r,i,o,a,c){if(!(e.type&3))return;let u=t.data,h=u[c+1],m=NB(h)?rA(u,e,n,i,Jl(h),a):void 0;if(!bm(m)){bm(o)||PB(h)&&(o=rA(u,null,n,i,c,a));let v=z_(Wo(),n);VV(r,a,v,i,o)}}function rA(t,e,n,r,i,o){let a=e===null,c;for(;i>0;){let u=t[i],h=Array.isArray(u),m=h?u[1]:u,v=m===null,I=n[i+1];I===di&&(I=v?Yn:void 0);let E=v?Vp(I,r):m===r?I:void 0;if(h&&!bm(E)&&(E=Vp(u,r)),bm(E)&&(c=E,a))return c;let C=t[i+1];i=a?ha(C):Jl(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Vp(u,r))}return c}function bm(t){return t!==void 0}function qB(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Zi(Am(t)))),t}function GB(t,e){return(t.flags&(e?8:16))!==0}function $(t,e=""){let n=je(),r=rn(),i=t+Kt,o=r.firstCreatePass?km(r,i,1,e,null):r.data[i],a=WB(r,n,o,e,t);n[i]=a,Zp()&&hI(r,n,a,o),Hl(o,!1)}var WB=(t,e,n,r,i)=>(Yp(!0),cV(e[Et],r));function KB(t,e,n,r=""){return Jo(t,la(),n)?e+id(n)+r:di}function jn(t){return to("",t),jn}function to(t,e,n){let r=je(),i=KB(r,t,e,n);return i!==di&&ZB(r,Wo(),i),to}function ZB(t,e,n){let r=z_(e,t);uV(t[Et],r,n)}function YB(t,e,n){let r=rn();if(r.firstCreatePass){let i=ri(t);YE(n,r.data,r.blueprint,i,!0),YE(e,r.data,r.blueprint,i,!1)}}function YE(t,e,n,r,i){if(t=mn(t),Array.isArray(t))for(let o=0;o<t.length;o++)YE(t[o],e,n,r,i);else{let o=rn(),a=je(),c=gn(),u=ea(t)?t:mn(t.provide),h=V_(t),m=c.providerIndexes&1048575,v=c.directiveStart,I=c.providerIndexes>>20;if(ea(t)||!t.multi){let E=new ua(h,i,fe,null),C=EE(u,e,i?m:m+I,v);C===-1?(wE(cm(c,a),o,u),_E(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(E),a.push(E)):(n[C]=E,a[C]=E)}else{let E=EE(u,e,m+I,v),C=EE(u,e,m,m+I),N=E>=0&&n[E],k=C>=0&&n[C];if(i&&!k||!i&&!N){wE(cm(c,a),o,u);let B=JB(i?XB:QB,n.length,i,r,h,t);!i&&k&&(n[C].providerFactory=B),_E(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(B),a.push(B)}else{let B=Lx(n[i?C:E],h,!i&&r);_E(o,t,E>-1?E:C,B)}!i&&r&&k&&n[C].componentProviders++}}}function _E(t,e,n,r){let i=ea(e),o=QS(e);if(i||o){let u=(o?mn(e.useClass):e).prototype.ngOnDestroy;if(u){let h=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let m=h.indexOf(n);m===-1?h.push(n,[r,u]):h[m+1].push(r,u)}else h.push(n,u)}}}function Lx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function EE(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function QB(t,e,n,r,i){return QE(this.multi,[])}function XB(t,e,n,r,i){let o=this.multi,a;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=yd(r,r[me],this.providerFactory.index,i);a=u.slice(0,c),QE(o,a);for(let h=c;h<u.length;h++)a.push(u[h])}else a=[],QE(o,a);return a}function QE(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function JB(t,e,n,r,i,o){let a=new ua(t,n,fe,null);return a.multi=[],a.index=e,a.componentProviders=0,Lx(a,i,r&&!n),a}function Pd(t,e=[]){return n=>{n.providersResolver=(r,i)=>YB(r,i?i(t):t,e)}}function ej(t,e){let n=t[e];return n===di?void 0:n}function tj(t,e,n,r,i,o){let a=e+n;return Jo(t,a,i)?k2(t,a+1,o?r.call(o,i):r(i)):ej(t,a+1)}function Rd(t,e){let n=rn(),r,i=t+Kt;n.firstCreatePass?(r=nj(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Fo(r.type,!0)),a,c=Pn(fe);try{let u=lm(!1),h=o();return lm(u),H_(n,je(),i,h),h}finally{Pn(c)}}function nj(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Nd(t,e,n){let r=t+Kt,i=je(),o=nD(i,r);return rj(i,r)?tj(i,pD(),e,o.transform,n,o):o.transform(n)}function rj(t,e){return t[me].data[e].pure}var Tm=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},xI=(()=>{class t{compileModuleSync(n){return new _m(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=O_(n),o=FA(i.declarations).reduce((a,c)=>{let u=$o(c);return u&&a.push(new Xl(u)),a},[]);return new Tm(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ij=(()=>{class t{zone=W(it);changeDetectionScheduler=W(Bo);applicationRef=W(es);applicationErrorHandler=W(In);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fx=new ce("",{factory:()=>!1});function MI({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new it(Ne(J({},RI()),{scheduleInRootZone:n})),[{provide:it,useFactory:t},{provide:Yi,multi:!0,useFactory:()=>{let r=W(ij,{optional:!0});return()=>r.initialize()}},{provide:Yi,multi:!0,useFactory:()=>{let r=W(oj);return()=>{r.initialize()}}},e===!0?{provide:lE,useValue:!0}:[],{provide:cE,useValue:n??GA},{provide:In,useFactory:()=>{let r=W(it),i=W(Lt),o;return a=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw a}):(o??=i.get(Jr),o.handleError(a))})}}}]}function PI(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=MI({ngZoneFactory:()=>{let i=RI(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Qo("NgZone_CoalesceEvent"),new it(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Qn([{provide:Fx,useValue:!0},{provide:pd,useValue:!1},r])}function RI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var oj=(()=>{class t{subscription=new bt;initialized=!1;zone=W(it);pendingTasks=W(ai);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{it.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{it.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Vx=(()=>{class t{applicationErrorHandler=W(In);appRef=W(es);taskService=W(ai);ngZone=W(it);zonelessEnabled=W(pd);tracing=W(Cd,{optional:!0});disableScheduling=W(lE,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new bt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(hm):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(W(cE,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof pm||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?BD:WA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(hm+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,BD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sj(){return typeof $localize<"u"&&$localize.locale||xd}var jm=new ce("",{providedIn:"root",factory:()=>W(jm,{optional:!0,skipSelf:!0})||sj()});function Vt(t){return NS(t)}function oc(t,e){return tp(t,e?.equal)}var Bx=class{[Mn];constructor(e){this[Mn]=e}destroy(){this[Mn].destroy()}};var $x=Symbol("InputSignalNode#UNSET"),wj=Ne(J({},np),{transformFn:void 0,applyValueToInputSignal(t,e){wl(t,e)}});function zx(t,e){let n=Object.create(wj);n.value=t,n.transformFn=e?.transform;function r(){if(_l(n),n.value===$x){let i=null;throw new ue(-950,i)}return n.value}return r[Mn]=n,r}var $m=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Td(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},bj=new ce("");bj.__NG_ELEMENT_ID__=t=>{let e=gn();if(e===null)throw new ue(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new ue(204,!1)};function jx(t,e){return zx(t,e)}function Tj(t){return zx($x,t)}var Hx=(jx.required=Tj,jx);var NI=new ce(""),Cj=new ce("");function Od(t){return!t.moduleRef}function Sj(t){let e=Od(t)?t.r3Injector:t.moduleRef.injector,n=e.get(it);return n.run(()=>{Od(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(In),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Od(t)){let o=()=>e.destroy(),a=t.platformInjector.get(NI);a.add(o),e.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>t.moduleRef.destroy(),a=t.platformInjector.get(NI);a.add(o),t.moduleRef.onDestroy(()=>{vd(t.allPlatformModules,t.moduleRef),i.unsubscribe(),a.delete(o)})}return Aj(r,n,()=>{let o=e.get(ai),a=o.add(),c=e.get(TI);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(jm,xd);if(kx(u||xd),!e.get(Cj,!0))return Od(t)?e.get(es):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Od(t)){let m=e.get(es);return t.rootComponent!==void 0&&m.bootstrap(t.rootComponent),m}else return Dj?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(a))})})}var Dj;function Aj(t,e,n){try{let r=n();return eo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Um=null;function xj(t=[],e){return Gt.create({name:e,providers:[{provide:sd,useValue:"platform"},{provide:NI,useValue:new Set([()=>Um=null])},...t]})}function Mj(t=[]){if(Um)return Um;let e=xj(t);return Um=e,Rx(),Pj(e),e}function Pj(t){let e=t.get(Sm,null);Wt(t,()=>{e?.forEach(n=>n())})}function OI(){return!1}var _a=(()=>{class t{static __NG_ELEMENT_ID__=Rj}return t})();function Rj(t){return Nj(gn(),je(),(t&16)===16)}function Nj(t,e,n){if(Go(t)&&!n){let r=mr(t.index,e);return new Zo(r,r)}else if(t.type&175){let r=e[Xn];return new Zo(r,e)}return null}function qx(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;at(8);try{let o=i?.injector??Mj(r),a=[MI({}),{provide:Bo,useExisting:Vx},DD,...n||[]],c=new wd({providers:a,parent:o,debugName:"",runEnvironmentInitializers:!1});return Sj({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{at(9)}}function kd(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Kx=null;function vr(){return Kx}function kI(t){Kx??=t}var Ld=class{},LI=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:()=>W(Zx),providedIn:"platform"})}return t})();var Zx=(()=>{class t extends LI{_location;_history;_doc=W(on);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vr().getBaseHref(this._doc)}onPopState(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Yx(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Gx(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function ts(t){return t&&t[0]!=="?"?`?${t}`:t}var sc=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:()=>W(Xx),providedIn:"root"})}return t})(),Qx=new ce(""),Xx=(()=>{class t extends sc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??W(on).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Yx(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ts(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+ts(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+ts(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(pe(LI),pe(Qx,8))};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ac=(()=>{class t{_subject=new xt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Lj(Gx(Wx(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ts(r))}normalize(n){return t.stripTrailingSlash(kj(this._basePath,Wx(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ts(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ts(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ts;static joinWithSlash=Yx;static stripTrailingSlash=Gx;static \u0275fac=function(r){return new(r||t)(pe(sc))};static \u0275prov=de({token:t,factory:()=>Oj(),providedIn:"root"})}return t})();function Oj(){return new ac(pe(sc))}function kj(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Wx(t){return t.replace(/\/index.html$/,"")}function Lj(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Fj(t,e){return new ue(2100,!1)}var FI=class{createSubscription(e,n,r){return Vt(()=>e.subscribe({next:n,error:r}))}dispose(e){Vt(()=>e.unsubscribe())}},VI=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},Vj=new VI,Bj=new FI,Fd=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=W(In);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(eo(n))return Vj;if(Vm(n))return Bj;throw Fj(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(fe(_a,16))};static \u0275pipe=II({name:"async",type:t,pure:!1})}return t})();var yr=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=fi({type:t});static \u0275inj=Dr({})}return t})();function BI(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Vd=class{};var Jx="browser";var Bd=class{_doc;constructor(e){this._doc=e}manager},zm=(()=>{class t extends Bd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(pe(on))};static \u0275prov=de({token:t,factory:t.\u0275fac})}return t})(),qm=new ce(""),qI=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(a=>{a.manager=this});let i=n.filter(a=>!(a instanceof zm));this._plugins=i.slice().reverse();let o=n.find(a=>a instanceof zm);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new ue(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(pe(qm),pe(it))};static \u0275prov=de({token:t,factory:t.\u0275fac})}return t})(),UI="ng-app-id";function eM(t){for(let e of t)e.remove()}function tM(t,e){let n=e.createElement("style");return n.textContent=t,n}function Uj(t,e,n,r){let i=t.head?.querySelectorAll(`style[${UI}="${e}"],link[${UI}="${e}"]`);if(i)for(let o of i)o.removeAttribute(UI),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function zI(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var GI=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,Uj(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,tM);r?.forEach(i=>this.addUsage(i,this.external,zI))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(eM(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])eM(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,tM(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,zI(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(pe(on),pe(Cm),pe(Dm,8),pe(Yo))};static \u0275prov=de({token:t,factory:t.\u0275fac})}return t})(),$I={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},WI=/%COMP%/g;var rM="%COMP%",$j=`_nghost-${rM}`,zj=`_ngcontent-${rM}`,Hj=!0,qj=new ce("",{providedIn:"root",factory:()=>Hj});function Gj(t){return zj.replace(WI,t)}function Wj(t){return $j.replace(WI,t)}function iM(t,e){return e.map(n=>n.replace(WI,t))}var KI=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,a,c,u,h=null,m=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=h,this.tracingService=m,this.platformIsServer=!1,this.defaultRenderer=new jd(n,a,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Hm?i.applyToHost(n):i instanceof Ud&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,v=this.platformIsServer,I=this.tracingService;switch(r.encapsulation){case Xi.Emulated:o=new Hm(u,h,r,this.appId,m,a,c,v,I);break;case Xi.ShadowDom:return new HI(u,h,n,r,a,c,this.nonce,v,I);default:o=new Ud(u,h,r,m,a,c,v,I);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(pe(qI),pe(GI),pe(Cm),pe(qj),pe(on),pe(Yo),pe(it),pe(Dm),pe(Cd,8))};static \u0275prov=de({token:t,factory:t.\u0275fac})}return t})(),jd=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS($I[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(nM(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(nM(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ue(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=$I[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=$I[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ci.DashCase|ci.Important)?e.style.setProperty(n,r,i&ci.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ci.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=vr().getGlobalEventTarget(this.doc,e),!e))throw new ue(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function nM(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var HI=class extends jd{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,a,c,u,h){super(e,o,a,u,h),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=i.styles;m=iM(i.id,m);for(let I of m){let E=document.createElement("style");c&&E.setAttribute("nonce",c),E.textContent=I,this.shadowRoot.appendChild(E)}let v=i.getExternalStyles?.();if(v)for(let I of v){let E=zI(I,o);c&&E.setAttribute("nonce",c),this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ud=class extends jd{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,a,c,u,h){super(e,o,a,c,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let m=r.styles;this.styles=h?iM(h,m):m,this.styleUrls=r.getExternalStyles?.(h)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Yl.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Hm=class extends Ud{contentAttr;hostAttr;constructor(e,n,r,i,o,a,c,u,h){let m=i+"-"+r.id;super(e,n,r,o,a,c,u,h,m),this.contentAttr=Gj(m),this.hostAttr=Wj(m)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Gm=class t extends Ld{supportsDOMEvents=!0;static makeCurrent(){kI(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Kj();return n==null?null:Zj(n)}resetBaseElement(){$d=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return BI(document.cookie,e)}},$d=null;function Kj(){return $d=$d||document.head.querySelector("base"),$d?$d.getAttribute("href"):null}function Zj(t){return new URL(t,document.baseURI).pathname}var Yj=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac})}return t})(),oM=["alt","control","meta","shift"],Qj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},sM=(()=>{class t extends Bd{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let a=t.parseEventName(r),c=t.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(n,a.domEventName,c,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),oM.forEach(h=>{let m=r.indexOf(h);m>-1&&(r.splice(m,1),a+=h+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(n,r){let i=Qj[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),oM.forEach(a=>{if(a!==i){let c=Xj[a];c(n)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(pe(on))};static \u0275prov=de({token:t,factory:t.\u0275fac})}return t})();function ZI(t,e,n){let r=J({rootComponent:t,platformRef:n?.platformRef},Jj(e));return qx(r)}function Jj(t){return{appProviders:[...iU,...t?.providers??[]],platformProviders:rU}}function eU(){Gm.makeCurrent()}function tU(){return new Jr}function nU(){return eI(document),document}var rU=[{provide:Yo,useValue:Jx},{provide:Sm,useValue:eU,multi:!0},{provide:on,useFactory:nU}];var iU=[{provide:sd,useValue:"root"},{provide:Jr,useFactory:tU},{provide:qm,useClass:zm,multi:!0,deps:[on]},{provide:qm,useClass:sM,multi:!0,deps:[on]},KI,GI,qI,{provide:da,useExisting:KI},{provide:Vd,useClass:Yj},[]];var aM=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(pe(on))};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var De="primary",rf=Symbol("RouteTitle"),ew=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function wa(t){return new ew(t)}function mM(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],c=t[o];if(a[0]===":")i[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function sU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!pi(t[n],e[n]))return!1;return!0}function pi(t,e){let n=t?tw(t):void 0,r=e?tw(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!gM(t[i],e[i]))return!1;return!0}function tw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function gM(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function vM(t){return t.length>0?t[t.length-1]:null}function io(t){return o_(t)?t:eo(t)?gt(Promise.resolve(t)):_e(t)}var aU={exact:_M,subset:EM},yM={exact:lU,subset:cU,ignored:()=>!0};function lM(t,e,n){return aU[n.paths](t.root,e.root,n.matrixParams)&&yM[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function lU(t,e){return pi(t,e)}function _M(t,e,n){if(!Ea(t.segments,e.segments)||!Zm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!_M(t.children[r],e.children[r],n))return!1;return!0}function cU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gM(t[n],e[n]))}function EM(t,e,n){return IM(t,e,e.segments,n)}function IM(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ea(i,n)||e.hasChildren()||!Zm(i,n,r))}else if(t.segments.length===n.length){if(!Ea(t.segments,n)||!Zm(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!EM(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ea(t.segments,i)||!Zm(t.segments,i,r)||!t.children[De]?!1:IM(t.children[De],e,o,r)}}function Zm(t,e,n){return e.every((r,i)=>yM[n](t[i].parameters,r.parameters))}var gi=class{root;queryParams;fragment;_queryParamMap;constructor(e=new et([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=wa(this.queryParams),this._queryParamMap}toString(){return fU.serialize(this)}},et=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ym(this)}},ns=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=wa(this.parameters),this._parameterMap}toString(){return bM(this)}};function uU(t,e){return Ea(t,e)&&t.every((n,r)=>pi(n.parameters,e[r].parameters))}function Ea(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function dU(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===De&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==De&&(n=n.concat(e(i,r)))}),n}var of=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:()=>new ba,providedIn:"root"})}return t})(),ba=class{parse(e){let n=new rw(e);return new gi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${zd(e.root,!0)}`,r=mU(e.queryParams),i=typeof e.fragment=="string"?`#${hU(e.fragment)}`:"";return`${n}${r}${i}`}},fU=new ba;function Ym(t){return t.segments.map(e=>bM(e)).join("/")}function zd(t,e){if(!t.hasChildren())return Ym(t);if(e){let n=t.children[De]?zd(t.children[De],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==De&&r.push(`${i}:${zd(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=dU(t,(r,i)=>i===De?[zd(t.children[De],!1)]:[`${i}:${zd(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[De]!=null?`${Ym(t)}/${n[0]}`:`${Ym(t)}/(${n.join("//")})`}}function wM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wm(t){return wM(t).replace(/%3B/gi,";")}function hU(t){return encodeURI(t)}function nw(t){return wM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qm(t){return decodeURIComponent(t)}function cM(t){return Qm(t.replace(/\+/g,"%20"))}function bM(t){return`${nw(t.path)}${pU(t.parameters)}`}function pU(t){return Object.entries(t).map(([e,n])=>`;${nw(e)}=${nw(n)}`).join("")}function mU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Wm(n)}=${Wm(i)}`).join("&"):`${Wm(n)}=${Wm(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var gU=/^[^\/()?;#]+/;function YI(t){let e=t.match(gU);return e?e[0]:""}var vU=/^[^\/()?;=#]+/;function yU(t){let e=t.match(vU);return e?e[0]:""}var _U=/^[^=?&#]+/;function EU(t){let e=t.match(_U);return e?e[0]:""}var IU=/^[^&#]+/;function wU(t){let e=t.match(IU);return e?e[0]:""}var rw=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new et([],{}):new et([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[De]=new et(e,n)),r}parseSegment(){let e=YI(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ue(4009,!1);return this.capture(e),new ns(Qm(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=yU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=YI(this.remaining);i&&(r=i,this.capture(r))}e[Qm(n)]=Qm(r)}parseQueryParam(e){let n=EU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=wU(this.remaining);a&&(r=a,this.capture(r))}let i=cM(n),o=cM(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=YI(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ue(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=De);let a=this.parseChildren();n[o??De]=Object.keys(a).length===1&&a[De]?a[De]:new et([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ue(4011,!1)}};function TM(t){return t.segments.length>0?new et([],{[De]:t}):t}function CM(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=CM(i);if(r===De&&o.segments.length===0&&o.hasChildren())for(let[a,c]of Object.entries(o.children))e[a]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new et(t.segments,e);return bU(n)}function bU(t){if(t.numberOfChildren===1&&t.children[De]){let e=t.children[De];return new et(t.segments.concat(e.segments),e.children)}return t}function rs(t){return t instanceof gi}function SM(t,e,n=null,r=null){let i=DM(t);return AM(i,e,n,r)}function DM(t){let e;function n(o){let a={};for(let u of o.children){let h=n(u);a[u.outlet]=h}let c=new et(o.url,a);return o===t&&(e=c),c}let r=n(t.root),i=TM(r);return e??i}function AM(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return QI(i,i,i,n,r);let o=TU(e);if(o.toRoot())return QI(i,i,new et([],{}),n,r);let a=CU(o,i,t),c=a.processChildren?qd(a.segmentGroup,a.index,o.commands):MM(a.segmentGroup,a.index,o.commands);return QI(i,a.segmentGroup,c,n,r)}function Xm(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Kd(t){return typeof t=="object"&&t!=null&&t.outlets}function QI(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,h])=>{o[u]=Array.isArray(h)?h.map(m=>`${m}`):`${h}`});let a;t===e?a=n:a=xM(t,e,n);let c=TM(CM(a));return new gi(c,o,i)}function xM(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=xM(o,e,n)}),new et(t.segments,r)}var Jm=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Xm(r[0]))throw new ue(4003,!1);let i=r.find(Kd);if(i&&i!==vM(r))throw new ue(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function TU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Jm(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,h])=>{c[u]=typeof h=="string"?h.split("/"):h}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Jm(n,e,r)}var uc=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function CU(t,e,n){if(t.isAbsolute)return new uc(e,!0,0);if(!n)return new uc(e,!1,NaN);if(n.parent===null)return new uc(n,!0,0);let r=Xm(t.commands[0])?0:1,i=n.segments.length-1+r;return SU(n,i,t.numberOfDoubleDots)}function SU(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ue(4005,!1);i=r.segments.length}return new uc(r,!1,i-o)}function DU(t){return Kd(t[0])?t[0].outlets:{[De]:t}}function MM(t,e,n){if(t??=new et([],{}),t.segments.length===0&&t.hasChildren())return qd(t,e,n);let r=AU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new et(t.segments.slice(0,r.pathIndex),{});return o.children[De]=new et(t.segments.slice(r.pathIndex),t.children),qd(o,0,i)}else return r.match&&i.length===0?new et(t.segments,{}):r.match&&!t.hasChildren()?iw(t,e,n):r.match?qd(t,0,i):iw(t,e,n)}function qd(t,e,n){if(n.length===0)return new et(t.segments,{});{let r=DU(n),i={};if(Object.keys(r).some(o=>o!==De)&&t.children[De]&&t.numberOfChildren===1&&t.children[De].segments.length===0){let o=qd(t.children[De],e,n);return new et(t.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=MM(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new et(t.segments,i)}}function AU(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let a=t.segments[i],c=n[r];if(Kd(c))break;let u=`${c}`,h=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&h&&typeof h=="object"&&h.outlets===void 0){if(!dM(u,h,a))return o;r+=2}else{if(!dM(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function iw(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Kd(o)){let u=xU(o.outlets);return new et(r,u)}if(i===0&&Xm(n[0])){let u=t.segments[e];r.push(new ns(u.path,uM(n[0]))),i++;continue}let a=Kd(o)?o.outlets[De]:`${o}`,c=i<n.length-1?n[i+1]:null;a&&c&&Xm(c)?(r.push(new ns(a,uM(c))),i+=2):(r.push(new ns(a,{})),i++)}return new et(r,{})}function xU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=iw(new et([],{}),0,r))}),e}function uM(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function dM(t,e,n){return t==n.path&&pi(e,n.parameters)}var Gd="imperative",sn=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(sn||{}),rr=class{id;url;constructor(e,n){this.id=e,this.url=n}},Ta=class extends rr{type=sn.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Or=class extends rr{urlAfterRedirects;type=sn.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rn=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Rn||{}),Zd=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Zd||{}),mi=class extends rr{reason;code;type=sn.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},no=class extends rr{reason;code;type=sn.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},fc=class extends rr{error;target;type=sn.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yd=class extends rr{urlAfterRedirects;state;type=sn.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eg=class extends rr{urlAfterRedirects;state;type=sn.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tg=class extends rr{urlAfterRedirects;state;shouldActivate;type=sn.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ng=class extends rr{urlAfterRedirects;state;type=sn.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rg=class extends rr{urlAfterRedirects;state;type=sn.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ig=class{route;type=sn.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},og=class{route;type=sn.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sg=class{snapshot;type=sn.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ag=class{snapshot;type=sn.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lg=class{snapshot;type=sn.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cg=class{snapshot;type=sn.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Qd=class{},hc=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function MU(t){return!(t instanceof Qd)&&!(t instanceof hc)}function PU(t,e){return t.providers&&!t._injector&&(t._injector=Dd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Nr(t){return t.outlet||De}function RU(t,e){let n=t.filter(r=>Nr(r)===e);return n.push(...t.filter(r=>Nr(r)!==e)),n}function gc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ug=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return gc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new vc(this.rootInjector)}},vc=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ug(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(pe(Lt))};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dg=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ow(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ow(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=sw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sw(e,this._root).map(n=>n.value)}};function ow(t,e){if(t===e.value)return e;for(let n of e.children){let r=ow(t,n);if(r)return r}return null}function sw(t,e){if(t===e.value)return[e];for(let n of e.children){let r=sw(t,n);if(r.length)return r.unshift(e),r}return[]}var nr=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function cc(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Xd=class extends dg{snapshot;constructor(e,n){super(e),this.snapshot=n,pw(this,e)}toString(){return this.snapshot.toString()}};function PM(t){let e=NU(t),n=new Tt([new ns("",{})]),r=new Tt({}),i=new Tt({}),o=new Tt({}),a=new Tt(""),c=new ro(n,r,o,a,i,De,t,e.root);return c.snapshot=e.root,new Xd(new nr(c,[]),e)}function NU(t){let e={},n={},r={},o=new Ia([],e,r,"",n,De,t,null,{});return new Jd("",new nr(o,[]))}var ro=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,a,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Pe(h=>h[rf]))??_e(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Pe(e=>wa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Pe(e=>wa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:J(J({},e.params),t.params),data:J(J({},e.data),t.data),resolve:J(J(J(J({},t.data),e.data),i?.data),t._resolvedData)}:r={params:J({},t.params),data:J({},t.data),resolve:J(J({},t.data),t._resolvedData??{})},i&&NM(i)&&(r.resolve[rf]=i.title),r}var Ia=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[rf]}constructor(e,n,r,i,o,a,c,u,h){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=c,this.routeConfig=u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Jd=class extends dg{url;constructor(e,n){super(n),this.url=e,pw(this,n)}toString(){return RM(this._root)}};function pw(t,e){e.value._routerState=t,e.children.forEach(n=>pw(t,n))}function RM(t){let e=t.children.length>0?` { ${t.children.map(RM).join(", ")} } `:"";return`${t.value}${e}`}function XI(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),pi(e.params,n.params)||t.paramsSubject.next(n.params),sU(e.url,n.url)||t.urlSubject.next(n.url),pi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function aw(t,e){let n=pi(t.params,e.params)&&uU(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||aw(t.parent,e.parent))}function NM(t){return typeof t.title=="string"||t.title===null}var OM=new ce(""),sf=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=De;activateEvents=new Pt;deactivateEvents=new Pt;attachEvents=new Pt;detachEvents=new Pt;routerOutletData=Hx();parentContexts=W(vc);location=W(pa);changeDetector=W(_a);inputBinder=W(gg,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ue(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ue(4013,!1);this._activatedRoute=n;let i=this.location,a=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new lw(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=wn({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ui]})}return t})(),lw=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===ro?this.route:e===vc?this.childContexts:e===OM?this.outletData:this.parent.get(e,n)}},gg=new ce("");var mw=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ht({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ut(0,"router-outlet")},dependencies:[sf],encapsulation:2})}return t})();function gw(t){let e=t.children&&t.children.map(gw),n=e?Ne(J({},t),{children:e}):J({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==De&&(n.component=mw),n}function OU(t,e,n){let r=ef(t,e._root,n?n._root:void 0);return new Xd(r,e)}function ef(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=kU(t,e,n);return new nr(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(c=>ef(t,c)),a}}let r=LU(e.value),i=e.children.map(o=>ef(t,o));return new nr(r,i)}}function kU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ef(t,r,i);return ef(t,r)})}function LU(t){return new ro(new Tt(t.url),new Tt(t.params),new Tt(t.queryParams),new Tt(t.fragment),new Tt(t.data),t.outlet,t.component,t)}var pc=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},kM="ngNavigationCancelingError";function hg(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=rs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=LM(!1,Rn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function LM(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[kM]=!0,n.cancellationCode=e,n}function FU(t){return FM(t)&&rs(t.url)}function FM(t){return!!t&&t[kM]}var VU=(t,e,n,r)=>Pe(i=>(new cw(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),cw=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),XI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=cc(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=cc(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=cc(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=cc(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new cg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ag(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(XI(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),XI(c.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},pg=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},dc=class{component;route;constructor(e,n){this.component=e,this.route=n}};function BU(t,e,n){let r=t._root,i=e?e._root:null;return Hd(r,i,n,[r.value])}function jU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function yc(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!b_(t)?t:e.get(t):r}function Hd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=cc(e);return t.children.forEach(a=>{UU(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,c])=>Wd(c,n.getContext(a),i)),i}function UU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let u=$U(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new pg(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Hd(t,e,c?c.children:null,r,i):Hd(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new dc(c.outlet.component,a))}else a&&Wd(e,c,i),i.canActivateChecks.push(new pg(r)),o.component?Hd(t,null,c?c.children:null,r,i):Hd(t,null,n,r,i);return i}function $U(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ea(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ea(t.url,e.url)||!pi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!aw(t,e)||!pi(t.queryParams,e.queryParams);case"paramsChange":default:return!aw(t,e)}}function Wd(t,e,n){let r=cc(t),i=t.value;Object.entries(r).forEach(([o,a])=>{i.component?e?Wd(a,e.children.getContext(o),n):Wd(a,null,n):Wd(a,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new dc(e.outlet.component,i)):n.canDeactivateChecks.push(new dc(null,i)):n.canDeactivateChecks.push(new dc(null,i))}function af(t){return typeof t=="function"}function zU(t){return typeof t=="boolean"}function HU(t){return t&&af(t.canLoad)}function qU(t){return t&&af(t.canActivate)}function GU(t){return t&&af(t.canActivateChild)}function WU(t){return t&&af(t.canDeactivate)}function KU(t){return t&&af(t.canMatch)}function VM(t){return t instanceof Hi||t?.name==="EmptyError"}var Km=Symbol("INITIAL_VALUE");function mc(){return pn(t=>Sp(t.map(e=>e.pipe(Gi(1),xp(Km)))).pipe(Pe(e=>{for(let n of e)if(n!==!0){if(n===Km)return Km;if(n===!1||ZU(n))return n}return!0}),Vn(e=>e!==Km),Gi(1)))}function ZU(t){return rs(t)||t instanceof pc}function YU(t,e){return kt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?_e(Ne(J({},n),{guardsResult:!0})):QU(a,r,i,t).pipe(kt(c=>c&&zU(c)?XU(r,o,t,e):_e(c)),Pe(c=>Ne(J({},n),{guardsResult:c})))})}function QU(t,e,n,r){return gt(t).pipe(kt(i=>r$(i.component,i.route,n,e,r)),Wi(i=>i!==!0,!0))}function XU(t,e,n,r){return gt(e).pipe(Ys(i=>kl(e$(i.route.parent,r),JU(i.route,r),n$(t,i.path,n),t$(t,i.route,n))),Wi(i=>i!==!0,!0))}function JU(t,e){return t!==null&&e&&e(new lg(t)),_e(!0)}function e$(t,e){return t!==null&&e&&e(new sg(t)),_e(!0)}function t$(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return _e(!0);let i=r.map(o=>Qu(()=>{let a=gc(e)??n,c=yc(o,a),u=qU(c)?c.canActivate(e,t):Wt(a,()=>c(e,t));return io(u).pipe(Wi())}));return _e(i).pipe(mc())}function n$(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>jU(a)).filter(a=>a!==null).map(a=>Qu(()=>{let c=a.guards.map(u=>{let h=gc(a.node)??n,m=yc(u,h),v=GU(m)?m.canActivateChild(r,t):Wt(h,()=>m(r,t));return io(v).pipe(Wi())});return _e(c).pipe(mc())}));return _e(o).pipe(mc())}function r$(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return _e(!0);let a=o.map(c=>{let u=gc(e)??i,h=yc(c,u),m=WU(h)?h.canDeactivate(t,e,n,r):Wt(u,()=>h(t,e,n,r));return io(m).pipe(Wi())});return _e(a).pipe(mc())}function i$(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return _e(!0);let o=i.map(a=>{let c=yc(a,t),u=HU(c)?c.canLoad(e,n):Wt(t,()=>c(e,n));return io(u)});return _e(o).pipe(mc(),BM(r))}function BM(t){return ap(nn(e=>{if(typeof e!="boolean")throw hg(t,e)}),Pe(e=>e===!0))}function o$(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return _e(!0);let o=i.map(a=>{let c=yc(a,t),u=KU(c)?c.canMatch(e,n):Wt(t,()=>c(e,n));return io(u)});return _e(o).pipe(mc(),BM(r))}var tf=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},nf=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function lc(t){return Nl(new tf(t))}function s$(t){return Nl(new ue(4e3,!1))}function a$(t){return Nl(LM(!1,Rn.GuardRejected))}var uw=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return _e(r);if(i.numberOfChildren>1||!i.children[De])return s$(`${e.redirectTo}`);i=i.children[De]}}applyRedirectCommands(e,n,r,i,o){return l$(n,i,o).pipe(Pe(a=>{if(a instanceof gi)throw new nf(a);let c=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),e,r);if(a[0]==="/")throw new nf(c);return c}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new gi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),a={};return Object.entries(n.children).forEach(([c,u])=>{a[c]=this.createSegmentGroup(e,u,r,i)}),new et(o,a)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new ue(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function l$(t,e,n){if(typeof t=="string")return _e(t);let r=t,{queryParams:i,fragment:o,routeConfig:a,url:c,outlet:u,params:h,data:m,title:v}=e;return io(Wt(n,()=>r({params:h,data:m,queryParams:i,fragment:o,routeConfig:a,url:c,outlet:u,title:v})))}var dw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function c$(t,e,n,r,i){let o=jM(t,e,n);return o.matched?(r=PU(e,r),o$(r,e,n,i).pipe(Pe(a=>a===!0?o:J({},dw)))):_e(o)}function jM(t,e,n){if(e.path==="**")return u$(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?J({},dw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||mM)(n,t,e);if(!i)return J({},dw);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let a=i.consumed.length>0?J(J({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function u$(t){return{matched:!0,parameters:t.length>0?vM(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function fM(t,e,n,r){return n.length>0&&h$(t,n,r)?{segmentGroup:new et(e,f$(r,new et(n,t.children))),slicedSegments:[]}:n.length===0&&p$(t,n,r)?{segmentGroup:new et(t.segments,d$(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new et(t.segments,t.children),slicedSegments:n}}function d$(t,e,n,r){let i={};for(let o of n)if(vg(t,e,o)&&!r[Nr(o)]){let a=new et([],{});i[Nr(o)]=a}return J(J({},r),i)}function f$(t,e){let n={};n[De]=e;for(let r of t)if(r.path===""&&Nr(r)!==De){let i=new et([],{});n[Nr(r)]=i}return n}function h$(t,e,n){return n.some(r=>vg(t,e,r)&&Nr(r)!==De)}function p$(t,e,n){return n.some(r=>vg(t,e,r))}function vg(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function m$(t,e,n){return e.length===0&&!t.children[n]}var fw=class{};function g$(t,e,n,r,i,o,a="emptyOnly"){return new hw(t,e,n,r,i,a,o).recognize()}var v$=31,hw=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,a,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.applyRedirects=new uw(this.urlSerializer,this.urlTree)}noMatchError(e){return new ue(4002,`'${e.segmentGroup}'`)}recognize(){let e=fM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Pe(({children:n,rootSnapshot:r})=>{let i=new nr(r,n),o=new Jd("",i),a=SM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(e){let n=new Ia([],Object.freeze({}),Object.freeze(J({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),De,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,De,n).pipe(Pe(r=>({children:r,rootSnapshot:n})),qi(r=>{if(r instanceof nf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof tf?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Pe(a=>a instanceof nr?[a]:[]))}processChildren(e,n,r,i){let o=[];for(let a of Object.keys(r.children))a==="primary"?o.unshift(a):o.push(a);return gt(o).pipe(Ys(a=>{let c=r.children[a],u=RU(n,a);return this.processSegmentGroup(e,u,c,a,i)}),Ap((a,c)=>(a.push(...c),a)),Lo(null),a_(),kt(a=>{if(a===null)return lc(r);let c=UM(a);return y$(c),_e(c)}))}processSegment(e,n,r,i,o,a,c){return gt(n).pipe(Ys(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,a,c).pipe(qi(h=>{if(h instanceof tf)return _e(null);throw h}))),Wi(u=>!!u),qi(u=>{if(VM(u))return m$(r,i,o)?_e(new fw):lc(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,a,c,u){return Nr(r)!==a&&(a===De||!vg(i,o,r))?lc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,a,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,a,u):lc(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,a,c){let{matched:u,parameters:h,consumedSegments:m,positionalParamSegments:v,remainingSegments:I}=jM(n,i,o);if(!u)return lc(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>v$&&(this.allowRedirects=!1));let E=new Ia(o,h,Object.freeze(J({},this.urlTree.queryParams)),this.urlTree.fragment,hM(i),Nr(i),i.component??i._loadedComponent??null,i,pM(i)),C=fg(E,c,this.paramsInheritanceStrategy);return E.params=Object.freeze(C.params),E.data=Object.freeze(C.data),this.applyRedirects.applyRedirectCommands(m,i.redirectTo,v,E,e).pipe(pn(k=>this.applyRedirects.lineralizeSegments(i,k)),kt(k=>this.processSegment(e,r,n,k.concat(I),a,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,o,a){let c=c$(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(pn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(pn(({routes:h})=>{let m=r._loadedInjector??e,{parameters:v,consumedSegments:I,remainingSegments:E}=u,C=new Ia(I,v,Object.freeze(J({},this.urlTree.queryParams)),this.urlTree.fragment,hM(r),Nr(r),r.component??r._loadedComponent??null,r,pM(r)),N=fg(C,a,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data);let{segmentGroup:k,slicedSegments:B}=fM(n,I,E,h);if(B.length===0&&k.hasChildren())return this.processChildren(m,h,k,C).pipe(Pe(H=>new nr(C,H)));if(h.length===0&&B.length===0)return _e(new nr(C,[]));let z=Nr(r)===o;return this.processSegment(m,h,k,B,z?De:o,!0,C).pipe(Pe(H=>new nr(C,H instanceof nr?[H]:[])))}))):lc(n)))}getChildConfig(e,n,r){return n.children?_e({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?_e({routes:n._loadedRoutes,injector:n._loadedInjector}):i$(e,n,r,this.urlSerializer).pipe(kt(i=>i?this.configLoader.loadChildren(e,n).pipe(nn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):a$(n))):_e({routes:[],injector:e})}};function y$(t){t.sort((e,n)=>e.value.outlet===De?-1:n.value.outlet===De?1:e.value.outlet.localeCompare(n.value.outlet))}function _$(t){let e=t.value.routeConfig;return e&&e.path===""}function UM(t){let e=[],n=new Set;for(let r of t){if(!_$(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=UM(r.children);e.push(new nr(r.value,i))}return e.filter(r=>!n.has(r))}function hM(t){return t.data||{}}function pM(t){return t.resolve||{}}function E$(t,e,n,r,i,o){return kt(a=>g$(t,e,n,r,a.extractedUrl,i,o).pipe(Pe(({state:c,tree:u})=>Ne(J({},a),{targetSnapshot:c,urlAfterRedirects:u}))))}function I$(t,e){return kt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return _e(n);let o=new Set(i.map(u=>u.route)),a=new Set;for(let u of o)if(!a.has(u))for(let h of $M(u))a.add(h);let c=0;return gt(a).pipe(Ys(u=>o.has(u)?w$(u,r,t,e):(u.data=fg(u,u.parent,t).resolve,_e(void 0))),nn(()=>c++),Ll(1),kt(u=>c===a.size?_e(n):Ln))})}function $M(t){let e=t.children.map(n=>$M(n)).flat();return[t,...e]}function w$(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!NM(i)&&(o[rf]=i.title),Qu(()=>(t.data=fg(t,t.parent,n).resolve,b$(o,t,e,r).pipe(Pe(a=>(t._resolvedData=a,t.data=J(J({},t.data),a),null)))))}function b$(t,e,n,r){let i=tw(t);if(i.length===0)return _e({});let o={};return gt(i).pipe(kt(a=>T$(t[a],e,n,r).pipe(Wi(),nn(c=>{if(c instanceof pc)throw hg(new ba,c);o[a]=c}))),Ll(1),Pe(()=>o),qi(a=>VM(a)?Ln:Nl(a)))}function T$(t,e,n,r){let i=gc(e)??r,o=yc(t,i),a=o.resolve?o.resolve(e,n):Wt(i,()=>o(e,n));return io(a)}function JI(t){return pn(e=>{let n=t(e);return n?gt(n).pipe(Pe(()=>e)):_e(e)})}var vw=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===De);return r}getResolvedTitleForRoute(n){return n.data[rf]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:()=>W(zM),providedIn:"root"})}return t})(),zM=(()=>{class t extends vw{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(pe(aM))};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_c=new ce("",{providedIn:"root",factory:()=>({})}),lf=new ce(""),HM=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=W(xI);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return _e(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=io(Wt(n,()=>r.loadComponent())).pipe(Pe(GM),pn(WM),nn(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),Xu(()=>{this.componentLoaders.delete(r)})),o=new xl(i,()=>new xt).pipe(Al());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return _e({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=qM(r,this.compiler,n,this.onLoadEndListener).pipe(Xu(()=>{this.childrenLoaders.delete(r)})),a=new xl(o,()=>new xt).pipe(Al());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qM(t,e,n,r){return io(Wt(n,()=>t.loadChildren())).pipe(Pe(GM),pn(WM),kt(i=>i instanceof Fm||Array.isArray(i)?_e(i):gt(e.compileModuleAsync(i))),Pe(i=>{r&&r(t);let o,a,c=!1;return Array.isArray(i)?(a=i,c=!0):(o=i.create(n).injector,a=o.get(lf,[],{optional:!0,self:!0}).flat()),{routes:a.map(gw),injector:o}}))}function C$(t){return t&&typeof t=="object"&&"default"in t}function GM(t){return C$(t)?t.default:t}function WM(t){return _e(t)}var yg=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:()=>W(S$),providedIn:"root"})}return t})(),S$=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),KM=new ce("");var ZM=new ce(""),YM=(()=>{class t{currentNavigation=Bn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new xt;transitionAbortWithErrorSubject=new xt;configLoader=W(HM);environmentInjector=W(Lt);destroyRef=W(Qi);urlSerializer=W(of);rootContexts=W(vc);location=W(ac);inputBindingEnabled=W(gg,{optional:!0})!==null;titleStrategy=W(vw);options=W(_c,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=W(yg);createViewTransition=W(KM,{optional:!0});navigationErrorHandler=W(ZM,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>_e(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new ig(i)),r=i=>this.events.next(new og(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Vt(()=>{this.transitions?.next(Ne(J({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new Tt(null),this.transitions.pipe(Vn(r=>r!==null),pn(r=>{let i=!1;return _e(r).pipe(pn(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Rn.SupersededByNewNavigation),Ln;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Ne(J({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&c!=="reload")return this.events.next(new no(o.id,this.urlSerializer.serialize(o.rawUrl),"",Zd.IgnoredSameUrlNavigation)),o.resolve(!1),Ln;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return _e(o).pipe(pn(u=>(this.events.next(new Ta(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Ln:Promise.resolve(u))),E$(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),nn(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(m=>(m.finalUrl=u.urlAfterRedirects,m));let h=new Yd(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:h,source:m,restoredState:v,extras:I}=o,E=new Ta(u,this.urlSerializer.serialize(h),m,v);this.events.next(E);let C=PM(this.rootComponentType).snapshot;return this.currentTransition=r=Ne(J({},o),{targetSnapshot:C,urlAfterRedirects:h,extras:Ne(J({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(N=>(N.finalUrl=h,N)),_e(r)}else return this.events.next(new no(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Zd.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Ln}),nn(o=>{let a=new eg(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Pe(o=>(this.currentTransition=r=Ne(J({},o),{guards:BU(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),YU(this.environmentInjector,o=>this.events.next(o)),nn(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw hg(this.urlSerializer,o.guardsResult);let a=new tg(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Vn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Rn.GuardRejected),!1)),JI(o=>{if(o.guards.canActivateChecks.length!==0)return _e(o).pipe(nn(a=>{let c=new ng(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),pn(a=>{let c=!1;return _e(a).pipe(I$(this.paramsInheritanceStrategy,this.environmentInjector),nn({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Rn.NoDataFromResolver)}}))}),nn(a=>{let c=new rg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),JI(o=>{let a=c=>{let u=[];if(c.routeConfig?.loadComponent){let h=gc(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(h,c.routeConfig).pipe(nn(m=>{c.component=m}),Pe(()=>{})))}for(let h of c.children)u.push(...a(h));return u};return Sp(a(o.targetSnapshot.root)).pipe(Lo(null),Gi(1))}),JI(()=>this.afterPreactivation()),pn(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return c?gt(c).pipe(Pe(()=>r)):_e(r)}),Pe(o=>{let a=OU(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Ne(J({},o),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),nn(()=>{this.events.next(new Qd)}),VU(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Gi(1),Mp(new Oe(o=>{let a=r.abortController.signal,c=()=>o.next();return a.addEventListener("abort",c),()=>a.removeEventListener("abort",c)}).pipe(Vn(()=>!i&&!r.targetRouterState),nn(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Rn.Aborted)}))),nn({next:o=>{i=!0,this.lastSuccessfulNavigation=Vt(this.currentNavigation),this.events.next(new Or(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Mp(this.transitionAbortWithErrorSubject.pipe(nn(o=>{throw o}))),Xu(()=>{i||this.cancelNavigationTransition(r,"",Rn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),qi(o=>{if(this.destroyed)return r.resolve(!1),Ln;if(i=!0,FM(o))this.events.next(new mi(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),FU(o)?this.events.next(new hc(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new fc(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=Wt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof pc){let{message:u,cancellationCode:h}=hg(this.urlSerializer,c);this.events.next(new mi(r.id,this.urlSerializer.serialize(r.extractedUrl),u,h)),this.events.next(new hc(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Ln}))}))}cancelNavigationTransition(n,r,i){let o=new mi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Vt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function D$(t){return t!==Gd}var QM=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:()=>W(A$),providedIn:"root"})}return t})(),mg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},A$=(()=>{class t extends mg{static \u0275fac=(()=>{let n;return function(i){return(n||(n=tc(t)))(i||t)}})();static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),XM=(()=>{class t{urlSerializer=W(of);options=W(_c,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=W(ac);urlHandlingStrategy=W(yg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new gi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,a=i??o;return a instanceof gi?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=PM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:()=>W(x$),providedIn:"root"})}return t})(),x$=(()=>{class t extends XM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Ta?this.updateStateMemento():n instanceof no?this.commitTransition(r):n instanceof Yd?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Qd?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof mi&&n.code!==Rn.SupersededByNewNavigation&&n.code!==Rn.Redirect?this.restoreHistory(r):n instanceof fc?this.restoreHistory(r,!0):n instanceof Or&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(n)||o){let c=this.browserPageId,u=J(J({},a),this.generateNgRouterState(i,c));this.location.replaceState(n,"",u)}else{let c=J(J({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",c)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=tc(t)))(i||t)}})();static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yw(t,e){t.events.pipe(Vn(n=>n instanceof Or||n instanceof mi||n instanceof fc||n instanceof no),Pe(n=>n instanceof Or||n instanceof no?0:(n instanceof mi?n.code===Rn.Redirect||n.code===Rn.SupersededByNewNavigation:!1)?2:1),Vn(n=>n!==2),Gi(1)).subscribe(()=>{e()})}var M$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},P$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},an=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=W(wI);stateManager=W(XM);options=W(_c,{optional:!0})||{};pendingTasks=W(ai);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=W(YM);urlSerializer=W(of);location=W(ac);urlHandlingStrategy=W(yg);injector=W(Lt);_events=new xt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=W(QM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=W(lf,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!W(gg,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new bt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Vt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof mi&&r.code!==Rn.Redirect&&r.code!==Rn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Or)this.navigated=!0;else if(r instanceof hc){let a=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=J({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||D$(i.source)},a);this.scheduleNavigation(c,Gd,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}MU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let u=J({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,a,o).catch(u=>{this.disposed||this.injector.get(In)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Vt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(gw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,h=u?this.currentUrlTree.fragment:a,m=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":m=J(J({},this.currentUrlTree.queryParams),o);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}m!==null&&(m=this.removeEmptyProps(m));let v;try{let I=i?i.snapshot:this.routerState.snapshot.root;v=DM(I)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),v=this.currentUrlTree.root}return AM(v,n,m,h??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=rs(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Gd,null,r)}navigate(n,r={skipLocationChange:!1}){return R$(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Vl(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=J({},M$):r===!1?i=J({},P$):i=r,rs(n))return lM(this.currentUrlTree,n,i);let o=this.parseUrl(n);return lM(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,h;a?(c=a.resolve,u=a.reject,h=a.promise):h=new Promise((v,I)=>{c=v,u=I});let m=this.pendingTasks.add();return yw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(v=>Promise.reject(v))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function R$(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ue(4008,!1)}var is=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Bn(null);get href(){return Vt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new xt;applicationErrorHandler=W(In);options=W(_c,{optional:!0});constructor(n,r,i,o,a,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=a,this.locationStrategy=c,this.reactiveHref.set(W(new $m("href"),{optional:!0}));let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Or&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(rs(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u)?.catch(h=>{this.applicationErrorHandler(h)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:rs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(fe(an),fe(ro),Td("tabindex"),fe(Xo),fe(gr),fe(sc))};static \u0275dir=wn({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&tr("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Ad("href",i.reactiveHref(),rI)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",kd],skipLocationChange:[2,"skipLocationChange","skipLocationChange",kd],replaceUrl:[2,"replaceUrl","replaceUrl",kd],routerLink:"routerLink"},features:[ui]})}return t})(),_w=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Pt;constructor(n,r,i,o,a){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=a,this.routerEventsSubscription=n.events.subscribe(c=>{c instanceof Or&&this.update()})}ngAfterContentInit(){_e(this.links.changes,_e(null)).pipe(Ol()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=gt(n).pipe(Ol()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=O$(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(fe(an),fe(gr),fe(Xo),fe(_a),fe(is,8))};static \u0275dir=wn({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&SI(o,is,5),r&2){let a;DI(a=AI())&&(i.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ui]})}return t})();function O$(t){return!!t.paths}var k$=new ce("");function Ew(t,...e){return Qn([{provide:lf,multi:!0,useValue:t},[],{provide:ro,useFactory:L$,deps:[an]},{provide:Bm,multi:!0,useFactory:F$},e.map(n=>n.\u0275providers)])}function L$(t){return t.routerState.root}function F$(){let t=W(Gt);return e=>{let n=t.get(es);if(e!==n.components[0])return;let r=t.get(an),i=t.get(V$);t.get(B$)===1&&r.initialNavigation(),t.get(j$,null,{optional:!0})?.setUpPreloading(),t.get(k$,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var V$=new ce("",{factory:()=>new xt}),B$=new ce("",{providedIn:"root",factory:()=>1});var j$=new ce("");var sP=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(fe(Xo),fe(gr))};static \u0275dir=wn({type:t})}return t})(),U$=(()=>{class t extends sP{static \u0275fac=(()=>{let n;return function(i){return(n||(n=tc(t)))(i||t)}})();static \u0275dir=wn({type:t,features:[Ji]})}return t})(),aP=new ce("");var $$={provide:aP,useExisting:jo(()=>Tc),multi:!0};function z$(){let t=vr()?vr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var H$=new ce(""),Tc=(()=>{class t extends sP{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!z$())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(fe(Xo),fe(gr),fe(H$,8))};static \u0275dir=wn({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&tr("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},standalone:!1,features:[Pd([$$]),Ji]})}return t})();function bw(t){return t==null||Tw(t)===0}function Tw(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var lP=new ce(""),cP=new ce(""),q$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Yt=class{static min(e){return G$(e)}static max(e){return W$(e)}static required(e){return K$(e)}static requiredTrue(e){return Z$(e)}static email(e){return Y$(e)}static minLength(e){return Q$(e)}static maxLength(e){return X$(e)}static pattern(e){return J$(e)}static nullValidator(e){return uP()}static compose(e){return gP(e)}static composeAsync(e){return yP(e)}};function G$(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function W$(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function K$(t){return bw(t.value)?{required:!0}:null}function Z$(t){return t.value===!0?null:{required:!0}}function Y$(t){return bw(t.value)||q$.test(t.value)?null:{email:!0}}function Q$(t){return e=>{let n=e.value?.length??Tw(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function X$(t){return e=>{let n=e.value?.length??Tw(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function J$(t){if(!t)return uP;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(bw(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function uP(t){return null}function dP(t){return t!=null}function fP(t){return eo(t)?gt(t):t}function hP(t){let e={};return t.forEach(n=>{e=n!=null?J(J({},e),n):e}),Object.keys(e).length===0?null:e}function pP(t,e){return e.map(n=>n(t))}function ez(t){return!t.validate}function mP(t){return t.map(e=>ez(e)?e:n=>e.validate(n))}function gP(t){if(!t)return null;let e=t.filter(dP);return e.length==0?null:function(n){return hP(pP(n,e))}}function vP(t){return t!=null?gP(mP(t)):null}function yP(t){if(!t)return null;let e=t.filter(dP);return e.length==0?null:function(n){let r=pP(n,e).map(fP);return s_(r).pipe(Pe(hP))}}function _P(t){return t!=null?yP(mP(t)):null}function JM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function EP(t){return t._rawValidators}function IP(t){return t._rawAsyncValidators}function Iw(t){return t?Array.isArray(t)?t:[t]:[]}function Eg(t,e){return Array.isArray(t)?t.includes(e):t===e}function eP(t,e){let n=Iw(e);return Iw(t).forEach(i=>{Eg(n,i)||n.push(i)}),n}function tP(t,e){return Iw(e).filter(n=>!Eg(t,n))}var Ig=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_P(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},wc=class extends Ig{name;get formDirective(){return null}get path(){return null}},pf=class extends Ig{_parent=null;name=null;valueAccessor=null},wg=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},tz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Zle=Ne(J({},tz),{"[class.ng-submitted]":"isSubmitted"}),Ag=(()=>{class t extends wg{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(fe(pf,2))};static \u0275dir=wn({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Md("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ji]})}return t})(),xg=(()=>{class t extends wg{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(fe(wc,10))};static \u0275dir=wn({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Md("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ji]})}return t})();var uf="VALID",_g="INVALID",Ec="PENDING",df="DISABLED",os=class{},bg=class extends os{value;source;constructor(e,n){super(),this.value=e,this.source=n}},ff=class extends os{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},hf=class extends os{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Ic=class extends os{status;source;constructor(e,n){super(),this.status=e,this.source=n}},ww=class extends os{source;constructor(e){super(),this.source=e}},Tg=class extends os{source;constructor(e){super(),this.source=e}};function wP(t){return(Mg(t)?t.validators:t)||null}function nz(t){return Array.isArray(t)?vP(t):t||null}function bP(t,e){return(Mg(e)?e.asyncValidators:t)||null}function rz(t){return Array.isArray(t)?_P(t):t||null}function Mg(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function iz(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new ue(1e3,"");if(!r[n])throw new ue(1001,"")}function oz(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new ue(1002,"")})}var Cg=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Vt(this.statusReactive)}set status(e){Vt(()=>this.statusReactive.set(e))}_status=oc(()=>this.statusReactive());statusReactive=Bn(void 0);get valid(){return this.status===uf}get invalid(){return this.status===_g}get pending(){return this.status==Ec}get disabled(){return this.status===df}get enabled(){return this.status!==df}errors;get pristine(){return Vt(this.pristineReactive)}set pristine(e){Vt(()=>this.pristineReactive.set(e))}_pristine=oc(()=>this.pristineReactive());pristineReactive=Bn(!0);get dirty(){return!this.pristine}get touched(){return Vt(this.touchedReactive)}set touched(e){Vt(()=>this.touchedReactive.set(e))}_touched=oc(()=>this.touchedReactive());touchedReactive=Bn(!1);get untouched(){return!this.touched}_events=new xt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(eP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(eP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tP(e,this._rawAsyncValidators))}hasValidator(e){return Eg(this._rawValidators,e)}hasAsyncValidator(e){return Eg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ne(J({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new hf(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new hf(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ne(J({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ff(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ff(!0,r))}markAsPending(e={}){this.status=Ec;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ic(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ne(J({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=df,this.errors=null,this._forEachChild(i=>{i.disable(Ne(J({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bg(this.value,r)),this._events.next(new Ic(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ne(J({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=uf,this._forEachChild(r=>{r.enable(Ne(J({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ne(J({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uf||this.status===Ec)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bg(this.value,n)),this._events.next(new Ic(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ne(J({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?df:uf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ec,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=fP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ic(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Pt,this.statusChanges=new Pt}_calculateStatus(){return this._allControlsDisabled()?df:this.errors?_g:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ec)?Ec:this._anyControlsHaveStatus(_g)?_g:uf}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ff(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new hf(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=nz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=rz(this._rawAsyncValidators)}},bc=class extends Cg{constructor(e,n,r){super(wP(n),bP(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){oz(this,!0,e),Object.keys(e).forEach(r=>{iz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Tg(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Cw=new ce("",{providedIn:"root",factory:()=>Pg}),Pg="always";function sz(t,e){return[...e.path,t]}function nP(t,e,n=Pg){Sw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),lz(t,e),uz(t,e),cz(t,e),az(t,e)}function rP(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Dg(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Sg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function az(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Sw(t,e){let n=EP(t);e.validator!==null?t.setValidators(JM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=IP(t);e.asyncValidator!==null?t.setAsyncValidators(JM(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Sg(e._rawValidators,i),Sg(e._rawAsyncValidators,i)}function Dg(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=EP(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=IP(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Sg(e._rawValidators,r),Sg(e._rawAsyncValidators,r),n}function lz(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&TP(t,e)})}function cz(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&TP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function TP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function uz(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function dz(t,e){t==null,Sw(t,e)}function fz(t,e){return Dg(t,e)}function hz(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function pz(t){return Object.getPrototypeOf(t.constructor)===U$}function mz(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function gz(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Tc?n=o:pz(o)?r=o:i=o}),i||r||n||null}function vz(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function iP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function oP(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var vi=class extends Cg{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(wP(n),bP(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(oP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Tg(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){oP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var yz=t=>t instanceof vi;var Rg=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=wn({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var CP=new ce("");var _z={provide:wc,useExisting:jo(()=>mf)},mf=(()=>{class t extends wc{callSetDisabledState;get submitted(){return Vt(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=oc(()=>this._submittedReactive());_submittedReactive=Bn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Pt;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return nP(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){rP(n.control||null,n,!1),vz(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),mz(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new ww(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(rP(r||null,n),yz(i)&&(nP(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);dz(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&fz(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Sw(this.form,this),this._oldForm&&Dg(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(fe(lP,10),fe(cP,10),fe(Cw,8))};static \u0275dir=wn({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&tr("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Pd([_z]),Ji,ui]})}return t})();var Ez={provide:pf,useExisting:jo(()=>gf)},gf=(()=>{class t extends pf{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Pt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,a){super(),this._ngModelWarningConfig=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=gz(this,o)}ngOnChanges(n){this._added||this._setUpControl(),hz(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return sz(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(fe(wc,13),fe(lP,10),fe(cP,10),fe(aP,10),fe(CP,8))};static \u0275dir=wn({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Pd([Ez]),Ji,ui]})}return t})();var SP=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=fi({type:t});static \u0275inj=Dr({})}return t})();var Cc=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Cw,useValue:n.callSetDisabledState??Pg}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=fi({type:t});static \u0275inj=Dr({imports:[SP]})}return t})(),Ng=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:CP,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Cw,useValue:n.callSetDisabledState??Pg}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=fi({type:t});static \u0275inj=Dr({imports:[SP]})}return t})();function AP(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Dw(t={},e={}){let n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:AP(e[r])&&AP(t[r])&&Object.keys(e[r]).length>0&&Dw(t[r],e[r])})}var xP={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function bn(){let t=typeof document<"u"?document:{};return Dw(t,xP),t}var Iz={document:xP,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ct(){let t=typeof window<"u"?window:{};return Dw(t,Iz),t}function MP(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function PP(t){let e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Sc(t,e=0){return setTimeout(t,e)}function Ca(){return Date.now()}function wz(t){let e=Ct(),n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function Aw(t,e="x"){let n=Ct(),r,i,o,a=wz(t);return n.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(c=>c.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix(i==="none"?"":i)):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=o.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=o.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function vf(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function bz(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Un(...t){let e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){let i=t[r];if(i!=null&&!bz(i)){let o=Object.keys(Object(i)).filter(a=>n.indexOf(a)<0);for(let a=0,c=o.length;a<c;a+=1){let u=o[a],h=Object.getOwnPropertyDescriptor(i,u);h!==void 0&&h.enumerable&&(vf(e[u])&&vf(i[u])?i[u].__swiper__?e[u]=i[u]:Un(e[u],i[u]):!vf(e[u])&&vf(i[u])?(e[u]={},i[u].__swiper__?e[u]=i[u]:Un(e[u],i[u])):e[u]=i[u])}}}return e}function Dc(t,e,n){t.style.setProperty(e,n)}function xw({swiper:t,targetPosition:e,side:n}){let r=Ct(),i=-t.translate,o=null,a,c=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);let u=e>i?"next":"prev",h=(v,I)=>u==="next"&&v>=I||u==="prev"&&v<=I,m=()=>{a=new Date().getTime(),o===null&&(o=a);let v=Math.max(Math.min((a-o)/c,1),0),I=.5-Math.cos(v*Math.PI)/2,E=i+I*(e-i);if(h(E,e)&&(E=e),t.wrapperEl.scrollTo({[n]:E}),h(E,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:E})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(m)};m()}function vn(t,e=""){let n=Ct(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function Tz(t,e){let n=[e];for(;n.length>0;){let r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function RP(t,e){let n=Ct(),r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=Tz(t,e))),r}function yf(t){try{console.warn(t);return}catch{}}function kr(t,e=[]){let n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:MP(e)),n}function NP(t,e){let n=[];for(;t.previousElementSibling;){let r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function OP(t,e){let n=[];for(;t.nextElementSibling;){let r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function oo(t,e){return Ct().getComputedStyle(t,null).getPropertyValue(e)}function _f(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function Ef(t,e){let n=[],r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function Og(t,e,n){let r=Ct();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function ir(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function Ac(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}var Mw;function Cz(){let t=Ct(),e=bn();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function jP(){return Mw||(Mw=Cz()),Mw}var Pw;function Sz({userAgent:t}={}){let e=jP(),n=Ct(),r=n.navigator.platform,i=t||n.navigator.userAgent,o={ios:!1,android:!1},a=n.screen.width,c=n.screen.height,u=i.match(/(Android);?[\s\/]+([\d.]+)?/),h=i.match(/(iPad)(?!\1).*OS\s([\d_]+)/),m=i.match(/(iPod)(.*OS\s([\d_]+))?/),v=!h&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),I=r==="Win32",E=r==="MacIntel",C=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!h&&E&&e.touch&&C.indexOf(`${a}x${c}`)>=0&&(h=i.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),E=!1),u&&!I&&(o.os="android",o.android=!0),(h||v||m)&&(o.os="ios",o.ios=!0),o}function UP(t={}){return Pw||(Pw=Sz(t)),Pw}var Rw;function Dz(){let t=Ct(),e=UP(),n=!1;function r(){let c=t.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(r()){let c=String(t.navigator.userAgent);if(c.includes("Version/")){let[u,h]=c.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));n=u<16||u===16&&h<2}}let i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),o=r(),a=o||i&&e.ios;return{isSafari:n||o,needPerspectiveFix:n,need3dFix:a,isWebView:i}}function $P(){return Rw||(Rw=Dz()),Rw}function Az({swiper:t,on:e,emit:n}){let r=Ct(),i=null,o=null,a=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},c=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(m=>{o=r.requestAnimationFrame(()=>{let{width:v,height:I}=t,E=v,C=I;m.forEach(({contentBoxSize:N,contentRect:k,target:B})=>{B&&B!==t.el||(E=k?k.width:(N[0]||N).inlineSize,C=k?k.height:(N[0]||N).blockSize)}),(E!==v||C!==I)&&a()})}),i.observe(t.el))},u=()=>{o&&r.cancelAnimationFrame(o),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},h=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){c();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",h)}),e("destroy",()=>{u(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",h)})}function xz({swiper:t,extendParams:e,on:n,emit:r}){let i=[],o=Ct(),a=(h,m={})=>{let v=o.MutationObserver||o.WebkitMutationObserver,I=new v(E=>{if(t.__preventObserver__)return;if(E.length===1){r("observerUpdate",E[0]);return}let C=function(){r("observerUpdate",E[0])};o.requestAnimationFrame?o.requestAnimationFrame(C):o.setTimeout(C,0)});I.observe(h,{attributes:typeof m.attributes>"u"?!0:m.attributes,childList:t.isElement||(typeof m.childList>"u"?!0:m).childList,characterData:typeof m.characterData>"u"?!0:m.characterData}),i.push(I)},c=()=>{if(t.params.observer){if(t.params.observeParents){let h=Ef(t.hostEl);for(let m=0;m<h.length;m+=1)a(h[m])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}},u=()=>{i.forEach(h=>{h.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",c),n("destroy",u)}var Mz={on(t,e,n){let r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;let i=n?"unshift":"push";return t.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][i](e)}),r},once(t,e,n){let r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(...o){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){let n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;let r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;let n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){let n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,o)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(o,1)})}),n},emit(...t){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,i;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),i=e):(n=t[0].events,r=t[0].data,i=t[0].context||e),r.unshift(i),(Array.isArray(n)?n:n.split(" ")).forEach(a=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(c=>{c.apply(i,[a,...r])}),e.eventsListeners&&e.eventsListeners[a]&&e.eventsListeners[a].forEach(c=>{c.apply(i,r)})}),e}};function Pz(){let t=this,e,n,r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(oo(r,"padding-left")||0,10)-parseInt(oo(r,"padding-right")||0,10),n=n-parseInt(oo(r,"padding-top")||0,10)-parseInt(oo(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function Rz(){let t=this;function e(D,M){return parseFloat(D.getPropertyValue(t.getDirectionLabel(M))||0)}let n=t.params,{wrapperEl:r,slidesEl:i,rtlTranslate:o,wrongRTL:a}=t,c=t.virtual&&n.virtual.enabled,u=c?t.virtual.slides.length:t.slides.length,h=vn(i,`.${t.params.slideClass}, swiper-slide`),m=c?t.virtual.slides.length:h.length,v=[],I=[],E=[],C=n.slidesOffsetBefore;typeof C=="function"&&(C=n.slidesOffsetBefore.call(t));let N=n.slidesOffsetAfter;typeof N=="function"&&(N=n.slidesOffsetAfter.call(t));let k=t.snapGrid.length,B=t.slidesGrid.length,z=t.size-C-N,H=n.spaceBetween,ee=-C,ie=0,ne=0;if(typeof z>"u")return;typeof H=="string"&&H.indexOf("%")>=0?H=parseFloat(H.replace("%",""))/100*z:typeof H=="string"&&(H=parseFloat(H)),t.virtualSize=-H-C-N,h.forEach(D=>{o?D.style.marginLeft="":D.style.marginRight="",D.style.marginBottom="",D.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Dc(r,"--swiper-centered-offset-before",""),Dc(r,"--swiper-centered-offset-after",""));let R=n.grid&&n.grid.rows>1&&t.grid;R?t.grid.initSlides(h):t.grid&&t.grid.unsetSlides();let T,S=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(D=>typeof n.breakpoints[D].slidesPerView<"u").length>0;for(let D=0;D<m;D+=1){T=0;let M=h[D];if(!(M&&(R&&t.grid.updateSlide(D,M,h),oo(M,"display")==="none"))){if(c&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(T=n.virtual.slidesPerViewAutoSlideSize),T&&M&&(n.roundLengths&&(T=Math.floor(T)),M.style[t.getDirectionLabel("width")]=`${T}px`);else if(n.slidesPerView==="auto"){S&&(M.style[t.getDirectionLabel("width")]="");let O=getComputedStyle(M),x=M.style.transform,Ge=M.style.webkitTransform;if(x&&(M.style.transform="none"),Ge&&(M.style.webkitTransform="none"),n.roundLengths)T=t.isHorizontal()?Og(M,"width",!0):Og(M,"height",!0);else{let At=e(O,"width"),Ie=e(O,"padding-left"),yn=e(O,"padding-right"),Q=e(O,"margin-left"),we=e(O,"margin-right"),Qe=O.getPropertyValue("box-sizing");if(Qe&&Qe==="border-box")T=At+Q+we;else{let{clientWidth:dt,offsetWidth:Xe}=M;T=At+Ie+yn+Q+we+(Xe-dt)}}x&&(M.style.transform=x),Ge&&(M.style.webkitTransform=Ge),n.roundLengths&&(T=Math.floor(T))}else T=(z-(n.slidesPerView-1)*H)/n.slidesPerView,n.roundLengths&&(T=Math.floor(T)),M&&(M.style[t.getDirectionLabel("width")]=`${T}px`);M&&(M.swiperSlideSize=T),E.push(T),n.centeredSlides?(ee=ee+T/2+ie/2+H,ie===0&&D!==0&&(ee=ee-z/2-H),D===0&&(ee=ee-z/2-H),Math.abs(ee)<1/1e3&&(ee=0),n.roundLengths&&(ee=Math.floor(ee)),ne%n.slidesPerGroup===0&&v.push(ee),I.push(ee)):(n.roundLengths&&(ee=Math.floor(ee)),(ne-Math.min(t.params.slidesPerGroupSkip,ne))%t.params.slidesPerGroup===0&&v.push(ee),I.push(ee),ee=ee+T+H),t.virtualSize+=T+H,ie=T,ne+=1}}if(t.virtualSize=Math.max(t.virtualSize,z)+N,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+H}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+H}px`),R&&t.grid.updateWrapperSize(T,v),!n.centeredSlides){let D=[];for(let M=0;M<v.length;M+=1){let O=v[M];n.roundLengths&&(O=Math.floor(O)),v[M]<=t.virtualSize-z&&D.push(O)}v=D,Math.floor(t.virtualSize-z)-Math.floor(v[v.length-1])>1&&v.push(t.virtualSize-z)}if(c&&n.loop){let D=E[0]+H;if(n.slidesPerGroup>1){let M=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),O=D*n.slidesPerGroup;for(let x=0;x<M;x+=1)v.push(v[v.length-1]+O)}for(let M=0;M<t.virtual.slidesBefore+t.virtual.slidesAfter;M+=1)n.slidesPerGroup===1&&v.push(v[v.length-1]+D),I.push(I[I.length-1]+D),t.virtualSize+=D}if(v.length===0&&(v=[0]),H!==0){let D=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");h.filter((M,O)=>!n.cssMode||n.loop?!0:O!==h.length-1).forEach(M=>{M.style[D]=`${H}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let D=0;E.forEach(O=>{D+=O+(H||0)}),D-=H;let M=D>z?D-z:0;v=v.map(O=>O<=0?-C:O>M?M+N:O)}if(n.centerInsufficientSlides){let D=0;E.forEach(O=>{D+=O+(H||0)}),D-=H;let M=(C||0)+(N||0);if(D+M<z){let O=(z-D-M)/2;v.forEach((x,Ge)=>{v[Ge]=x-O}),I.forEach((x,Ge)=>{I[Ge]=x+O})}}if(Object.assign(t,{slides:h,snapGrid:v,slidesGrid:I,slidesSizesGrid:E}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Dc(r,"--swiper-centered-offset-before",`${-v[0]}px`),Dc(r,"--swiper-centered-offset-after",`${t.size/2-E[E.length-1]/2}px`);let D=-t.snapGrid[0],M=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(O=>O+D),t.slidesGrid=t.slidesGrid.map(O=>O+M)}if(m!==u&&t.emit("slidesLengthChange"),v.length!==k&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),I.length!==B&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){let D=`${n.containerModifierClass}backface-hidden`,M=t.el.classList.contains(D);m<=n.maxBackfaceHiddenSlides?M||t.el.classList.add(D):M&&t.el.classList.remove(D)}}function Nz(t){let e=this,n=[],r=e.virtual&&e.params.virtual.enabled,i=0,o;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);let a=c=>r?e.slides[e.getSlideIndexByData(c)]:e.slides[c];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(c=>{n.push(c)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){let c=e.activeIndex+o;if(c>e.slides.length&&!r)break;n.push(a(c))}else n.push(a(e.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){let c=n[o].offsetHeight;i=c>i?c:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function Oz(){let t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}var kP=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function kz(t=this&&this.translate||0){let e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;i&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let c=n.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*e.size:typeof c=="string"&&(c=parseFloat(c));for(let u=0;u<r.length;u+=1){let h=r[u],m=h.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(m-=r[0].swiperSlideOffset);let v=(a+(n.centeredSlides?e.minTranslate():0)-m)/(h.swiperSlideSize+c),I=(a-o[0]+(n.centeredSlides?e.minTranslate():0)-m)/(h.swiperSlideSize+c),E=-(a-m),C=E+e.slidesSizesGrid[u],N=E>=0&&E<=e.size-e.slidesSizesGrid[u],k=E>=0&&E<e.size-1||C>1&&C<=e.size||E<=0&&C>=e.size;k&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(u)),kP(h,k,n.slideVisibleClass),kP(h,N,n.slideFullyVisibleClass),h.progress=i?-v:v,h.originalProgress=i?-I:I}}function Lz(t){let e=this;if(typeof t>"u"){let m=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*m||0}let n=e.params,r=e.maxTranslate()-e.minTranslate(),{progress:i,isBeginning:o,isEnd:a,progressLoop:c}=e,u=o,h=a;if(r===0)i=0,o=!0,a=!0;else{i=(t-e.minTranslate())/r;let m=Math.abs(t-e.minTranslate())<1,v=Math.abs(t-e.maxTranslate())<1;o=m||i<=0,a=v||i>=1,m&&(i=0),v&&(i=1)}if(n.loop){let m=e.getSlideIndexByData(0),v=e.getSlideIndexByData(e.slides.length-1),I=e.slidesGrid[m],E=e.slidesGrid[v],C=e.slidesGrid[e.slidesGrid.length-1],N=Math.abs(t);N>=I?c=(N-I)/C:c=(N+C-E)/C,c>1&&(c-=1)}Object.assign(e,{progress:i,progressLoop:c,isBeginning:o,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),o&&!u&&e.emit("reachBeginning toEdge"),a&&!h&&e.emit("reachEnd toEdge"),(u&&!o||h&&!a)&&e.emit("fromEdge"),e.emit("progress",i)}var Nw=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function Fz(){let t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,o=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,c=v=>vn(r,`.${n.slideClass}${v}, swiper-slide${v}`)[0],u,h,m;if(o)if(n.loop){let v=i-t.virtual.slidesBefore;v<0&&(v=t.virtual.slides.length+v),v>=t.virtual.slides.length&&(v-=t.virtual.slides.length),u=c(`[data-swiper-slide-index="${v}"]`)}else u=c(`[data-swiper-slide-index="${i}"]`);else a?(u=e.find(v=>v.column===i),m=e.find(v=>v.column===i+1),h=e.find(v=>v.column===i-1)):u=e[i];u&&(a||(m=OP(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!m&&(m=e[0]),h=NP(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h===0&&(h=e[e.length-1]))),e.forEach(v=>{Nw(v,v===u,n.slideActiveClass),Nw(v,v===m,n.slideNextClass),Nw(v,v===h,n.slidePrevClass)}),t.emitSlidesClasses()}var kg=(t,e)=>{if(!t||t.destroyed||!t.params)return;let n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Ow=(t,e)=>{if(!t.slides[e])return;let n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Fw=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext,n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);let r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){let a=i,c=[a-e];c.push(...Array.from({length:e}).map((u,h)=>a+r+h)),t.slides.forEach((u,h)=>{c.includes(u.column)&&Ow(t,h)});return}let o=i+r-1;if(t.params.rewind||t.params.loop)for(let a=i-e;a<=o+e;a+=1){let c=(a%n+n)%n;(c<i||c>o)&&Ow(t,c)}else for(let a=Math.max(i-e,0);a<=Math.min(o+e,n-1);a+=1)a!==i&&(a>o||a<i)&&Ow(t,a)};function Vz(t){let{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate,i;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?i=o:r>=e[o]&&r<e[o+1]&&(i=o+1):r>=e[o]&&(i=o);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function Bz(t){let e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:o,realIndex:a,snapIndex:c}=e,u=t,h,m=E=>{let C=E-e.virtual.slidesBefore;return C<0&&(C=e.virtual.slides.length+C),C>=e.virtual.slides.length&&(C-=e.virtual.slides.length),C};if(typeof u>"u"&&(u=Vz(e)),r.indexOf(n)>=0)h=r.indexOf(n);else{let E=Math.min(i.slidesPerGroupSkip,u);h=E+Math.floor((u-E)/i.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),u===o&&!e.params.loop){h!==c&&(e.snapIndex=h,e.emit("snapIndexChange"));return}if(u===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=m(u);return}let v=e.grid&&i.grid&&i.grid.rows>1,I;if(e.virtual&&i.virtual.enabled&&i.loop)I=m(u);else if(v){let E=e.slides.find(N=>N.column===u),C=parseInt(E.getAttribute("data-swiper-slide-index"),10);Number.isNaN(C)&&(C=Math.max(e.slides.indexOf(E),0)),I=Math.floor(C/i.grid.rows)}else if(e.slides[u]){let E=e.slides[u].getAttribute("data-swiper-slide-index");E?I=parseInt(E,10):I=u}else I=u;Object.assign(e,{previousSnapIndex:c,snapIndex:h,previousRealIndex:a,realIndex:I,previousIndex:o,activeIndex:u}),e.initialized&&Fw(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==I&&e.emit("realIndexChange"),e.emit("slideChange"))}function jz(t,e){let n=this,r=n.params,i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(c=>{!i&&c.matches&&c.matches(`.${r.slideClass}, swiper-slide`)&&(i=c)});let o=!1,a;if(i){for(let c=0;c<n.slides.length;c+=1)if(n.slides[c]===i){o=!0,a=c;break}}if(i&&o)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var Uz={updateSize:Pz,updateSlides:Rz,updateAutoHeight:Nz,updateSlidesOffset:Oz,updateSlidesProgress:kz,updateProgress:Lz,updateSlidesClasses:Fz,updateActiveIndex:Bz,updateClickedSlide:jz};function $z(t=this.isHorizontal()?"x":"y"){let e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:o}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let a=Aw(o,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function zz(t,e){let n=this,{rtlTranslate:r,params:i,wrapperEl:o,progress:a}=n,c=0,u=0,h=0;n.isHorizontal()?c=r?-t:t:u=t,i.roundLengths&&(c=Math.floor(c),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?c:u,i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-c:-u:i.virtualTranslate||(n.isHorizontal()?c-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${c}px, ${u}px, ${h}px)`);let m,v=n.maxTranslate()-n.minTranslate();v===0?m=0:m=(t-n.minTranslate())/v,m!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function Hz(){return-this.snapGrid[0]}function qz(){return-this.snapGrid[this.snapGrid.length-1]}function Gz(t=0,e=this.params.speed,n=!0,r=!0,i){let o=this,{params:a,wrapperEl:c}=o;if(o.animating&&a.preventInteractionOnTransition)return!1;let u=o.minTranslate(),h=o.maxTranslate(),m;if(r&&t>u?m=u:r&&t<h?m=h:m=t,o.updateProgress(m),a.cssMode){let v=o.isHorizontal();if(e===0)c[v?"scrollLeft":"scrollTop"]=-m;else{if(!o.support.smoothScroll)return xw({swiper:o,targetPosition:-m,side:v?"left":"top"}),!0;c.scrollTo({[v?"left":"top"]:-m,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(m),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(m),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(I){!o||o.destroyed||I.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var Wz={getTranslate:$z,setTranslate:zz,minTranslate:Hz,maxTranslate:qz,translateTo:Gz};function Kz(t,e){let n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function zP({swiper:t,runCallbacks:e,direction:n,step:r}){let{activeIndex:i,previousIndex:o}=t,a=n;a||(i>o?a="next":i<o?a="prev":a="reset"),t.emit(`transition${r}`),e&&a==="reset"?t.emit(`slideResetTransition${r}`):e&&i!==o&&(t.emit(`slideChangeTransition${r}`),a==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`))}function Zz(t=!0,e){let n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),zP({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function Yz(t=!0,e){let n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),zP({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var Qz={setTransition:Kz,transitionStart:Zz,transitionEnd:Yz};function Xz(t=0,e,n=!0,r,i){typeof t=="string"&&(t=parseInt(t,10));let o=this,a=t;a<0&&(a=0);let{params:c,snapGrid:u,slidesGrid:h,previousIndex:m,activeIndex:v,rtlTranslate:I,wrapperEl:E,enabled:C}=o;if(!C&&!r&&!i||o.destroyed||o.animating&&c.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);let N=Math.min(o.params.slidesPerGroupSkip,a),k=N+Math.floor((a-N)/o.params.slidesPerGroup);k>=u.length&&(k=u.length-1);let B=-u[k];if(c.normalizeSlideIndex)for(let R=0;R<h.length;R+=1){let T=-Math.floor(B*100),S=Math.floor(h[R]*100),D=Math.floor(h[R+1]*100);typeof h[R+1]<"u"?T>=S&&T<D-(D-S)/2?a=R:T>=S&&T<D&&(a=R+1):T>=S&&(a=R)}if(o.initialized&&a!==v&&(!o.allowSlideNext&&(I?B>o.translate&&B>o.minTranslate():B<o.translate&&B<o.minTranslate())||!o.allowSlidePrev&&B>o.translate&&B>o.maxTranslate()&&(v||0)!==a))return!1;a!==(m||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(B);let z;a>v?z="next":a<v?z="prev":z="reset";let H=o.virtual&&o.params.virtual.enabled;if(!(H&&i)&&(I&&-B===o.translate||!I&&B===o.translate))return o.updateActiveIndex(a),c.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),c.effect!=="slide"&&o.setTranslate(B),z!=="reset"&&(o.transitionStart(n,z),o.transitionEnd(n,z)),!1;if(c.cssMode){let R=o.isHorizontal(),T=I?B:-B;if(e===0)H&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),H&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{E[R?"scrollLeft":"scrollTop"]=T})):E[R?"scrollLeft":"scrollTop"]=T,H&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return xw({swiper:o,targetPosition:T,side:R?"left":"top"}),!0;E.scrollTo({[R?"left":"top"]:T,behavior:"smooth"})}return!0}let ne=$P().isSafari;return H&&!i&&ne&&o.isElement&&o.virtual.update(!1,!1,a),o.setTransition(e),o.setTranslate(B),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(n,z),e===0?o.transitionEnd(n,z):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(T){!o||o.destroyed||T.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,z))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function Jz(t=0,e,n=!0,r){typeof t=="string"&&(t=parseInt(t,10));let i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);let o=i.grid&&i.params.grid&&i.params.grid.rows>1,a=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)a=a+i.virtual.slidesBefore;else{let c;if(o){let N=a*i.params.grid.rows;c=i.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===N).column}else c=i.getSlideIndexByData(a);let u=o?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:h,slidesOffsetBefore:m,slidesOffsetAfter:v}=i.params,I=h||!!m||!!v,E=i.params.slidesPerView;E==="auto"?E=i.slidesPerViewDynamic():(E=Math.ceil(parseFloat(i.params.slidesPerView,10)),I&&E%2===0&&(E=E+1));let C=u-c<E;if(I&&(C=C||c<Math.ceil(E/2)),r&&I&&i.params.slidesPerView!=="auto"&&!o&&(C=!1),C){let N=I?c<i.activeIndex?"prev":"next":c-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:N,slideTo:!0,activeSlideIndex:N==="next"?c+1:c-u+1,slideRealIndex:N==="next"?i.realIndex:void 0})}if(o){let N=a*i.params.grid.rows;a=i.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===N).column}else a=i.getSlideIndexByData(a)}return requestAnimationFrame(()=>{i.slideTo(a,e,n,r)}),i}function eH(t,e=!0,n){let r=this,{enabled:i,params:o,animating:a}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let c=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(c=Math.max(r.slidesPerViewDynamic("current",!0),1));let u=r.activeIndex<o.slidesPerGroupSkip?1:c,h=r.virtual&&o.virtual.enabled;if(o.loop){if(a&&!h&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+u,t,e,n)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+u,t,e,n)}function tH(t,e=!0,n){let r=this,{params:i,snapGrid:o,slidesGrid:a,rtlTranslate:c,enabled:u,animating:h}=r;if(!u||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let m=r.virtual&&i.virtual.enabled;if(i.loop){if(h&&!m&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}let v=c?r.translate:-r.translate;function I(z){return z<0?-Math.floor(Math.abs(z)):Math.floor(z)}let E=I(v),C=o.map(z=>I(z)),N=i.freeMode&&i.freeMode.enabled,k=o[C.indexOf(E)-1];if(typeof k>"u"&&(i.cssMode||N)){let z;o.forEach((H,ee)=>{E>=H&&(z=ee)}),typeof z<"u"&&(k=N?o[z]:o[z>0?z-1:z])}let B=0;if(typeof k<"u"&&(B=a.indexOf(k),B<0&&(B=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(B=B-r.slidesPerViewDynamic("previous",!0)+1,B=Math.max(B,0))),i.rewind&&r.isBeginning){let z=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(z,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(B,t,e,n)}),!0;return r.slideTo(B,t,e,n)}function nH(t,e=!0,n){let r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function rH(t,e=!0,n,r=.5){let i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let o=i.activeIndex,a=Math.min(i.params.slidesPerGroupSkip,o),c=a+Math.floor((o-a)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[c]){let h=i.snapGrid[c],m=i.snapGrid[c+1];u-h>(m-h)*r&&(o+=i.params.slidesPerGroup)}else{let h=i.snapGrid[c-1],m=i.snapGrid[c];u-h<=(m-h)*r&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,t,e,n)}function iH(){let t=this;if(t.destroyed)return;let{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView,i=t.getSlideIndexWhenGrid(t.clickedIndex),o,a=t.isElement?"swiper-slide":`.${e.slideClass}`,c=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;o=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(o):i>(c?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),i=t.getSlideIndex(vn(n,`${a}[data-swiper-slide-index="${o}"]`)[0]),Sc(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var oH={slideTo:Xz,slideToLoop:Jz,slideNext:eH,slidePrev:tH,slideReset:nH,slideToClosest:rH,slideToClickedSlide:iH};function sH(t,e){let n=this,{params:r,slidesEl:i}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;let o=()=>{vn(i,`.${r.slideClass}, swiper-slide`).forEach((C,N)=>{C.setAttribute("data-swiper-slide-index",N)})},a=()=>{let E=vn(i,`.${r.slideBlankClass}`);E.forEach(C=>{C.remove()}),E.length>0&&(n.recalcSlides(),n.updateSlides())},c=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||c)&&a();let u=r.slidesPerGroup*(c?r.grid.rows:1),h=n.slides.length%u!==0,m=c&&n.slides.length%r.grid.rows!==0,v=E=>{for(let C=0;C<E;C+=1){let N=n.isElement?kr("swiper-slide",[r.slideBlankClass]):kr("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(N)}};if(h){if(r.loopAddBlankSlides){let E=u-n.slides.length%u;v(E),n.recalcSlides(),n.updateSlides()}else yf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(m){if(r.loopAddBlankSlides){let E=r.grid.rows-n.slides.length%r.grid.rows;v(E),n.recalcSlides(),n.updateSlides()}else yf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();let I=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:I?void 0:"next",initial:e})}function aH({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:i,initial:o,byController:a,byMousewheel:c}={}){let u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");let{slides:h,allowSlidePrev:m,allowSlideNext:v,slidesEl:I,params:E}=u,{centeredSlides:C,slidesOffsetBefore:N,slidesOffsetAfter:k,initialSlide:B}=E,z=C||!!N||!!k;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&E.virtual.enabled){e&&(!z&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):z&&u.snapIndex<E.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=m,u.allowSlideNext=v,u.emit("loopFix");return}let H=E.slidesPerView;H==="auto"?H=u.slidesPerViewDynamic():(H=Math.ceil(parseFloat(E.slidesPerView,10)),z&&H%2===0&&(H=H+1));let ee=E.slidesPerGroupAuto?H:E.slidesPerGroup,ie=z?Math.max(ee,Math.ceil(H/2)):ee;ie%ee!==0&&(ie+=ee-ie%ee),ie+=E.loopAdditionalSlides,u.loopedSlides=ie;let ne=u.grid&&E.grid&&E.grid.rows>1;h.length<H+ie||u.params.effect==="cards"&&h.length<H+ie*2?yf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):ne&&E.grid.fill==="row"&&yf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");let R=[],T=[],S=ne?Math.ceil(h.length/E.grid.rows):h.length,D=o&&S-B<H&&!z,M=D?B:u.activeIndex;typeof i>"u"?i=u.getSlideIndex(h.find(Q=>Q.classList.contains(E.slideActiveClass))):M=i;let O=n==="next"||!n,x=n==="prev"||!n,Ge=0,At=0,yn=(ne?h[i].column:i)+(z&&typeof r>"u"?-H/2+.5:0);if(yn<ie){Ge=Math.max(ie-yn,ee);for(let Q=0;Q<ie-yn;Q+=1){let we=Q-Math.floor(Q/S)*S;if(ne){let Qe=S-we-1;for(let dt=h.length-1;dt>=0;dt-=1)h[dt].column===Qe&&R.push(dt)}else R.push(S-we-1)}}else if(yn+H>S-ie){At=Math.max(yn-(S-ie*2),ee),D&&(At=Math.max(At,H-S+B+1));for(let Q=0;Q<At;Q+=1){let we=Q-Math.floor(Q/S)*S;ne?h.forEach((Qe,dt)=>{Qe.column===we&&T.push(dt)}):T.push(we)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&h.length<H+ie*2&&(T.includes(i)&&T.splice(T.indexOf(i),1),R.includes(i)&&R.splice(R.indexOf(i),1)),x&&R.forEach(Q=>{h[Q].swiperLoopMoveDOM=!0,I.prepend(h[Q]),h[Q].swiperLoopMoveDOM=!1}),O&&T.forEach(Q=>{h[Q].swiperLoopMoveDOM=!0,I.append(h[Q]),h[Q].swiperLoopMoveDOM=!1}),u.recalcSlides(),E.slidesPerView==="auto"?u.updateSlides():ne&&(R.length>0&&x||T.length>0&&O)&&u.slides.forEach((Q,we)=>{u.grid.updateSlide(we,Q,u.slides)}),E.watchSlidesProgress&&u.updateSlidesOffset(),e){if(R.length>0&&x){if(typeof t>"u"){let Q=u.slidesGrid[M],Qe=u.slidesGrid[M+Ge]-Q;c?u.setTranslate(u.translate-Qe):(u.slideTo(M+Math.ceil(Ge),0,!1,!0),r&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-Qe,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-Qe))}else if(r){let Q=ne?R.length/E.grid.rows:R.length;u.slideTo(u.activeIndex+Q,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(T.length>0&&O)if(typeof t>"u"){let Q=u.slidesGrid[M],Qe=u.slidesGrid[M-At]-Q;c?u.setTranslate(u.translate-Qe):(u.slideTo(M-At,0,!1,!0),r&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-Qe,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-Qe))}else{let Q=ne?T.length/E.grid.rows:T.length;u.slideTo(u.activeIndex-Q,0,!1,!0)}}if(u.allowSlidePrev=m,u.allowSlideNext=v,u.controller&&u.controller.control&&!a){let Q={slideRealIndex:t,direction:n,setTranslate:r,activeSlideIndex:i,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(we=>{!we.destroyed&&we.params.loop&&we.loopFix(Ne(J({},Q),{slideTo:we.params.slidesPerView===E.slidesPerView?e:!1}))}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix(Ne(J({},Q),{slideTo:u.controller.control.params.slidesPerView===E.slidesPerView?e:!1}))}u.emit("loopFix")}function lH(){let t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();let r=[];t.slides.forEach(i=>{let o=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[o]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var cH={loopCreate:sH,loopFix:aH,loopDestroy:lH};function uH(t){let e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;let n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function dH(){let t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var fH={setGrabCursor:uH,unsetGrabCursor:dH};function hH(t,e=this){function n(r){if(!r||r===bn()||r===Ct())return null;r.assignedSlot&&(r=r.assignedSlot);let i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function LP(t,e,n){let r=Ct(),{params:i}=t,o=i.edgeSwipeDetection,a=i.edgeSwipeThreshold;return o&&(n<=a||n>=r.innerWidth-a)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function pH(t){let e=this,n=bn(),r=t;r.originalEvent&&(r=r.originalEvent);let i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){LP(e,r,r.targetTouches[0].pageX);return}let{params:o,touches:a,enabled:c}=e;if(!c||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let u=r.target;if(o.touchEventsTarget==="wrapper"&&!RP(u,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;let h=!!o.noSwipingClass&&o.noSwipingClass!=="",m=r.composedPath?r.composedPath():r.path;h&&r.target&&r.target.shadowRoot&&m&&(u=m[0]);let v=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,I=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(I?hH(v,u):u.closest(v))){e.allowClick=!0;return}if(o.swipeHandler&&!u.closest(o.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;let E=a.currentX,C=a.currentY;if(!LP(e,r,E))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=E,a.startY=C,i.touchStartTime=Ca(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1);let N=!0;u.matches(i.focusableElements)&&(N=!1,u.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==u&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!u.matches(i.focusableElements))&&n.activeElement.blur();let k=N&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||k)&&!u.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function mH(t){let e=bn(),n=this,r=n.touchEventsData,{params:i,touches:o,rtlTranslate:a,enabled:c}=n;if(!c||!i.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(r.touchId!==null||u.pointerId!==r.pointerId))return;let h;if(u.type==="touchmove"){if(h=[...u.changedTouches].find(ne=>ne.identifier===r.touchId),!h||h.identifier!==r.touchId)return}else h=u;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",u);return}let m=h.pageX,v=h.pageY;if(u.preventedByNestedSwiper){o.startX=m,o.startY=v;return}if(!n.allowTouchMove){u.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:m,startY:v,currentX:m,currentY:v}),r.touchStartTime=Ca());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(v<o.startY&&n.translate<=n.maxTranslate()||v>o.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(a&&(m>o.startX&&-n.translate<=n.maxTranslate()||m<o.startX&&-n.translate>=n.minTranslate()))return;if(!a&&(m<o.startX&&n.translate<=n.maxTranslate()||m>o.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==u.target&&u.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&u.target===e.activeElement&&u.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",u),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=m,o.currentY=v;let I=o.currentX-o.startX,E=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(I**2+E**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let ne;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:I*I+E*E>=25&&(ne=Math.atan2(Math.abs(E),Math.abs(I))*180/Math.PI,r.isScrolling=n.isHorizontal()?ne>i.touchAngle:90-ne>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",u),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||u.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&u.cancelable&&u.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&u.stopPropagation();let C=n.isHorizontal()?I:E,N=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;i.oneWayMovement&&(C=Math.abs(C)*(a?1:-1),N=Math.abs(N)*(a?1:-1)),o.diff=C,C*=i.touchRatio,a&&(C=-C,N=-N);let k=n.touchesDirection;n.swipeDirection=C>0?"prev":"next",n.touchesDirection=N>0?"prev":"next";let B=n.params.loop&&!i.cssMode,z=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(B&&z&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){let ne=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(ne)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}let H;if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&k!==n.touchesDirection&&B&&z&&Math.abs(C)>=1){Object.assign(o,{startX:m,startY:v,currentX:m,currentY:v,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",u),r.isMoved=!0,r.currentTranslate=C+r.startTranslate;let ee=!0,ie=i.resistanceRatio;if(i.touchReleaseOnEdges&&(ie=0),C>0?(B&&z&&!H&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(ee=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+C)**ie))):C<0&&(B&&z&&!H&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(ee=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-C)**ie))),ee&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(C)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function gH(t){let e=this,n=e.touchEventsData,r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(ie=>ie.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;let{params:a,touches:c,rtlTranslate:u,slidesGrid:h,enabled:m}=e;if(!m||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);let v=Ca(),I=v-n.touchStartTime;if(e.allowClick){let ie=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(ie&&ie[0]||r.target,ie),e.emit("tap click",r),I<300&&v-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Ca(),Sc(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||c.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let E;if(a.followFinger?E=u?e.translate:-e.translate:E=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:E});return}let C=E>=-e.maxTranslate()&&!e.params.loop,N=0,k=e.slidesSizesGrid[0];for(let ie=0;ie<h.length;ie+=ie<a.slidesPerGroupSkip?1:a.slidesPerGroup){let ne=ie<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof h[ie+ne]<"u"?(C||E>=h[ie]&&E<h[ie+ne])&&(N=ie,k=h[ie+ne]-h[ie]):(C||E>=h[ie])&&(N=ie,k=h[h.length-1]-h[h.length-2])}let B=null,z=null;a.rewind&&(e.isBeginning?z=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(B=0));let H=(E-h[N])/k,ee=N<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(I>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(H>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?B:N+ee):e.slideTo(N)),e.swipeDirection==="prev"&&(H>1-a.longSwipesRatio?e.slideTo(N+ee):z!==null&&H<0&&Math.abs(H)>a.longSwipesRatio?e.slideTo(z):e.slideTo(N))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(N+ee):e.slideTo(N):(e.swipeDirection==="next"&&e.slideTo(B!==null?B:N+ee),e.swipeDirection==="prev"&&e.slideTo(z!==null?z:N))}}function FP(){let t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();let{allowSlideNext:r,allowSlidePrev:i,snapGrid:o}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();let c=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!c?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function vH(t){let e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function yH(){let t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i,o=t.maxTranslate()-t.minTranslate();o===0?i=0:i=(t.translate-t.minTranslate())/o,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function _H(t){let e=this;kg(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function EH(){let t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}var HP=(t,e)=>{let n=bn(),{params:r,el:i,wrapperEl:o,device:a}=t,c=!!r.nested,u=e==="on"?"addEventListener":"removeEventListener",h=e;!i||typeof i=="string"||(n[u]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:c}),i[u]("touchstart",t.onTouchStart,{passive:!1}),i[u]("pointerdown",t.onTouchStart,{passive:!1}),n[u]("touchmove",t.onTouchMove,{passive:!1,capture:c}),n[u]("pointermove",t.onTouchMove,{passive:!1,capture:c}),n[u]("touchend",t.onTouchEnd,{passive:!0}),n[u]("pointerup",t.onTouchEnd,{passive:!0}),n[u]("pointercancel",t.onTouchEnd,{passive:!0}),n[u]("touchcancel",t.onTouchEnd,{passive:!0}),n[u]("pointerout",t.onTouchEnd,{passive:!0}),n[u]("pointerleave",t.onTouchEnd,{passive:!0}),n[u]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[u]("click",t.onClick,!0),r.cssMode&&o[u]("scroll",t.onScroll),r.updateOnWindowResize?t[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",FP,!0):t[h]("observerUpdate",FP,!0),i[u]("load",t.onLoad,{capture:!0}))};function IH(){let t=this,{params:e}=t;t.onTouchStart=pH.bind(t),t.onTouchMove=mH.bind(t),t.onTouchEnd=gH.bind(t),t.onDocumentTouchStart=EH.bind(t),e.cssMode&&(t.onScroll=yH.bind(t)),t.onClick=vH.bind(t),t.onLoad=_H.bind(t),HP(t,"on")}function wH(){HP(this,"off")}var bH={attachEvents:IH,detachEvents:wH},VP=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function TH(){let t=this,{realIndex:e,initialized:n,params:r,el:i}=t,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;let a=bn(),c=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",u=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:a.querySelector(r.breakpointsBase),h=t.getBreakpoint(o,c,u);if(!h||t.currentBreakpoint===h)return;let v=(h in o?o[h]:void 0)||t.originalParams,I=VP(t,r),E=VP(t,v),C=t.params.grabCursor,N=v.grabCursor,k=r.enabled;I&&!E?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!I&&E&&(i.classList.add(`${r.containerModifierClass}grid`),(v.grid.fill&&v.grid.fill==="column"||!v.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),C&&!N?t.unsetGrabCursor():!C&&N&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ne=>{if(typeof v[ne]>"u")return;let R=r[ne]&&r[ne].enabled,T=v[ne]&&v[ne].enabled;R&&!T&&t[ne].disable(),!R&&T&&t[ne].enable()});let B=v.direction&&v.direction!==r.direction,z=r.loop&&(v.slidesPerView!==r.slidesPerView||B),H=r.loop;B&&n&&t.changeDirection(),Un(t.params,v);let ee=t.params.enabled,ie=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),k&&!ee?t.disable():!k&&ee&&t.enable(),t.currentBreakpoint=h,t.emit("_beforeBreakpoint",v),n&&(z?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!H&&ie?(t.loopCreate(e),t.updateSlides()):H&&!ie&&t.loopDestroy()),t.emit("breakpoint",v)}function CH(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1,i=Ct(),o=e==="window"?i.innerHeight:n.clientHeight,a=Object.keys(t).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){let u=parseFloat(c.substr(1));return{value:o*u,point:c}}return{value:c,point:c}});a.sort((c,u)=>parseInt(c.value,10)-parseInt(u.value,10));for(let c=0;c<a.length;c+=1){let{point:u,value:h}=a[c];e==="window"?i.matchMedia(`(min-width: ${h}px)`).matches&&(r=u):h<=n.clientWidth&&(r=u)}return r||"max"}var SH={setBreakpoint:TH,getBreakpoint:CH};function DH(t,e){let n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function AH(){let t=this,{classNames:e,params:n,rtl:r,el:i,device:o}=t,a=DH(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),i.classList.add(...e),t.emitContainerClasses()}function xH(){let t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var MH={addClasses:AH,removeClasses:xH};function PH(){let t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){let i=t.slides.length-1,o=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>o}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var RH={checkOverflow:PH},BP={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function NH(t,e){return function(r={}){let i=Object.keys(r)[0],o=r[i];if(typeof o!="object"||o===null){Un(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in o)){Un(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Un(e,r)}}var kw={eventsEmitter:Mz,update:Uz,translate:Wz,transition:Qz,slide:oH,loop:cH,grabCursor:fH,events:bH,breakpoints:SH,checkOverflow:RH,classes:MH},Lw={},ss=class t{constructor(...e){let n,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Un({},r),n&&!r.el&&(r.el=n);let i=bn();if(r.el&&typeof r.el=="string"&&i.querySelectorAll(r.el).length>1){let u=[];return i.querySelectorAll(r.el).forEach(h=>{let m=Un({},r,{el:h});u.push(new t(m))}),u}let o=this;o.__swiper__=!0,o.support=jP(),o.device=UP({userAgent:r.userAgent}),o.browser=$P(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],r.modules&&Array.isArray(r.modules)&&o.modules.push(...r.modules);let a={};o.modules.forEach(u=>{u({params:r,swiper:o,extendParams:NH(r,a),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});let c=Un({},BP,a);return o.params=Un({},c,Lw,r),o.originalParams=Un({},o.params),o.passedParams=Un({},r),o.params&&o.params.on&&Object.keys(o.params.on).forEach(u=>{o.on(u,o.params.on[u])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){let{slidesEl:n,params:r}=this,i=vn(n,`.${r.slideClass}, swiper-slide`),o=_f(i[0]);return _f(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){let e=this,{slidesEl:n,params:r}=e;e.slides=vn(n,`.${r.slideClass}, swiper-slide`)}enable(){let e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){let e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){let r=this;e=Math.min(Math.max(e,0),1);let i=r.minTranslate(),a=(r.maxTranslate()-i)*e+i;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){let n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let n=[];e.slides.forEach(r=>{let i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){let r=this,{params:i,slides:o,slidesGrid:a,slidesSizesGrid:c,size:u,activeIndex:h}=r,m=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let v=o[h]?Math.ceil(o[h].swiperSlideSize):0,I;for(let E=h+1;E<o.length;E+=1)o[E]&&!I&&(v+=Math.ceil(o[E].swiperSlideSize),m+=1,v>u&&(I=!0));for(let E=h-1;E>=0;E-=1)o[E]&&!I&&(v+=o[E].swiperSlideSize,m+=1,v>u&&(I=!0))}else if(e==="current")for(let v=h+1;v<o.length;v+=1)(n?a[v]+c[v]-a[h]<u:a[v]-a[h]<u)&&(m+=1);else for(let v=h-1;v>=0;v-=1)a[h]-a[v]<u&&(m+=1);return m}update(){let e=this;if(!e||e.destroyed)return;let{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&kg(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){let a=e.rtlTranslate?e.translate*-1:e.translate,c=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(c),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){let a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(a.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){let r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){let n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){let n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);let i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`,a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):vn(r,i())[0];return!a&&n.params.createElements&&(a=kr("div",n.params.wrapperClass),r.append(a),vn(r,`.${n.params.slideClass}`).forEach(c=>{a.append(c)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||oo(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||oo(r,"direction")==="rtl"),wrongRTL:oo(a,"display")==="-webkit-box"}),!0}init(e){let n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();let i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(o=>{o.complete?kg(n,o):o.addEventListener("load",a=>{kg(n,a.target)})}),Fw(n),n.initialized=!0,Fw(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){let r=this,{params:i,el:o,wrapperEl:a,slides:c}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),a&&a.removeAttribute("style"),c&&c.length&&c.forEach(u=>{u.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(u=>{r.off(u)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),PP(r)),r.destroyed=!0),null}static extendDefaults(e){Un(Lw,e)}static get extendedDefaults(){return Lw}static get defaults(){return BP}static installModule(e){t.prototype.__modules__||(t.prototype.__modules__=[]);let n=t.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>t.installModule(n)),t):(t.installModule(e),t)}};Object.keys(kw).forEach(t=>{Object.keys(kw[t]).forEach(e=>{ss.prototype[e]=kw[t][e]})});ss.use([Az,xz]);function Lg(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let o=vn(t.el,`.${r[i]}`)[0];o||(o=kr("div",r[i]),o.className=r[i],t.el.append(o)),n[i]=o,e[i]=o}}),n}var GP='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function Vw({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null,arrowSvg:GP};function i(E){let C;return E&&typeof E=="string"&&t.isElement&&(C=t.el.querySelector(E)||t.hostEl.querySelector(E),C)?C:(E&&(typeof E=="string"&&(C=[...document.querySelectorAll(E)]),t.params.uniqueNavElements&&typeof E=="string"&&C&&C.length>1&&t.el.querySelectorAll(E).length===1?C=t.el.querySelector(E):C&&C.length===1&&(C=C[0])),E&&!C?E:C)}function o(E,C){let N=t.params.navigation;E=ir(E),E.forEach(k=>{k&&(k.classList[C?"add":"remove"](...N.disabledClass.split(" ")),k.tagName==="BUTTON"&&(k.disabled=C),t.params.watchOverflow&&t.enabled&&k.classList[t.isLocked?"add":"remove"](N.lockClass))})}function a(){let{nextEl:E,prevEl:C}=t.navigation;if(t.params.loop){o(C,!1),o(E,!1);return}o(C,t.isBeginning&&!t.params.rewind),o(E,t.isEnd&&!t.params.rewind)}function c(E){E.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function u(E){E.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function h(){let E=t.params.navigation;if(t.params.navigation=Lg(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(E.nextEl||E.prevEl))return;let C=i(E.nextEl),N=i(E.prevEl);Object.assign(t.navigation,{nextEl:C,prevEl:N}),C=ir(C),N=ir(N);let k=(B,z)=>{if(B){if(E.addIcons&&B.matches(".swiper-button-next,.swiper-button-prev")&&!B.querySelector("svg")){let H=document.createElement("div");Ac(H,GP),B.appendChild(H.querySelector("svg")),H.remove()}B.addEventListener("click",z==="next"?u:c)}!t.enabled&&B&&B.classList.add(...E.lockClass.split(" "))};C.forEach(B=>k(B,"next")),N.forEach(B=>k(B,"prev"))}function m(){let{nextEl:E,prevEl:C}=t.navigation;E=ir(E),C=ir(C);let N=(k,B)=>{k.removeEventListener("click",B==="next"?u:c),k.classList.remove(...t.params.navigation.disabledClass.split(" "))};E.forEach(k=>N(k,"next")),C.forEach(k=>N(k,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?I():(h(),a())}),n("toEdge fromEdge lock unlock",()=>{a()}),n("destroy",()=>{m()}),n("enable disable",()=>{let{nextEl:E,prevEl:C}=t.navigation;if(E=ir(E),C=ir(C),t.enabled){a();return}[...E,...C].filter(N=>!!N).forEach(N=>N.classList.add(t.params.navigation.lockClass))}),n("click",(E,C)=>{let{nextEl:N,prevEl:k}=t.navigation;N=ir(N),k=ir(k);let B=C.target,z=k.includes(B)||N.includes(B);if(t.isElement&&!z){let H=C.path||C.composedPath&&C.composedPath();H&&(z=H.find(ee=>N.includes(ee)||k.includes(ee)))}if(t.params.navigation.hideOnClick&&!z){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===B||t.pagination.el.contains(B)))return;let H;N.length?H=N[0].classList.contains(t.params.navigation.hiddenClass):k.length&&(H=k[0].classList.contains(t.params.navigation.hiddenClass)),r(H===!0?"navigationShow":"navigationHide"),[...N,...k].filter(ee=>!!ee).forEach(ee=>ee.classList.toggle(t.params.navigation.hiddenClass))}});let v=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),h(),a()},I=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),m()};Object.assign(t.navigation,{enable:v,disable:I,update:a,init:h,destroy:m})}var ZP=()=>{};var XP=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},OH=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],a=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Vg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],a=i+1<t.length,c=a?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,m=o>>2,v=(o&3)<<4|c>>4,I=(c&15)<<2|h>>6,E=h&63;u||(E=64,a||(I=64)),r.push(n[m],n[v],n[I],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let h=i<t.length?n[t.charAt(i)]:64;++i;let v=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||h==null||v==null)throw new zw;let I=o<<2|c>>4;if(r.push(I),h!==64){let E=c<<4&240|h>>2;if(r.push(E),v!==64){let C=h<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},zw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},kH=function(t){let e=XP(t);return Vg.encodeByteArray(e,!0)},bf=function(t){return kH(t).replace(/\./g,"")},Bg=function(t){try{return Vg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var LH=()=>qw().__FIREBASE_DEFAULTS__,FH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Bg(t[1]);return e&&JSON.parse(e)},jg=()=>{try{return ZP()||LH()||FH()||VH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gw=t=>{var e,n;return(n=(e=jg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JP=t=>{let e=Gw(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ww=()=>{var t;return(t=jg())===null||t===void 0?void 0:t.config},Kw=t=>{var e;return(e=jg())===null||e===void 0?void 0:e[`_${t}`]};var Sa=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function as(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function Ug(t){return A(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function e1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bf(JSON.stringify(n)),bf(JSON.stringify(a)),""].join(".")}var wf={};function BH(){let t={prod:[],emulator:[]};for(let e of Object.keys(wf))wf[e]?t.emulator.push(e):t.prod.push(e);return t}function jH(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var YP=!1;function $g(t,e){if(typeof window>"u"||typeof document>"u"||!as(window.location.host)||wf[t]===e||wf[t]||YP)return;wf[t]=e;function n(I){return`__firebase__banner__${I}`}let r="__firebase__banner",o=BH().prod.length>0;function a(){let I=document.getElementById(r);I&&I.remove()}function c(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function u(I,E){I.setAttribute("width","24"),I.setAttribute("id",E),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function h(){let I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{YP=!0,a()},I}function m(I,E){I.setAttribute("id",E),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function v(){let I=jH(r),E=n("text"),C=document.getElementById(E)||document.createElement("span"),N=n("learnmore"),k=document.getElementById(N)||document.createElement("a"),B=n("preprendIcon"),z=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){let H=I.element;c(H),m(k,N);let ee=h();u(z,B),H.append(z,C,k,ee),document.body.appendChild(H)}o?(C.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function UH(){var t;let e=(t=jg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r1(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function i1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o1(){let t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function s1(){return!UH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tf(){try{return typeof indexedDB=="object"}catch{return!1}}function a1(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var $H="FirebaseError",or=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$H,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lr.prototype.create)}},Lr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?zH(o,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new or(i,c,r)}};function zH(t,e){return t.replace(HH,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var HH=/\{\$([^}]+)}/g;function l1(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],a=e[i];if(QP(o)&&QP(a)){if(!yi(o,a))return!1}else if(o!==a)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function QP(t){return t!==null&&typeof t=="object"}function Cf(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Pc(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function c1(t,e){let n=new Hw(t,e);return n.subscribe.bind(n)}var Hw=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qH(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$w),i.error===void 0&&(i.error=$w),i.complete===void 0&&(i.complete=$w);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function qH(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $w(){}var kde=14400*1e3;function Rt(t){return t&&t._delegate?t._delegate:t}var Nn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Da="[DEFAULT]";var Zw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Sa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WH(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return A(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,a]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&a.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function GH(t){return t===Da?void 0:t}function WH(t){return t.instantiationMode==="EAGER"}var zg=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Zw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var KH=[],Ue=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(Ue||{}),ZH={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},YH=Ue.INFO,QH={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},XH=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=QH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},_i=class{constructor(e){this.name=e,this._logLevel=YH,this._logHandler=XH,this._userLogHandler=null,KH.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}};var JH=(t,e)=>e.some(n=>t instanceof n),u1,d1;function e3(){return u1||(u1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t3(){return d1||(d1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var f1=new WeakMap,Qw=new WeakMap,h1=new WeakMap,Yw=new WeakMap,Jw=new WeakMap;function n3(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ei(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&f1.set(n,t)}).catch(()=>{}),Jw.set(e,t),e}function r3(t){if(Qw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Qw.set(t,e)}var Xw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function p1(t){Xw=t(Xw)}function i3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Hg(this),e,...n);return h1.set(r,e.sort?e.sort():[e]),Ei(r)}:t3().includes(t)?function(...e){return t.apply(Hg(this),e),Ei(f1.get(this))}:function(...e){return Ei(t.apply(Hg(this),e))}}function o3(t){return typeof t=="function"?i3(t):(t instanceof IDBTransaction&&r3(t),JH(t,e3())?new Proxy(t,Xw):t)}function Ei(t){if(t instanceof IDBRequest)return n3(t);if(Yw.has(t))return Yw.get(t);let e=o3(t);return e!==t&&(Yw.set(t,e),Jw.set(e,t)),e}var Hg=t=>Jw.get(t);function g1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let a=indexedDB.open(t,e),c=Ei(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Ei(a.result),u.oldVersion,u.newVersion,Ei(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}var s3=["get","getKey","getAll","getAllKeys","count"],a3=["put","add","delete","clear"],eb=new Map;function m1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(eb.get(e))return eb.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=a3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||s3.includes(n)))return;let o=function(a,...c){return A(this,null,function*(){let u=this.transaction(a,i?"readwrite":"readonly"),h=u.store;return r&&(h=h.index(c.shift())),(yield Promise.all([h[n](...c),i&&u.done]))[0]})};return eb.set(e,o),o}p1(t=>Ne(J({},t),{get:(e,n,r)=>m1(e,n)||t.get(e,n,r),has:(e,n)=>!!m1(e,n)||t.has(e,n)}));var nb=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(l3(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function l3(t){let e=t.getComponent();return e?.type==="VERSION"}var rb="@firebase/app",v1="0.13.2";var so=new _i("@firebase/app"),c3="@firebase/app-compat",u3="@firebase/analytics-compat",d3="@firebase/analytics",f3="@firebase/app-check-compat",h3="@firebase/app-check",p3="@firebase/auth",m3="@firebase/auth-compat",g3="@firebase/database",v3="@firebase/data-connect",y3="@firebase/database-compat",_3="@firebase/functions",E3="@firebase/functions-compat",I3="@firebase/installations",w3="@firebase/installations-compat",b3="@firebase/messaging",T3="@firebase/messaging-compat",C3="@firebase/performance",S3="@firebase/performance-compat",D3="@firebase/remote-config",A3="@firebase/remote-config-compat",x3="@firebase/storage",M3="@firebase/storage-compat",P3="@firebase/firestore",R3="@firebase/ai",N3="@firebase/firestore-compat",O3="firebase",k3="11.10.0";var ib="[DEFAULT]",L3={[rb]:"fire-core",[c3]:"fire-core-compat",[d3]:"fire-analytics",[u3]:"fire-analytics-compat",[h3]:"fire-app-check",[f3]:"fire-app-check-compat",[p3]:"fire-auth",[m3]:"fire-auth-compat",[g3]:"fire-rtdb",[v3]:"fire-data-connect",[y3]:"fire-rtdb-compat",[_3]:"fire-fn",[E3]:"fire-fn-compat",[I3]:"fire-iid",[w3]:"fire-iid-compat",[b3]:"fire-fcm",[T3]:"fire-fcm-compat",[C3]:"fire-perf",[S3]:"fire-perf-compat",[D3]:"fire-rc",[A3]:"fire-rc-compat",[x3]:"fire-gcs",[M3]:"fire-gcs-compat",[P3]:"fire-fst",[N3]:"fire-fst-compat",[R3]:"fire-vertex","fire-js":"fire-js",[O3]:"fire-js-all"};var Sf=new Map,F3=new Map,ob=new Map;function y1(t,e){try{t.container.addComponent(e)}catch(n){so.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fr(t){let e=t.name;if(ob.has(e))return so.debug(`There were multiple attempts to register component ${e}.`),!1;ob.set(e,t);for(let n of Sf.values())y1(n,t);for(let n of F3.values())y1(n,t);return!0}function Rc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $n(t){return t==null?!1:t.settings!==void 0}var V3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new Lr("app","Firebase",V3);var sb=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}};var cs=k3;function cb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ib,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ls.create("bad-app-name",{appName:String(i)});if(n||(n=Ww()),!n)throw ls.create("no-options");let o=Sf.get(i);if(o){if(yi(n,o.options)&&yi(r,o.config))return o;throw ls.create("duplicate-app",{appName:i})}let a=new zg(i);for(let u of ob.values())a.addComponent(u);let c=new sb(n,r,a);return Sf.set(i,c),c}function Aa(t=ib){let e=Sf.get(t);if(!e&&t===ib&&Ww())return cb();if(!e)throw ls.create("no-app",{appName:t});return e}function qg(){return Array.from(Sf.values())}function St(t,e,n){var r;let i=(r=L3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),so.warn(c.join(" "));return}Fr(new Nn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var B3="firebase-heartbeat-database",j3=1,Df="firebase-heartbeat-store",tb=null;function w1(){return tb||(tb=g1(B3,j3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Df)}catch(n){console.warn(n)}}}}).catch(t=>{throw ls.create("idb-open",{originalErrorMessage:t.message})})),tb}function U3(t){return A(this,null,function*(){try{let n=(yield w1()).transaction(Df),r=yield n.objectStore(Df).get(b1(t));return yield n.done,r}catch(e){if(e instanceof or)so.warn(e.message);else{let n=ls.create("idb-get",{originalErrorMessage:e?.message});so.warn(n.message)}}})}function _1(t,e){return A(this,null,function*(){try{let r=(yield w1()).transaction(Df,"readwrite");yield r.objectStore(Df).put(e,b1(t)),yield r.done}catch(n){if(n instanceof or)so.warn(n.message);else{let r=ls.create("idb-set",{originalErrorMessage:n?.message});so.warn(r.message)}}})}function b1(t){return`${t.name}!${t.options.appId}`}var $3=1024,z3=30,ab=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new lb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return A(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=E1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>z3){let a=q3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){so.warn(r)}})}getHeartbeatsHeader(){return A(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=E1(),{heartbeatsToSend:r,unsentEntries:i}=H3(this._heartbeatsCache.heartbeats),o=bf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return so.warn(n),""}})}};function E1(){return new Date().toISOString().substring(0,10)}function H3(t,e=$3){let n=[],r=t.slice();for(let i of t){let o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),I1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),I1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var lb=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return A(this,null,function*(){return Tf()?a1().then(()=>!0).catch(()=>!1):!1})}read(){return A(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield U3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return A(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return _1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return A(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return _1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function I1(t){return bf(JSON.stringify({version:2,heartbeats:t})).length}function q3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function G3(t){Fr(new Nn("platform-logger",e=>new nb(e),"PRIVATE")),Fr(new Nn("heartbeat",e=>new ab(e),"PRIVATE")),St(rb,v1,t),St(rb,v1,"esm2017"),St("fire-js","")}G3("");var W3="firebase",K3="11.10.0";St(W3,K3,"app");function T1(t){t===void 0&&(t=W(Gt));let e=t.get(ql);return n=>new Oe(r=>{let i=e.add(),o=!1;function a(){o||(i(),o=!0)}let c=n.subscribe({next:u=>{r.next(u),a()},complete:()=>{r.complete(),a()},error:u=>{r.error(u),a()}});return c.add(()=>{r.unsubscribe(),a()}),c})}var us=new Xs("ANGULARFIRE2_VERSION");function Af(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(a=>a.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Oc=(t,e)=>{let n=e?[e]:qg(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},Nc=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(Nc||{}),C1=OI()&&typeof Zone<"u"?Nc.WARN:Nc.SILENT;var Gg=class{zone;delegate;constructor(e,n=r_){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(a){i?i.runGuarded(()=>{e.apply(this,[a])}):e.apply(this,[a])};return this.delegate.schedule(o,n,r)}},ds=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=W(it);this.outsideAngular=n.runOutsideAngular(()=>new Gg(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Gg(typeof Zone>"u"?void 0:Zone.current,n_))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),S1=!1;function Z3(t,e){!S1&&(C1>Nc.SILENT||OI())&&(S1=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),C1>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function Y3(t){let e=W(it,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function xa(t){let e=W(it,{optional:!0});return e?e.run(()=>t()):t()}var Q3=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Wt(n,()=>xa(()=>t.apply(void 0,r)))),Bt=(t,e,n)=>(n||=e?Nc.WARN:Nc.VERBOSE,function(){let r,i=arguments,o,a,c;try{o=W(ds),a=W(ql),c=W(Lt)}catch{return Z3(t,n),t.apply(this,i)}for(let h=0;h<arguments.length;h++)typeof i[h]=="function"&&(e&&(r||=xa(()=>a.add())),i[h]=Q3(i[h],r,c));let u=Y3(()=>t.apply(this,i));return e?u instanceof Oe?u.pipe(ko(o.outsideAngular),Oo(o.insideAngular),T1(c)):u instanceof Promise?xa(()=>{let h=a.add();return new Promise((m,v)=>{u.then(I=>Wt(c,()=>xa(()=>m(I))),I=>Wt(c,()=>xa(()=>v(I)))).finally(h)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:xa(()=>u):u instanceof Oe?u.pipe(ko(o.outsideAngular),Oo(o.insideAngular)):xa(()=>u)});var ao=class{constructor(e){return e}},Ma=class{constructor(){return qg()}};function X3(t){return t&&t.length===1?t[0]:new ao(Aa())}var ub=new ce("angularfire2._apps"),J3={provide:ao,useFactory:X3,deps:[[new er,ub]]},eq={provide:Ma,deps:[[new er,ub]]};function tq(t){return(e,n)=>{let r=n.get(Yo);St("angularfire",us.full,"core"),St("angularfire",us.full,"app"),St("angular",E_.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ao(i)}}function D1(t,...e){return Qn([J3,eq,{provide:ub,useFactory:tq(t),multi:!0,deps:[it,Gt,ds,...e]}])}var A1=Bt(cb,!0);var nq=new Map,rq={activated:!1,tokenObservers:[]},iq={initialized:!1,enabled:!1};function Vr(t){return nq.get(t)||Object.assign({},rq)}function R1(){return iq}var oq="https://content-firebaseappcheck.googleapis.com/v1";var sq="exchangeDebugToken",x1={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Vfe=1440*60*1e3;var hb=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return A(this,null,function*(){this.stop();try{this.pending=new Sa,this.pending.promise.catch(n=>{}),yield aq(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Sa,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function aq(t){return new Promise(e=>{setTimeout(e,t)})}var lq={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},fs=new Lr("appCheck","AppCheck",lq);function N1(t){if(!Vr(t).activated)throw fs.create("use-before-activation",{appName:t.name})}function O1(r,i){return A(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},a=n.getImmediate({optional:!0});if(a){let E=yield a.getHeartbeatsHeader();E&&(o["X-Firebase-Client"]=E)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,c)}catch(E){throw fs.create("fetch-network-error",{originalErrorMessage:E?.message})}if(u.status!==200)throw fs.create("fetch-status-error",{httpStatus:u.status});let h;try{h=yield u.json()}catch(E){throw fs.create("fetch-parse-error",{originalErrorMessage:E?.message})}let m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw fs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});let v=Number(m[1])*1e3,I=Date.now();return{token:h.token,expireTimeMillis:I+v,issuedAtTimeMillis:I}})}function k1(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${oq}/projects/${n}/apps/${r}:${sq}?key=${i}`,body:{debug_token:e}}}var cq="firebase-app-check-database",uq=1,pb="firebase-app-check-store";var Wg=null;function dq(){return Wg||(Wg=new Promise((t,e)=>{try{let n=indexedDB.open(cq,uq);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(fs.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(pb,{keyPath:"compositeKey"})}}}catch(n){e(fs.create("storage-open",{originalErrorMessage:n?.message}))}}),Wg)}function fq(t,e){return hq(pq(t),e)}function hq(t,e){return A(this,null,function*(){let r=(yield dq()).transaction(pb,"readwrite"),o=r.objectStore(pb).put({compositeKey:t,value:e});return new Promise((a,c)=>{o.onsuccess=u=>{a()},r.onerror=u=>{var h;c(fs.create("storage-set",{originalErrorMessage:(h=u.target.error)===null||h===void 0?void 0:h.message}))}})})}function pq(t){return`${t.options.appId}-${t.name}`}var xf=new _i("@firebase/app-check");function db(t,e){return Tf()?fq(t,e).catch(n=>{xf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function L1(){return R1().enabled}function F1(){return A(this,null,function*(){let t=R1();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var mq={error:"UNKNOWN_ERROR"};function gq(t){return Vg.encodeString(JSON.stringify(t),!1)}function mb(t,e=!1,n=!1){return A(this,null,function*(){let r=t.app;N1(r);let i=Vr(r),o=i.token,a;if(o&&!Mf(o)&&(i.token=void 0,o=void 0),!o){let h=yield i.cachedTokenPromise;h&&(Mf(h)?o=h:yield db(r,void 0))}if(!e&&o&&Mf(o))return{token:o.token};let c=!1;if(L1())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=O1(k1(r,yield F1()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let h=yield i.exchangeTokenPromise;return yield db(r,h),i.token=h,{token:h.token}}catch(h){return h.code==="appCheck/throttled"||h.code==="appCheck/initial-throttle"?xf.warn(h.message):n&&xf.error(h),fb(h)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield Vr(r).exchangeTokenPromise}catch(h){h.code==="appCheck/throttled"||h.code==="appCheck/initial-throttle"?xf.warn(h.message):n&&xf.error(h),a=h}let u;return o?a?Mf(o)?u={token:o.token,internalError:a}:u=fb(a):(u={token:o.token},i.token=o,yield db(r,o)):u=fb(a),c&&Eq(r,u),u})}function vq(t){return A(this,null,function*(){let e=t.app;N1(e);let{provider:n}=Vr(e);if(L1()){let r=yield F1(),{token:i}=yield O1(k1(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function yq(t,e,n,r){let{app:i}=t,o=Vr(i),a={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,a],o.token&&Mf(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),M1(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>M1(t))}function V1(t,e){let n=Vr(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function M1(t){let{app:e}=t,n=Vr(e),r=n.tokenRefresher;r||(r=_q(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function _q(t){let{app:e}=t;return new hb(()=>A(null,null,function*(){let n=Vr(e),r;if(n.token?r=yield mb(t,!0):r=yield mb(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Vr(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},x1.RETRIAL_MIN_WAIT,x1.RETRIAL_MAX_WAIT)}function Eq(t,e){let n=Vr(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Mf(t){return t.expireTimeMillis-Date.now()>0}function fb(t){return{token:gq(mq),error:t}}var gb=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Vr(this.app);for(let n of e)V1(this.app,n.next);return Promise.resolve()}};function Iq(t,e){return new gb(t,e)}function wq(t){return{getToken:e=>mb(t,e),getLimitedUseToken:()=>vq(t),addTokenListener:e=>yq(t,"INTERNAL",e),removeTokenListener:e=>V1(t.app,e)}}var bq="@firebase/app-check",Tq="0.10.1";var Cq="app-check",P1="app-check-internal";function Sq(){Fr(new Nn(Cq,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Iq(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(P1).initialize()})),Fr(new Nn(P1,t=>{let e=t.getProvider("app-check").getImmediate();return wq(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),St(bq,Tq)}Sq();var Dq="app-check";var kc=class{constructor(){return Oc(Dq)}};var Aq=["localhost","0.0.0.0","127.0.0.1"],Qfe=typeof window<"u"&&Aq.includes(window.location.hostname);function eR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var tR=eR,nR=new Lr("auth","Firebase",eR());var Jg=new _i("@firebase/auth");function xq(t,...e){Jg.logLevel<=Ue.WARN&&Jg.warn(`Auth (${cs}): ${t}`,...e)}function Zg(t,...e){Jg.logLevel<=Ue.ERROR&&Jg.error(`Auth (${cs}): ${t}`,...e)}function wi(t,...e){throw Ub(t,...e)}function Pa(t,...e){return Ub(t,...e)}function rR(t,e,n){let r=Object.assign(Object.assign({},tR()),{[e]:n});return new Lr("auth","Firebase",r).create(e,{appName:t.name})}function uo(t){return rR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ub(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nR.create(t,...e)}function Ee(t,e,...n){if(!t)throw Ub(e,...n)}function lo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Zg(e),new Error(e)}function ms(t,e){t||lo(e)}function Eb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Mq(){return B1()==="http:"||B1()==="https:"}function B1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Pq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mq()||r1()||"connection"in navigator)?navigator.onLine:!0}function Rq(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ra=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=t1()||i1()}get(){return Pq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function $b(t,e){ms(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ev=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Nq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Oq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kq=new Ra(3e4,6e4);function gs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function vs(o,a,c,u){return A(this,arguments,function*(t,e,n,r,i={}){return iR(t,i,()=>A(null,null,function*(){let h={},m={};r&&(e==="GET"?m=r:h={body:JSON.stringify(r)});let v=Cf(Object.assign({key:t.config.apiKey},m)).slice(1),I=yield t._getAdditionalHeaders();I["Content-Type"]="application/json",t.languageCode&&(I["X-Firebase-Locale"]=t.languageCode);let E=Object.assign({method:e,headers:I},h);return n1()||(E.referrerPolicy="no-referrer"),t.emulatorConfig&&as(t.emulatorConfig.host)&&(E.credentials="include"),ev.fetch()(yield oR(t,t.config.apiHost,n,v),E)}))})}function iR(t,e,n){return A(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Nq),e);try{let i=new Ib(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let a=yield o.json();if("needConfirmation"in a)throw Kg(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let c=o.ok?a.errorMessage:a.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kg(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Kg(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Kg(t,"user-disabled",a);let m=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw rR(t,m,h);wi(t,m)}}catch(i){if(i instanceof or)throw i;wi(t,"network-request-failed",{message:String(i)})}})}function Bf(o,a,c,u){return A(this,arguments,function*(t,e,n,r,i={}){let h=yield vs(t,e,n,r,i);return"mfaPendingCredential"in h&&wi(t,"multi-factor-auth-required",{_serverResponse:h}),h})}function oR(t,e,n,r){return A(this,null,function*(){let i=`${e}${n}?${r}`,o=t,a=o.config.emulator?$b(t.config,i):`${t.config.apiScheme}://${i}`;return Oq.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a})}function Lq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ib=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pa(this.auth,"network-request-failed")),kq.get())})}};function Kg(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Pa(t,e,r);return i.customData._tokenResponse=n,i}function j1(t){return t!==void 0&&t.enterprise!==void 0}var wb=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Lq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Fq(t,e){return A(this,null,function*(){return vs(t,"GET","/v2/recaptchaConfig",gs(t,e))})}function Vq(t,e){return A(this,null,function*(){return vs(t,"POST","/v1/accounts:delete",e)})}function tv(t,e){return A(this,null,function*(){return vs(t,"POST","/v1/accounts:lookup",e)})}function Rf(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function zb(t,e=!1){return A(this,null,function*(){let n=Rt(t),r=yield n.getIdToken(e),i=Hb(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:r,authTime:Rf(vb(i.auth_time)),issuedAtTime:Rf(vb(i.iat)),expirationTime:Rf(vb(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function vb(t){return Number(t)*1e3}function Hb(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zg("JWT malformed, contained fewer than 3 sections"),null;try{let i=Bg(n);return i?JSON.parse(i):(Zg("Failed to decode base64 JWT payload"),null)}catch(i){return Zg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function U1(t){let e=Hb(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Of(t,e,n=!1){return A(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof or&&Bq(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Bq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var bb=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>A(this,null,function*(){yield this.iteration()}),n)}iteration(){return A(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var kf=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rf(this.lastLoginAt),this.creationTime=Rf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function nv(t){return A(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Of(t,tv(n,{idToken:r}));Ee(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?sR(o.providerUserInfo):[],c=jq(t.providerData,a),u=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!c?.length,m=u?h:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new kf(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,v)})}function qb(t){return A(this,null,function*(){let e=Rt(t);yield nv(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function jq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sR(t){return t.map(e=>{var{providerId:n}=e,r=i_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Uq(t,e){return A(this,null,function*(){let n=yield iR(t,{},()=>A(null,null,function*(){let r=Cf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=yield oR(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return t.emulatorConfig&&as(t.emulatorConfig.host)&&(u.credentials="include"),ev.fetch()(a,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function $q(t,e){return A(this,null,function*(){return vs(t,"POST","/v2/accounts:revokeToken",gs(t,e))})}var Nf=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");let n=U1(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return A(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return A(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Uq(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new t;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Ee(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return lo("not implemented")}};function hs(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ps=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=i_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new kf(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return A(this,null,function*(){let n=yield Of(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return zb(this,e)}reload(){return qb(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return A(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield nv(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return A(this,null,function*(){if($n(this.auth.app))return Promise.reject(uo(this.auth));let e=yield this.getIdToken();return yield Of(this,Vq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,c,u,h,m;let v=(r=n.displayName)!==null&&r!==void 0?r:void 0,I=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(a=n.photoURL)!==null&&a!==void 0?a:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,B=(h=n.createdAt)!==null&&h!==void 0?h:void 0,z=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:H,emailVerified:ee,isAnonymous:ie,providerData:ne,stsTokenManager:R}=n;Ee(H&&R,e,"internal-error");let T=Nf.fromJSON(this.name,R);Ee(typeof H=="string",e,"internal-error"),hs(v,e.name),hs(I,e.name),Ee(typeof ee=="boolean",e,"internal-error"),Ee(typeof ie=="boolean",e,"internal-error"),hs(E,e.name),hs(C,e.name),hs(N,e.name),hs(k,e.name),hs(B,e.name),hs(z,e.name);let S=new t({uid:H,auth:e,email:I,emailVerified:ee,displayName:v,isAnonymous:ie,photoURL:C,phoneNumber:E,tenantId:N,stsTokenManager:T,createdAt:B,lastLoginAt:z});return ne&&Array.isArray(ne)&&(S.providerData=ne.map(D=>Object.assign({},D))),k&&(S._redirectEventId=k),S}static _fromIdTokenResponse(e,n,r=!1){return A(this,null,function*(){let i=new Nf;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield nv(o),o})}static _fromGetAccountInfoResponse(e,n,r){return A(this,null,function*(){let i=n.users[0];Ee(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?sR(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,c=new Nf;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new kf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,h),u})}};var $1=new Map;function co(t){ms(t instanceof Function,"Expected a class definition");let e=$1.get(t);return e?(ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$1.set(t,e),e)}var zq=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return A(this,null,function*(){return!0})}_set(n,r){return A(this,null,function*(){this.storage[n]=r})}_get(n){return A(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return A(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Tb=zq;function Yg(t,e,n){return`firebase:${t}:${e}:${n}`}var rv=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Yg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Yg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return A(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield tv(this.auth,{idToken:e}).catch(()=>{});return n?ps._fromGetAccountInfoResponse(this.auth,n,e):null}return ps._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return A(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return A(this,null,function*(){if(!n.length)return new t(co(Tb),e,r);let i=(yield Promise.all(n.map(h=>A(null,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),o=i[0]||co(Tb),a=Yg(r,e.config.apiKey,e.name),c=null;for(let h of n)try{let m=yield h._get(a);if(m){let v;if(typeof m=="string"){let I=yield tv(e,{idToken:m}).catch(()=>{});if(!I)break;v=yield ps._fromGetAccountInfoResponse(e,I,m)}else v=ps._fromJSON(e,m);h!==o&&(c=v),o=h;break}}catch{}let u=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(a,c.toJSON())),yield Promise.all(n.map(h=>A(null,null,function*(){if(h!==o)try{yield h._remove(a)}catch{}}))),new t(o,e,r))})}};function z1(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fR(e))return"Blackberry";if(hR(e))return"Webos";if(lR(e))return"Safari";if((e.includes("chrome/")||cR(e))&&!e.includes("edge/"))return"Chrome";if(dR(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function aR(t=ln()){return/firefox\//i.test(t)}function lR(t=ln()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cR(t=ln()){return/crios\//i.test(t)}function uR(t=ln()){return/iemobile/i.test(t)}function dR(t=ln()){return/android/i.test(t)}function fR(t=ln()){return/blackberry/i.test(t)}function hR(t=ln()){return/webos/i.test(t)}function Gb(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Hq(t=ln()){var e;return Gb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qq(){return o1()&&document.documentMode===10}function pR(t=ln()){return Gb(t)||dR(t)||hR(t)||fR(t)||/windows phone/i.test(t)||uR(t)}function mR(t,e=[]){let n;switch(t){case"Browser":n=z1(ln());break;case"Worker":n=`${z1(ln())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cs}/${r}`}var Cb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((a,c)=>{try{let u=e(o);a(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return A(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Gq(n){return A(this,arguments,function*(t,e={}){return vs(t,"GET","/v2/passwordPolicy",gs(t,e))})}var Wq=6,Sb=class{constructor(e){var n,r,i,o;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:Wq,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Db=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iv(this),this.idTokenSubscription=new iv(this),this.beforeStateQueue=new Cb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=co(n)),this._initializationPromise=this.queue(()=>A(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield rv.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return A(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return A(this,null,function*(){try{let n=yield tv(this,{idToken:e}),r=yield ps._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return A(this,null,function*(){var n;if($n(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return A(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return A(this,null,function*(){try{yield nv(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Rq()}_delete(){return A(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return A(this,null,function*(){if($n(this.app))return Promise.reject(uo(this));let n=e?Rt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return A(this,null,function*(){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>A(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return A(this,null,function*(){return $n(this.app)?Promise.reject(uo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return $n(this.app)?Promise.reject(uo(this)):this.queue(()=>A(this,null,function*(){yield this.assertedPersistence.setPersistence(co(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return A(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return A(this,null,function*(){let e=yield Gq(this),n=new Sb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return A(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield $q(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return A(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return A(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&co(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=yield rv.create(this,[co(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return A(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>A(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return A(this,null,function*(){if(e===this.currentUser)return this.queue(()=>A(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),a=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{let u=e.addObserver(n);return()=>{a=!0,u()}}}directlySetCurrentUser(e){return A(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return A(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return A(this,null,function*(){var e;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&xq(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Oa(t){return Rt(t)}var iv=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=c1(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var dv={loadJS(){return A(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kq(t){dv=t}function gR(t){return dv.loadJS(t)}function Zq(){return dv.recaptchaEnterpriseScript}function Yq(){return dv.gapiScript}function vR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Ab=class{constructor(){this.enterprise=new xb}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},xb=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var Qq="recaptcha-enterprise",yR="NO_RECAPTCHA",Mb=class{constructor(e){this.type=Qq,this.auth=Oa(e)}verify(e="verify",n=!1){return A(this,null,function*(){function r(o){return A(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((a,c)=>A(null,null,function*(){Fq(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let h=new wb(u);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,a(h.siteKey)}}).catch(u=>{c(u)})}))})}function i(o,a,c){let u=window.grecaptcha;j1(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(h=>{a(h)}).catch(()=>{a(yR)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ab().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(c=>{if(!n&&j1(window.grecaptcha))i(c,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Zq();u.length!==0&&(u+=c),gR(u).then(()=>{i(c,o,a)}).catch(h=>{a(h)})}}).catch(c=>{a(c)})})})}};function Pf(t,e,n,r=!1,i=!1){return A(this,null,function*(){let o=new Mb(t),a;if(i)a=yR;else try{a=yield o.verify(n)}catch{a=yield o.verify(n,!0)}let c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let u=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c})}function Pb(t,e,n,r,i){return A(this,null,function*(){var o,a;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let c=yield Pf(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(c=>A(null,null,function*(){if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Pf(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(c)}));else if(i==="PHONE_PROVIDER")if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("PHONE_PROVIDER")){let c=yield Pf(t,e,n);return r(t,c).catch(u=>A(null,null,function*(){var h;if(((h=t._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let m=yield Pf(t,e,n,!1,!0);return r(t,m)}return Promise.reject(u)}))}else{let c=yield Pf(t,e,n,!1,!0);return r(t,c)}else return Promise.reject(i+" provider is not supported.")})}function Wb(t,e){let n=Rc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(yi(o,e??{}))return i;wi(i,"already-initialized")}return n.initialize({options:e})}function Xq(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(co);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Kb(t,e,n){let r=Oa(t);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=_R(e),{host:a,port:c}=Jq(e),u=c===null?"":`:${c}`,h={url:`${o}//${a}${u}/`},m=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(yi(h,r.config.emulator)&&yi(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,as(a)?(Ug(`${o}//${a}${u}`),$g("Auth",!0)):i||e4()}function _R(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Jq(t){let e=_R(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:H1(r.substr(o.length+1))}}else{let[o,a]=r.split(":");return{host:o,port:H1(a)}}}function H1(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function e4(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Lf=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lo("not implemented")}_getIdTokenResponse(e){return lo("not implemented")}_linkToIdToken(e,n){return lo("not implemented")}_getReauthenticationResolver(e){return lo("not implemented")}};function t4(t,e){return A(this,null,function*(){return vs(t,"POST","/v1/accounts:signUp",e)})}function n4(t,e){return A(this,null,function*(){return Bf(t,"POST","/v1/accounts:signInWithPassword",gs(t,e))})}function r4(t,e){return A(this,null,function*(){return Bf(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))})}function i4(t,e){return A(this,null,function*(){return Bf(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))})}var Ff=class t extends Lf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return A(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pb(e,n,"signInWithPassword",n4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return r4(e,{email:this._email,oobCode:this._password});default:wi(e,"internal-error")}})}_linkToIdToken(e,n){return A(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pb(e,r,"signUpPassword",t4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return i4(e,{idToken:n,email:this._email,oobCode:this._password});default:wi(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function yb(t,e){return A(this,null,function*(){return Bf(t,"POST","/v1/accounts:signInWithIdp",gs(t,e))})}function o4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s4(t){let e=Mc(Pc(t)).link,n=e?Mc(Pc(e)).deep_link_id:null,r=Mc(Pc(t)).deep_link_id;return(r?Mc(Pc(r)).link:null)||r||n||e||t}var ov=class t{constructor(e){var n,r,i,o,a,c;let u=Mc(Pc(e)),h=(n=u.apiKey)!==null&&n!==void 0?n:null,m=(r=u.oobCode)!==null&&r!==void 0?r:null,v=o4((i=u.mode)!==null&&i!==void 0?i:null);Ee(h&&m&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=m,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=u.lang)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=s4(e);try{return new t(n)}catch{return null}}};var ER=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ff._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=ov.parseLink(r);return Ee(i,"argument-error"),Ff._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),sv=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Rb=class extends sv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function a4(t,e){return A(this,null,function*(){return Bf(t,"POST","/v1/accounts:signUp",gs(t,e))})}var Lc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return A(this,null,function*(){let o=yield ps._fromIdTokenResponse(e,r,i),a=q1(r);return new t({user:o,providerId:a,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return A(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=q1(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function q1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Nb=class t extends or{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function IR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Nb._fromErrorAndOperation(t,o,e,r):o})}function l4(t,e,n=!1){return A(this,null,function*(){let r=yield Of(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Lc._forOperation(t,"link",r)})}function c4(t,e,n=!1){return A(this,null,function*(){let{auth:r}=t;if($n(r.app))return Promise.reject(uo(r));let i="reauthenticate";try{let o=yield Of(t,IR(r,i,e,t),n);Ee(o.idToken,r,"internal-error");let a=Hb(o.idToken);Ee(a,r,"internal-error");let{sub:c}=a;return Ee(t.uid===c,r,"user-mismatch"),Lc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&wi(r,"user-mismatch"),o}})}function wR(t,e,n=!1){return A(this,null,function*(){if($n(t.app))return Promise.reject(uo(t));let r="signIn",i=yield IR(t,r,e),o=yield Lc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Zb(t,e){return A(this,null,function*(){return wR(Oa(t),e)})}function bR(t){return A(this,null,function*(){let e=Oa(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Yb(t,e,n){return A(this,null,function*(){if($n(t.app))return Promise.reject(uo(t));let r=Oa(t),a=yield Pb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a4,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&bR(t),u}),c=yield Lc._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(c.user),c})}function Qb(t,e,n){return $n(t.app)?Promise.reject(uo(t)):Zb(Rt(t),ER.credential(e,n)).catch(r=>A(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&bR(t),r}))}function Xb(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function Jb(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function e0(t,e,n,r){return Rt(t).onAuthStateChanged(e,n,r)}function t0(t){return Rt(t).signOut()}var av="__sak";var lv=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(av,"1"),this.storage.removeItem(av),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var u4=1e3,d4=10,f4=(()=>{class t extends lv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,h)=>{this.notifyListeners(c,h)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);qq()&&a!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,d4):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},u4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return A(this,null,function*(){yield Ro(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return A(this,null,function*(){let r=yield Ro(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return A(this,null,function*(){yield Ro(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),TR=f4;var h4=(()=>{class t extends lv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),n0=h4;function p4(t){return Promise.all(t.map(e=>A(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var m4=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return A(this,null,function*(){let r=n,{eventId:i,eventType:o,data:a}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(m=>A(this,null,function*(){return m(r.origin,a)})),h=yield p4(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:h})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function CR(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Ob=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return A(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((c,u)=>{let h=CR("",20);i.port1.start();let m=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(v){let I=v;if(I.data.eventId===h)switch(I.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(I.data.response);break;default:clearTimeout(m),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function Ii(){return window}function g4(t){Ii().location.href=t}function SR(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}function v4(){return A(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function y4(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _4(){return SR()?self:null}var DR="firebaseLocalStorageDb",E4=1,cv="firebaseLocalStorage",AR="fbase_key",Na=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function fv(t,e){return t.transaction([cv],e?"readwrite":"readonly").objectStore(cv)}function I4(){let t=indexedDB.deleteDatabase(DR);return new Na(t).toPromise()}function kb(){let t=indexedDB.open(DR,E4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(cv,{keyPath:AR})}catch(i){n(i)}}),t.addEventListener("success",()=>A(null,null,function*(){let r=t.result;r.objectStoreNames.contains(cv)?e(r):(r.close(),yield I4(),e(yield kb()))}))})}function G1(t,e,n){return A(this,null,function*(){let r=fv(t,!0).put({[AR]:e,value:n});return new Na(r).toPromise()})}function w4(t,e){return A(this,null,function*(){let n=fv(t,!1).get(e),r=yield new Na(n).toPromise();return r===void 0?null:r.value})}function W1(t,e){let n=fv(t,!0).delete(e);return new Na(n).toPromise()}var b4=800,T4=3,C4=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return A(this,null,function*(){return this.db?this.db:(this.db=yield kb(),this.db)})}_withRetries(n){return A(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>T4)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return A(this,null,function*(){return SR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return A(this,null,function*(){this.receiver=m4._getInstance(_4()),this.receiver._subscribe("keyChanged",(n,r)=>A(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>A(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return A(this,null,function*(){var n,r;if(this.activeServiceWorker=yield v4(),!this.activeServiceWorker)return;this.sender=new Ob(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return A(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||y4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return A(this,null,function*(){try{if(!indexedDB)return!1;let n=yield kb();return yield G1(n,av,"1"),yield W1(n,av),!0}catch{}return!1})}_withPendingWrite(n){return A(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return A(this,null,function*(){return this._withPendingWrite(()=>A(this,null,function*(){return yield this._withRetries(i=>G1(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return A(this,null,function*(){let r=yield this._withRetries(i=>w4(i,n));return this.localCache[n]=r,r})}_remove(n){return A(this,null,function*(){return this._withPendingWrite(()=>A(this,null,function*(){return yield this._withRetries(r=>W1(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return A(this,null,function*(){let n=yield this._withRetries(o=>{let a=fv(o,!1).getAll();return new Na(a).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:a}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>A(this,null,function*(){return this._poll()}),b4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),xR=C4;var ohe=vR("rcb"),she=new Ra(3e4,6e4);function S4(t,e){return e?co(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Vf=class extends Lf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yb(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yb(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yb(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function D4(t){return wR(t.auth,new Vf(t),t.bypassAuthState)}function A4(t){let{auth:e,user:n}=t;return Ee(n,e,"internal-error"),c4(n,new Vf(t),t.bypassAuthState)}function x4(t){return A(this,null,function*(){let{auth:e,user:n}=t;return Ee(n,e,"internal-error"),l4(n,new Vf(t),t.bypassAuthState)})}var Lb=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>A(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return A(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:c}=e;if(a){this.reject(a);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return D4;case"linkViaPopup":case"linkViaRedirect":return x4;case"reauthViaPopup":case"reauthViaRedirect":return A4;default:wi(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var ahe=new Ra(2e3,1e4);var M4="pendingRedirect",Qg=new Map,Fb=class t extends Lb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return A(this,null,function*(){let e=Qg.get(this.auth._key());if(!e){try{let r=(yield P4(this.resolver,this.auth))?yield Ro(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qg.set(this.auth._key(),e)}return this.bypassAuthState||Qg.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return A(this,null,function*(){if(e.type==="signInViaRedirect")return Ro(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ro(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return A(this,null,function*(){})}cleanUp(){}};function P4(t,e){return A(this,null,function*(){let n=O4(e),r=N4(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function R4(t,e){Qg.set(t._key(),e)}function N4(t){return co(t._redirectPersistence)}function O4(t){return Yg(M4,t.config.apiKey,t.name)}function k4(t,e,n=!1){return A(this,null,function*(){if($n(t.app))return Promise.reject(uo(t));let r=Oa(t),i=S4(r,e),a=yield new Fb(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})}var L4=600*1e3,Vb=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pa(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L4&&this.cachedEventUids.clear(),this.cachedEventUids.has(K1(e))}saveEventToCache(e){this.cachedEventUids.add(K1(e)),this.lastProcessedEventTime=Date.now()}};function K1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function F4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MR(t);default:return!1}}function V4(n){return A(this,arguments,function*(t,e={}){return vs(t,"GET","/v1/projects",e)})}var B4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j4=/^https?/;function U4(t){return A(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield V4(t);for(let n of e)try{if($4(n))return}catch{}wi(t,"unauthorized-domain")})}function $4(t){let e=Eb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!j4.test(n))return!1;if(B4.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var z4=new Ra(3e4,6e4);function Z1(){let t=Ii().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function H4(t){return new Promise((e,n)=>{var r,i,o;function a(){Z1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z1(),n(Pa(t,"network-request-failed"))},timeout:z4.get()})}if(!((i=(r=Ii().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ii().gapi)===null||o===void 0)&&o.load)a();else{let c=vR("iframefcb");return Ii()[c]=()=>{gapi.load?a():n(Pa(t,"network-request-failed"))},gR(`${Yq()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Xg=null,e})}var Xg=null;function q4(t){return Xg=Xg||H4(t),Xg}var G4=new Ra(5e3,15e3),W4="__/auth/iframe",K4="emulator/auth/iframe",Z4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q4(t){let e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?$b(e,K4):`https://${t.config.authDomain}/${W4}`,r={apiKey:e.apiKey,appName:t.name,v:cs},i=Y4.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Cf(r).slice(1)}`}function X4(t){return A(this,null,function*(){let e=yield q4(t),n=Ii().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:Q4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z4,dontclear:!0},r=>new Promise((i,o)=>A(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let a=Pa(t,"network-request-failed"),c=Ii().setTimeout(()=>{o(a)},G4.get());function u(){Ii().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(a)})})))})}var J4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eG=500,tG=600,nG="_blank",rG="http://localhost",uv=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function iG(t,e,n,r=eG,i=tG){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},J4),{width:r.toString(),height:i.toString(),top:o,left:a}),h=ln().toLowerCase();n&&(c=cR(h)?nG:n),aR(h)&&(e=e||rG,u.scrollbars="yes");let m=Object.entries(u).reduce((I,[E,C])=>`${I}${E}=${C},`,"");if(Hq(h)&&c!=="_self")return oG(e||"",c),new uv(null);let v=window.open(e||"",c,m);Ee(v,t,"popup-blocked");try{v.focus()}catch{}return new uv(v)}function oG(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var sG="__/auth/handler",aG="emulator/auth/handler",lG=encodeURIComponent("fac");function Y1(t,e,n,r,i,o){return A(this,null,function*(){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");let a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cs,eventId:i};if(e instanceof sv){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",l1(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[m,v]of Object.entries(o||{}))a[m]=v}if(e instanceof Rb){let m=e.getScopes().filter(v=>v!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);let c=a;for(let m of Object.keys(c))c[m]===void 0&&delete c[m];let u=yield t._getAppCheckToken(),h=u?`#${lG}=${encodeURIComponent(u)}`:"";return`${cG(t)}?${Cf(c).slice(1)}${h}`})}function cG({config:t}){return t.emulator?$b(t,aG):`https://${t.authDomain}/${sG}`}var _b="webStorageSupport",Bb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n0,this._completeRedirectFn=k4,this._overrideRedirectResult=R4}_openPopup(e,n,r,i){return A(this,null,function*(){var o;ms((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let a=yield Y1(e,n,r,Eb(),i);return iG(e,a,CR())})}_openRedirect(e,n,r,i){return A(this,null,function*(){yield this._originValidation(e);let o=yield Y1(e,n,r,Eb(),i);return g4(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ms(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return A(this,null,function*(){let n=yield X4(e),r=new Vb(e);return n.register("authEvent",i=>(Ee(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_b,{type:_b},i=>{var o;let a=(o=i?.[0])===null||o===void 0?void 0:o[_b];a!==void 0&&n(!!a),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=U4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pR()||lR()||Gb()}},PR=Bb;var Q1="@firebase/auth",X1="1.10.8";var jb=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return A(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function uG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dG(t){Fr(new Nn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;Ee(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mR(t)},h=new Db(r,i,o,u);return Xq(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fr(new Nn("auth-internal",e=>{let n=Oa(e.getProvider("auth").getImmediate());return(r=>new jb(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),St(Q1,X1,uG(t)),St(Q1,X1,"esm2017")}var fG=300,hG=Kw("authIdTokenMaxAge")||fG,J1=null,pG=t=>e=>A(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hG)return;let i=n?.token;J1!==i&&(J1=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function r0(t=Aa()){let e=Rc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Wb(t,{popupRedirectResolver:PR,persistence:[xR,TR,n0]}),r=Kw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let a=pG(o.toString());Jb(n,a,()=>a(n.currentUser)),Xb(n,c=>a(c))}}let i=Gw("auth");return i&&Kb(n,`http://${i}`),n}function mG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Kq({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Pa("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",mG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dG("Browser");var RR="auth",ka=class{constructor(e){return e}},jf=class{constructor(){return Oc(RR)}};var i0=new ce("angularfire2.auth-instances");function r5(t,e){let n=Af(RR,t,e);return n&&new ka(n)}function i5(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ka(r)}}var o5={provide:jf,deps:[[new er,i0]]},s5={provide:ka,useFactory:r5,deps:[[new er,i0],ao]};function NR(t,...e){return St("angularfire",us.full,"auth"),Qn([s5,o5,{provide:i0,useFactory:i5(t),multi:!0,deps:[it,Gt,ds,Ma,[new er,kc],...e]}])}var OR=Bt(Yb,!0,2);var kR=Bt(r0,!0);var LR=Bt(e0,!0);var FR=Bt(Qb,!0,2);var VR=Bt(t0,!0,2);var BR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jR={};var fo,o0;(function(){var t;function e(R,T){function S(){}S.prototype=T.prototype,R.D=T.prototype,R.prototype=new S,R.prototype.constructor=R,R.C=function(D,M,O){for(var x=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)x[Ge-2]=arguments[Ge];return T.prototype[M].apply(D,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,T,S){S||(S=0);var D=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)D[M]=T.charCodeAt(S++)|T.charCodeAt(S++)<<8|T.charCodeAt(S++)<<16|T.charCodeAt(S++)<<24;else for(M=0;16>M;++M)D[M]=T[S++]|T[S++]<<8|T[S++]<<16|T[S++]<<24;T=R.g[0],S=R.g[1],M=R.g[2];var O=R.g[3],x=T+(O^S&(M^O))+D[0]+3614090360&4294967295;T=S+(x<<7&4294967295|x>>>25),x=O+(M^T&(S^M))+D[1]+3905402710&4294967295,O=T+(x<<12&4294967295|x>>>20),x=M+(S^O&(T^S))+D[2]+606105819&4294967295,M=O+(x<<17&4294967295|x>>>15),x=S+(T^M&(O^T))+D[3]+3250441966&4294967295,S=M+(x<<22&4294967295|x>>>10),x=T+(O^S&(M^O))+D[4]+4118548399&4294967295,T=S+(x<<7&4294967295|x>>>25),x=O+(M^T&(S^M))+D[5]+1200080426&4294967295,O=T+(x<<12&4294967295|x>>>20),x=M+(S^O&(T^S))+D[6]+2821735955&4294967295,M=O+(x<<17&4294967295|x>>>15),x=S+(T^M&(O^T))+D[7]+4249261313&4294967295,S=M+(x<<22&4294967295|x>>>10),x=T+(O^S&(M^O))+D[8]+1770035416&4294967295,T=S+(x<<7&4294967295|x>>>25),x=O+(M^T&(S^M))+D[9]+2336552879&4294967295,O=T+(x<<12&4294967295|x>>>20),x=M+(S^O&(T^S))+D[10]+4294925233&4294967295,M=O+(x<<17&4294967295|x>>>15),x=S+(T^M&(O^T))+D[11]+2304563134&4294967295,S=M+(x<<22&4294967295|x>>>10),x=T+(O^S&(M^O))+D[12]+1804603682&4294967295,T=S+(x<<7&4294967295|x>>>25),x=O+(M^T&(S^M))+D[13]+4254626195&4294967295,O=T+(x<<12&4294967295|x>>>20),x=M+(S^O&(T^S))+D[14]+2792965006&4294967295,M=O+(x<<17&4294967295|x>>>15),x=S+(T^M&(O^T))+D[15]+1236535329&4294967295,S=M+(x<<22&4294967295|x>>>10),x=T+(M^O&(S^M))+D[1]+4129170786&4294967295,T=S+(x<<5&4294967295|x>>>27),x=O+(S^M&(T^S))+D[6]+3225465664&4294967295,O=T+(x<<9&4294967295|x>>>23),x=M+(T^S&(O^T))+D[11]+643717713&4294967295,M=O+(x<<14&4294967295|x>>>18),x=S+(O^T&(M^O))+D[0]+3921069994&4294967295,S=M+(x<<20&4294967295|x>>>12),x=T+(M^O&(S^M))+D[5]+3593408605&4294967295,T=S+(x<<5&4294967295|x>>>27),x=O+(S^M&(T^S))+D[10]+38016083&4294967295,O=T+(x<<9&4294967295|x>>>23),x=M+(T^S&(O^T))+D[15]+3634488961&4294967295,M=O+(x<<14&4294967295|x>>>18),x=S+(O^T&(M^O))+D[4]+3889429448&4294967295,S=M+(x<<20&4294967295|x>>>12),x=T+(M^O&(S^M))+D[9]+568446438&4294967295,T=S+(x<<5&4294967295|x>>>27),x=O+(S^M&(T^S))+D[14]+3275163606&4294967295,O=T+(x<<9&4294967295|x>>>23),x=M+(T^S&(O^T))+D[3]+4107603335&4294967295,M=O+(x<<14&4294967295|x>>>18),x=S+(O^T&(M^O))+D[8]+1163531501&4294967295,S=M+(x<<20&4294967295|x>>>12),x=T+(M^O&(S^M))+D[13]+2850285829&4294967295,T=S+(x<<5&4294967295|x>>>27),x=O+(S^M&(T^S))+D[2]+4243563512&4294967295,O=T+(x<<9&4294967295|x>>>23),x=M+(T^S&(O^T))+D[7]+1735328473&4294967295,M=O+(x<<14&4294967295|x>>>18),x=S+(O^T&(M^O))+D[12]+2368359562&4294967295,S=M+(x<<20&4294967295|x>>>12),x=T+(S^M^O)+D[5]+4294588738&4294967295,T=S+(x<<4&4294967295|x>>>28),x=O+(T^S^M)+D[8]+2272392833&4294967295,O=T+(x<<11&4294967295|x>>>21),x=M+(O^T^S)+D[11]+1839030562&4294967295,M=O+(x<<16&4294967295|x>>>16),x=S+(M^O^T)+D[14]+4259657740&4294967295,S=M+(x<<23&4294967295|x>>>9),x=T+(S^M^O)+D[1]+2763975236&4294967295,T=S+(x<<4&4294967295|x>>>28),x=O+(T^S^M)+D[4]+1272893353&4294967295,O=T+(x<<11&4294967295|x>>>21),x=M+(O^T^S)+D[7]+4139469664&4294967295,M=O+(x<<16&4294967295|x>>>16),x=S+(M^O^T)+D[10]+3200236656&4294967295,S=M+(x<<23&4294967295|x>>>9),x=T+(S^M^O)+D[13]+681279174&4294967295,T=S+(x<<4&4294967295|x>>>28),x=O+(T^S^M)+D[0]+3936430074&4294967295,O=T+(x<<11&4294967295|x>>>21),x=M+(O^T^S)+D[3]+3572445317&4294967295,M=O+(x<<16&4294967295|x>>>16),x=S+(M^O^T)+D[6]+76029189&4294967295,S=M+(x<<23&4294967295|x>>>9),x=T+(S^M^O)+D[9]+3654602809&4294967295,T=S+(x<<4&4294967295|x>>>28),x=O+(T^S^M)+D[12]+3873151461&4294967295,O=T+(x<<11&4294967295|x>>>21),x=M+(O^T^S)+D[15]+530742520&4294967295,M=O+(x<<16&4294967295|x>>>16),x=S+(M^O^T)+D[2]+3299628645&4294967295,S=M+(x<<23&4294967295|x>>>9),x=T+(M^(S|~O))+D[0]+4096336452&4294967295,T=S+(x<<6&4294967295|x>>>26),x=O+(S^(T|~M))+D[7]+1126891415&4294967295,O=T+(x<<10&4294967295|x>>>22),x=M+(T^(O|~S))+D[14]+2878612391&4294967295,M=O+(x<<15&4294967295|x>>>17),x=S+(O^(M|~T))+D[5]+4237533241&4294967295,S=M+(x<<21&4294967295|x>>>11),x=T+(M^(S|~O))+D[12]+1700485571&4294967295,T=S+(x<<6&4294967295|x>>>26),x=O+(S^(T|~M))+D[3]+2399980690&4294967295,O=T+(x<<10&4294967295|x>>>22),x=M+(T^(O|~S))+D[10]+4293915773&4294967295,M=O+(x<<15&4294967295|x>>>17),x=S+(O^(M|~T))+D[1]+2240044497&4294967295,S=M+(x<<21&4294967295|x>>>11),x=T+(M^(S|~O))+D[8]+1873313359&4294967295,T=S+(x<<6&4294967295|x>>>26),x=O+(S^(T|~M))+D[15]+4264355552&4294967295,O=T+(x<<10&4294967295|x>>>22),x=M+(T^(O|~S))+D[6]+2734768916&4294967295,M=O+(x<<15&4294967295|x>>>17),x=S+(O^(M|~T))+D[13]+1309151649&4294967295,S=M+(x<<21&4294967295|x>>>11),x=T+(M^(S|~O))+D[4]+4149444226&4294967295,T=S+(x<<6&4294967295|x>>>26),x=O+(S^(T|~M))+D[11]+3174756917&4294967295,O=T+(x<<10&4294967295|x>>>22),x=M+(T^(O|~S))+D[2]+718787259&4294967295,M=O+(x<<15&4294967295|x>>>17),x=S+(O^(M|~T))+D[9]+3951481745&4294967295,R.g[0]=R.g[0]+T&4294967295,R.g[1]=R.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+O&4294967295}r.prototype.u=function(R,T){T===void 0&&(T=R.length);for(var S=T-this.blockSize,D=this.B,M=this.h,O=0;O<T;){if(M==0)for(;O<=S;)i(this,R,O),O+=this.blockSize;if(typeof R=="string"){for(;O<T;)if(D[M++]=R.charCodeAt(O++),M==this.blockSize){i(this,D),M=0;break}}else for(;O<T;)if(D[M++]=R[O++],M==this.blockSize){i(this,D),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var T=1;T<R.length-8;++T)R[T]=0;var S=8*this.o;for(T=R.length-8;T<R.length;++T)R[T]=S&255,S/=256;for(this.u(R),R=Array(16),T=S=0;4>T;++T)for(var D=0;32>D;D+=8)R[S++]=this.g[T]>>>D&255;return R};function o(R,T){var S=c;return Object.prototype.hasOwnProperty.call(S,R)?S[R]:S[R]=T(R)}function a(R,T){this.h=T;for(var S=[],D=!0,M=R.length-1;0<=M;M--){var O=R[M]|0;D&&O==T||(S[M]=O,D=!1)}this.g=S}var c={};function u(R){return-128<=R&&128>R?o(R,function(T){return new a([T|0],0>T?-1:0)}):new a([R|0],0>R?-1:0)}function h(R){if(isNaN(R)||!isFinite(R))return v;if(0>R)return k(h(-R));for(var T=[],S=1,D=0;R>=S;D++)T[D]=R/S|0,S*=4294967296;return new a(T,0)}function m(R,T){if(R.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(R.charAt(0)=="-")return k(m(R.substring(1),T));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=h(Math.pow(T,8)),D=v,M=0;M<R.length;M+=8){var O=Math.min(8,R.length-M),x=parseInt(R.substring(M,M+O),T);8>O?(O=h(Math.pow(T,O)),D=D.j(O).add(h(x))):(D=D.j(S),D=D.add(h(x)))}return D}var v=u(0),I=u(1),E=u(16777216);t=a.prototype,t.m=function(){if(N(this))return-k(this).m();for(var R=0,T=1,S=0;S<this.g.length;S++){var D=this.i(S);R+=(0<=D?D:4294967296+D)*T,T*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(C(this))return"0";if(N(this))return"-"+k(this).toString(R);for(var T=h(Math.pow(R,6)),S=this,D="";;){var M=ee(S,T).g;S=B(S,M.j(T));var O=((0<S.g.length?S.g[0]:S.h)>>>0).toString(R);if(S=M,C(S))return O+D;for(;6>O.length;)O="0"+O;D=O+D}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function C(R){if(R.h!=0)return!1;for(var T=0;T<R.g.length;T++)if(R.g[T]!=0)return!1;return!0}function N(R){return R.h==-1}t.l=function(R){return R=B(this,R),N(R)?-1:C(R)?0:1};function k(R){for(var T=R.g.length,S=[],D=0;D<T;D++)S[D]=~R.g[D];return new a(S,~R.h).add(I)}t.abs=function(){return N(this)?k(this):this},t.add=function(R){for(var T=Math.max(this.g.length,R.g.length),S=[],D=0,M=0;M<=T;M++){var O=D+(this.i(M)&65535)+(R.i(M)&65535),x=(O>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);D=x>>>16,O&=65535,x&=65535,S[M]=x<<16|O}return new a(S,S[S.length-1]&-2147483648?-1:0)};function B(R,T){return R.add(k(T))}t.j=function(R){if(C(this)||C(R))return v;if(N(this))return N(R)?k(this).j(k(R)):k(k(this).j(R));if(N(R))return k(this.j(k(R)));if(0>this.l(E)&&0>R.l(E))return h(this.m()*R.m());for(var T=this.g.length+R.g.length,S=[],D=0;D<2*T;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<R.g.length;M++){var O=this.i(D)>>>16,x=this.i(D)&65535,Ge=R.i(M)>>>16,At=R.i(M)&65535;S[2*D+2*M]+=x*At,z(S,2*D+2*M),S[2*D+2*M+1]+=O*At,z(S,2*D+2*M+1),S[2*D+2*M+1]+=x*Ge,z(S,2*D+2*M+1),S[2*D+2*M+2]+=O*Ge,z(S,2*D+2*M+2)}for(D=0;D<T;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=T;D<2*T;D++)S[D]=0;return new a(S,0)};function z(R,T){for(;(R[T]&65535)!=R[T];)R[T+1]+=R[T]>>>16,R[T]&=65535,T++}function H(R,T){this.g=R,this.h=T}function ee(R,T){if(C(T))throw Error("division by zero");if(C(R))return new H(v,v);if(N(R))return T=ee(k(R),T),new H(k(T.g),k(T.h));if(N(T))return T=ee(R,k(T)),new H(k(T.g),T.h);if(30<R.g.length){if(N(R)||N(T))throw Error("slowDivide_ only works with positive integers.");for(var S=I,D=T;0>=D.l(R);)S=ie(S),D=ie(D);var M=ne(S,1),O=ne(D,1);for(D=ne(D,2),S=ne(S,2);!C(D);){var x=O.add(D);0>=x.l(R)&&(M=M.add(S),O=x),D=ne(D,1),S=ne(S,1)}return T=B(R,M.j(T)),new H(M,T)}for(M=v;0<=R.l(T);){for(S=Math.max(1,Math.floor(R.m()/T.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),O=h(S),x=O.j(T);N(x)||0<x.l(R);)S-=D,O=h(S),x=O.j(T);C(O)&&(O=I),M=M.add(O),R=B(R,x)}return new H(M,R)}t.A=function(R){return ee(this,R).h},t.and=function(R){for(var T=Math.max(this.g.length,R.g.length),S=[],D=0;D<T;D++)S[D]=this.i(D)&R.i(D);return new a(S,this.h&R.h)},t.or=function(R){for(var T=Math.max(this.g.length,R.g.length),S=[],D=0;D<T;D++)S[D]=this.i(D)|R.i(D);return new a(S,this.h|R.h)},t.xor=function(R){for(var T=Math.max(this.g.length,R.g.length),S=[],D=0;D<T;D++)S[D]=this.i(D)^R.i(D);return new a(S,this.h^R.h)};function ie(R){for(var T=R.g.length+1,S=[],D=0;D<T;D++)S[D]=R.i(D)<<1|R.i(D-1)>>>31;return new a(S,R.h)}function ne(R,T){var S=T>>5;T%=32;for(var D=R.g.length-S,M=[],O=0;O<D;O++)M[O]=0<T?R.i(O+S)>>>T|R.i(O+S+1)<<32-T:R.i(O+S);return new a(M,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o0=jR.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=m,fo=jR.Integer=a}).apply(typeof BR<"u"?BR:typeof self<"u"?self:typeof window<"u"?window:{});var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ho={};var s0,l5,Fc,a0,Uf,pv,l0,c0,u0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,_){return d==Array.prototype||d==Object.prototype||(d[g]=_.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof hv=="object"&&hv];for(var g=0;g<d.length;++g){var _=d[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(d,g){if(g)e:{var _=r;d=d.split(".");for(var b=0;b<d.length-1;b++){var F=d[b];if(!(F in _))break e;_=_[F]}d=d[d.length-1],b=_[d],g=g(b),g!=b&&g!=null&&e(_,d,{configurable:!0,writable:!0,value:g})}}function o(d,g){d instanceof String&&(d+="");var _=0,b=!1,F={next:function(){if(!b&&_<d.length){var U=_++;return{value:g(U,d[U]),done:!1}}return b=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(d){return d||function(){return o(this,function(g,_){return _})}});var a=a||{},c=this||self;function u(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function h(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function m(d,g,_){return d.call.apply(d.bind,arguments)}function v(d,g,_){if(!d)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,b),d.apply(g,F)}}return function(){return d.apply(g,arguments)}}function I(d,g,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,I.apply(null,arguments)}function E(d,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),d.apply(this,b)}}function C(d,g){function _(){}_.prototype=g.prototype,d.aa=g.prototype,d.prototype=new _,d.prototype.constructor=d,d.Qb=function(b,F,U){for(var X=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)X[ke-2]=arguments[ke];return g.prototype[F].apply(b,X)}}function N(d){let g=d.length;if(0<g){let _=Array(g);for(let b=0;b<g;b++)_[b]=d[b];return _}return[]}function k(d,g){for(let _=1;_<arguments.length;_++){let b=arguments[_];if(u(b)){let F=d.length||0,U=b.length||0;d.length=F+U;for(let X=0;X<U;X++)d[F+X]=b[X]}else d.push(b)}}class B{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function z(d){return/^[\s\xa0]*$/.test(d)}function H(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function ee(d){return ee[" "](d),d}ee[" "]=function(){};var ie=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ne(d,g,_){for(let b in d)g.call(_,d[b],b,d)}function R(d,g){for(let _ in d)g.call(void 0,d[_],_,d)}function T(d){let g={};for(let _ in d)g[_]=d[_];return g}let S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(d,g){let _,b;for(let F=1;F<arguments.length;F++){b=arguments[F];for(_ in b)d[_]=b[_];for(let U=0;U<S.length;U++)_=S[U],Object.prototype.hasOwnProperty.call(b,_)&&(d[_]=b[_])}}function M(d){var g=1;d=d.split(":");let _=[];for(;0<g&&d.length;)_.push(d.shift()),g--;return d.length&&_.push(d.join(":")),_}function O(d){c.setTimeout(()=>{throw d},0)}function x(){var d=we;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class Ge{constructor(){this.h=this.g=null}add(g,_){let b=At.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var At=new B(()=>new Ie,d=>d.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let yn,Q=!1,we=new Ge,Qe=()=>{let d=c.Promise.resolve(void 0);yn=()=>{d.then(dt)}};var dt=()=>{for(var d;d=x();){try{d.h.call(d.g)}catch(_){O(_)}var g=At;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}Q=!1};function Xe(){this.s=this.s,this.C=this.C}Xe.prototype.s=!1,Xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var $e=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let _=()=>{};c.addEventListener("test",_,g),c.removeEventListener("test",_,g)}catch{}return d})();function Sn(d,g){if(be.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var _=this.type=d.type,b=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(ie){e:{try{ee(g.nodeName);var F=!0;break e}catch{}F=!1}F||(g=null)}}else _=="mouseover"?g=d.fromElement:_=="mouseout"&&(g=d.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:$r[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Sn.aa.h.call(this)}}C(Sn,be);var $r={2:"touch",3:"pen",4:"mouse"};Sn.prototype.h=function(){Sn.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var _o="closure_listenable_"+(1e6*Math.random()|0),du=0;function fu(d,g,_,b,F){this.listener=d,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=F,this.key=++du,this.da=this.fa=!1}function zr(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Eo(d){this.src=d,this.g={},this.h=0}Eo.prototype.add=function(d,g,_,b,F){var U=d.toString();d=this.g[U],d||(d=this.g[U]=[],this.h++);var X=Wa(d,g,b,F);return-1<X?(g=d[X],_||(g.fa=!1)):(g=new fu(g,this.src,U,!!b,F),g.fa=_,d.push(g)),g};function hu(d,g){var _=g.type;if(_ in d.g){var b=d.g[_],F=Array.prototype.indexOf.call(b,g,void 0),U;(U=0<=F)&&Array.prototype.splice.call(b,F,1),U&&(zr(g),d.g[_].length==0&&(delete d.g[_],d.h--))}}function Wa(d,g,_,b){for(var F=0;F<d.length;++F){var U=d[F];if(!U.da&&U.listener==g&&U.capture==!!_&&U.ha==b)return F}return-1}var Ka="closure_lm_"+(1e6*Math.random()|0),As={};function xs(d,g,_,b,F){if(b&&b.once)return Za(d,g,_,b,F);if(Array.isArray(g)){for(var U=0;U<g.length;U++)xs(d,g[U],_,b,F);return null}return _=Xa(_),d&&d[_o]?d.K(g,_,h(b)?!!b.capture:!!b,F):ch(d,g,_,!1,b,F)}function ch(d,g,_,b,F,U){if(!g)throw Error("Invalid event type");var X=h(F)?!!F.capture:!!F,ke=Ms(d);if(ke||(d[Ka]=ke=new Eo(d)),_=ke.add(g,_,b,X,U),_.proxy)return _;if(b=uh(),_.proxy=b,b.src=d,b.listener=_,d.addEventListener)$e||(F=X),F===void 0&&(F=!1),d.addEventListener(g.toString(),b,F);else if(d.attachEvent)d.attachEvent(dh(g.toString()),b);else if(d.addListener&&d.removeListener)d.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function uh(){function d(_){return g.call(d.src,d.listener,_)}let g=xy;return d}function Za(d,g,_,b,F){if(Array.isArray(g)){for(var U=0;U<g.length;U++)Za(d,g[U],_,b,F);return null}return _=Xa(_),d&&d[_o]?d.L(g,_,h(b)?!!b.capture:!!b,F):ch(d,g,_,!0,b,F)}function pu(d,g,_,b,F){if(Array.isArray(g))for(var U=0;U<g.length;U++)pu(d,g[U],_,b,F);else b=h(b)?!!b.capture:!!b,_=Xa(_),d&&d[_o]?(d=d.i,g=String(g).toString(),g in d.g&&(U=d.g[g],_=Wa(U,_,b,F),-1<_&&(zr(U[_]),Array.prototype.splice.call(U,_,1),U.length==0&&(delete d.g[g],d.h--)))):d&&(d=Ms(d))&&(g=d.g[g.toString()],d=-1,g&&(d=Wa(g,_,b,F)),(_=-1<d?g[d]:null)&&Ya(_))}function Ya(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[_o])hu(g.i,d);else{var _=d.type,b=d.proxy;g.removeEventListener?g.removeEventListener(_,b,d.capture):g.detachEvent?g.detachEvent(dh(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=Ms(g))?(hu(_,d),_.h==0&&(_.src=null,g[Ka]=null)):zr(d)}}}function dh(d){return d in As?As[d]:As[d]="on"+d}function xy(d,g){if(d.da)d=!0;else{g=new Sn(g,this);var _=d.listener,b=d.ha||d.src;d.fa&&Ya(d),d=_.call(b,g)}return d}function Ms(d){return d=d[Ka],d instanceof Eo?d:null}var Qa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xa(d){return typeof d=="function"?d:(d[Qa]||(d[Qa]=function(g){return d.handleEvent(g)}),d[Qa])}function Xt(){Xe.call(this),this.i=new Eo(this),this.M=this,this.F=null}C(Xt,Xe),Xt.prototype[_o]=!0,Xt.prototype.removeEventListener=function(d,g,_,b){pu(this,d,g,_,b)};function Jt(d,g){var _,b=d.F;if(b)for(_=[];b;b=b.F)_.push(b);if(d=d.M,b=g.type||g,typeof g=="string")g=new be(g,d);else if(g instanceof be)g.target=g.target||d;else{var F=g;g=new be(b,d),D(g,F)}if(F=!0,_)for(var U=_.length-1;0<=U;U--){var X=g.g=_[U];F=Ps(X,b,!0,g)&&F}if(X=g.g=d,F=Ps(X,b,!0,g)&&F,F=Ps(X,b,!1,g)&&F,_)for(U=0;U<_.length;U++)X=g.g=_[U],F=Ps(X,b,!1,g)&&F}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var _=d.g[g],b=0;b<_.length;b++)zr(_[b]);delete d.g[g],d.h--}}this.F=null},Xt.prototype.K=function(d,g,_,b){return this.i.add(String(d),g,!1,_,b)},Xt.prototype.L=function(d,g,_,b){return this.i.add(String(d),g,!0,_,b)};function Ps(d,g,_,b){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var F=!0,U=0;U<g.length;++U){var X=g[U];if(X&&!X.da&&X.capture==_){var ke=X.listener,mt=X.ha||X.src;X.fa&&hu(d.i,X),F=ke.call(mt,b)!==!1&&F}}return F&&!b.defaultPrevented}function fh(d,g,_){if(typeof d=="function")_&&(d=I(d,_));else if(d&&typeof d.handleEvent=="function")d=I(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:c.setTimeout(d,g||0)}function mu(d){d.g=fh(()=>{d.g=null,d.i&&(d.i=!1,mu(d))},d.l);let g=d.h;d.h=null,d.m.apply(null,g)}class gu extends Xe{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:mu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Io(d){Xe.call(this),this.h=d,this.g={}}C(Io,Xe);var hh=[];function wo(d){ne(d.g,function(g,_){this.g.hasOwnProperty(_)&&Ya(g)},d),d.g={}}Io.prototype.N=function(){Io.aa.N.call(this),wo(this)},Io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vu=c.JSON.stringify,My=c.JSON.parse,ph=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Ja(){}Ja.prototype.h=null;function yu(d){return d.h||(d.h=d.i())}function mh(){}var Rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _u(){be.call(this,"d")}C(_u,be);function Eu(){be.call(this,"c")}C(Eu,be);var Oi={},gh=null;function bo(){return gh=gh||new Xt}Oi.La="serverreachability";function vh(d){be.call(this,Oi.La,d)}C(vh,be);function Ns(d){let g=bo();Jt(g,new vh(g))}Oi.STAT_EVENT="statevent";function yh(d,g){be.call(this,Oi.STAT_EVENT,d),this.stat=g}C(yh,be);function fn(d){let g=bo();Jt(g,new yh(g,d))}Oi.Ma="timingevent";function zn(d,g){be.call(this,Oi.Ma,d),this.size=g}C(zn,be);function le(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},g)}function To(){this.g=!0}To.prototype.xa=function(){this.g=!1};function _h(d,g,_,b,F,U){d.info(function(){if(d.g)if(U)for(var X="",ke=U.split("&"),mt=0;mt<ke.length;mt++){var Ke=ke[mt].split("=");if(1<Ke.length){var ct=Ke[0];Ke=Ke[1];var en=ct.split("_");X=2<=en.length&&en[1]=="type"?X+(ct+"="+Ke+"&"):X+(ct+"=redacted&")}}else X=null;else X=U;return"XMLHTTP REQ ("+b+") [attempt "+F+"]: "+g+`
`+_+`
`+X})}function Eh(d,g,_,b,F,U,X){d.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+F+"]: "+g+`
`+_+`
`+U+" "+X})}function ki(d,g,_,b){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ih(d,_)+(b?" "+b:"")})}function Iu(d,g){d.info(function(){return"TIMEOUT: "+g})}To.prototype.info=function(){};function Ih(d,g){if(!d.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(d=0;d<_.length;d++)if(Array.isArray(_[d])){var b=_[d];if(!(2>b.length)){var F=b[1];if(Array.isArray(F)&&!(1>F.length)){var U=F[0];if(U!="noop"&&U!="stop"&&U!="close")for(var X=1;X<F.length;X++)F[X]=""}}}}return vu(_)}catch{return g}}var wr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bu;function el(){}C(el,Ja),el.prototype.g=function(){return new XMLHttpRequest},el.prototype.i=function(){return{}},bu=new el;function Hr(d,g,_,b){this.j=d,this.i=g,this.l=_,this.R=b||1,this.U=new Io(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wh}function wh(){this.i=null,this.g="",this.h=!1}var Tu={},Cu={};function Co(d,g,_){d.L=1,d.v=Do(hn(g)),d.m=_,d.P=!0,bh(d,null)}function bh(d,g){d.F=Date.now(),tl(d),d.A=hn(d.v);var _=d.A,b=d.R;Array.isArray(b)||(b=[String(b)]),rt(_.i,"t",b),d.C=0,_=d.j.J,d.h=new wh,d.g=qs(d.j,_?g:null,!d.m),0<d.O&&(d.M=new gu(I(d.Y,d,d.g),d.O)),g=d.U,_=d.g,b=d.ca;var F="readystatechange";Array.isArray(F)||(F&&(hh[0]=F.toString()),F=hh);for(var U=0;U<F.length;U++){var X=xs(_,F[U],b||g.handleEvent,!1,g.h||g);if(!X)break;g.g[X.key]=X}g=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),Ns(),_h(d.i,d.u,d.A,d.l,d.R,d.m)}Hr.prototype.ca=function(d){d=d.target;let g=this.M;g&&qn(d)==3?g.j():this.Y(d)},Hr.prototype.Y=function(d){try{if(d==this.g)e:{let en=qn(this.g);var g=this.g.Ba();let Wn=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||Mh(this.g)))){this.J||en!=4||g==7||(g==8||0>=Wn?Ns(3):Ns(2)),Os(this);var _=this.g.Z();this.X=_;t:if(Th(this)){var b=Mh(this.g);d="";var F=b.length,U=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),br(this);var X="";break t}this.h.i=new c.TextDecoder}for(g=0;g<F;g++)this.h.h=!0,d+=this.h.i.decode(b[g],{stream:!(U&&g==F-1)});b.length=0,this.h.g+=d,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=_==200,Eh(this.i,this.u,this.A,this.l,this.R,en,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,mt=this.g;if((ke=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(ke)){var Ke=ke;break t}}Ke=null}if(_=Ke)ki(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nl(this,_);else{this.o=!1,this.s=3,fn(12),qr(this),br(this);break e}}if(this.P){_=!0;let Kn;for(;!this.J&&this.C<X.length;)if(Kn=Py(this,X),Kn==Cu){en==4&&(this.s=4,fn(14),_=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==Tu){this.s=4,fn(15),ki(this.i,this.l,X,"[Invalid Chunk]"),_=!1;break}else ki(this.i,this.l,Kn,null),nl(this,Kn);if(Th(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||X.length!=0||this.h.h||(this.s=1,fn(16),_=!1),this.o=this.o&&_,!_)ki(this.i,this.l,X,"[Invalid Chunked Response]"),qr(this),br(this);else if(0<X.length&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.ba&&!ct.M&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),ll(ct),ct.M=!0,fn(11))}}else ki(this.i,this.l,X,null),nl(this,X);en==4&&qr(this),this.o&&!this.J&&(en==4?Oh(this.j,this):(this.o=!1,tl(this)))}else Ph(this.g),_==400&&0<X.indexOf("Unknown SID")?(this.s=3,fn(12)):(this.s=0,fn(13)),qr(this),br(this)}}}catch{}finally{}};function Th(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Py(d,g){var _=d.C,b=g.indexOf(`
`,_);return b==-1?Cu:(_=Number(g.substring(_,b)),isNaN(_)?Tu:(b+=1,b+_>g.length?Cu:(g=g.slice(b,b+_),d.C=b+_,g)))}Hr.prototype.cancel=function(){this.J=!0,qr(this)};function tl(d){d.S=Date.now()+d.I,Ch(d,d.I)}function Ch(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=le(I(d.ba,d),g)}function Os(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Hr.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(Iu(this.i,this.A),this.L!=2&&(Ns(),fn(17)),qr(this),this.s=2,br(this)):Ch(this,this.S-d)};function br(d){d.j.G==0||d.J||Oh(d.j,d)}function qr(d){Os(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,wo(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function nl(d,g){try{var _=d.j;if(_.G!=0&&(_.g==d||Gr(_.h,d))){if(!d.K&&Gr(_.h,d)&&_.G==3){try{var b=_.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var F=b;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<d.F)cl(_),ol(_);else break e;Fu(_),fn(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=le(I(_.Za,_),6e3));if(1>=Ls(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Bi(_,11)}else if((d.K||_.g==d)&&cl(_),!z(g))for(F=_.Da.g.parse(g),g=0;g<F.length;g++){let Ke=F[g];if(_.T=Ke[0],Ke=Ke[1],_.G==2)if(Ke[0]=="c"){_.K=Ke[1],_.ia=Ke[2];let ct=Ke[3];ct!=null&&(_.la=ct,_.j.info("VER="+_.la));let en=Ke[4];en!=null&&(_.Aa=en,_.j.info("SVER="+_.Aa));let Wn=Ke[5];Wn!=null&&typeof Wn=="number"&&0<Wn&&(b=1.5*Wn,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;let Kn=d.g;if(Kn){let Yr=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yr){var U=b.h;U.g||Yr.indexOf("spdy")==-1&&Yr.indexOf("quic")==-1&&Yr.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Wr(U,U.h),U.h=null))}if(b.D){let fl=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(b.ya=fl,Je(b.I,b.D,fl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-d.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var X=d;if(b.qa=ju(b,b.J?b.ia:null,b.W),X.K){rl(b.h,X);var ke=X,mt=b.L;mt&&(ke.I=mt),ke.B&&(Os(ke),tl(ke)),b.g=X}else al(b);0<_.i.length&&sl(_)}else Ke[0]!="stop"&&Ke[0]!="close"||Bi(_,7);else _.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Bi(_,7):Hs(_):Ke[0]!="noop"&&_.l&&_.l.ta(Ke),_.v=0)}}Ns(4)}catch{}}var ks=class{constructor(d,g){this.g=d,this.map=g}};function We(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lt(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ls(d){return d.h?1:d.g?d.g.size:0}function Gr(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function Wr(d,g){d.g?d.g.add(g):d.h=g}function rl(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}We.prototype.cancel=function(){if(this.i=xe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function xe(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(let _ of d.g.values())g=g.concat(_.D);return g}return N(d.i)}function yt(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(u(d)){for(var g=[],_=d.length,b=0;b<_;b++)g.push(d[b]);return g}g=[],_=0;for(b in d)g[_++]=d[b];return g}function Su(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(u(d)||typeof d=="string"){var g=[];d=d.length;for(var _=0;_<d;_++)g.push(_);return g}g=[],_=0;for(let b in d)g[_++]=b;return g}}}function Fs(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(u(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var _=Su(d),b=yt(d),F=b.length,U=0;U<F;U++)g.call(void 0,b[U],_&&_[U],d)}var Dn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ry(d,g){if(d){d=d.split("&");for(var _=0;_<d.length;_++){var b=d[_].indexOf("="),F=null;if(0<=b){var U=d[_].substring(0,b);F=d[_].substring(b+1)}else U=d[_];g(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function lr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof lr){this.h=d.h,ft(this,d.j),this.o=d.o,this.g=d.g,cr(this,d.s),this.l=d.l;var g=d.i,_=new Fi;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),So(this,_),this.m=d.m}else d&&(g=String(d).match(Dn))?(this.h=!1,ft(this,g[1]||"",!0),this.o=Tr(g[2]||""),this.g=Tr(g[3]||"",!0),cr(this,g[4]),this.l=Tr(g[5]||"",!0),So(this,g[6]||"",!0),this.m=Tr(g[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}lr.prototype.toString=function(){var d=[],g=this.j;g&&d.push(Li(g,Vs,!0),":");var _=this.g;return(_||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Li(g,Vs,!0),"@"),d.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&d.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(Li(_,_.charAt(0)=="/"?xu:Au,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",Li(_,Sh)),d.join("")};function hn(d){return new lr(d)}function ft(d,g,_){d.j=_?Tr(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function cr(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function So(d,g,_){g instanceof Fi?(d.i=g,Mu(d.i,d.h)):(_||(g=Li(g,il)),d.i=new Fi(g,d.h))}function Je(d,g,_){d.i.set(g,_)}function Do(d){return Je(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Tr(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Li(d,g,_){return typeof d=="string"?(d=encodeURI(d).replace(g,Du),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Du(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Vs=/[#\/\?@]/g,Au=/[#\?:]/g,xu=/[#\?]/g,il=/[#\?@]/g,Sh=/#/g;function Fi(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function Kr(d){d.g||(d.g=new Map,d.h=0,d.i&&Ry(d.i,function(g,_){d.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=Fi.prototype,t.add=function(d,g){Kr(this),this.i=null,d=Vi(this,d);var _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(g),this.h+=1,this};function Te(d,g){Kr(d),g=Vi(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function Hn(d,g){return Kr(d),g=Vi(d,g),d.g.has(g)}t.forEach=function(d,g){Kr(this),this.g.forEach(function(_,b){_.forEach(function(F){d.call(g,F,b,this)},this)},this)},t.na=function(){Kr(this);let d=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let b=0;b<g.length;b++){let F=d[b];for(let U=0;U<F.length;U++)_.push(g[b])}return _},t.V=function(d){Kr(this);let g=[];if(typeof d=="string")Hn(this,d)&&(g=g.concat(this.g.get(Vi(this,d))));else{d=Array.from(this.g.values());for(let _=0;_<d.length;_++)g=g.concat(d[_])}return g},t.set=function(d,g){return Kr(this),this.i=null,d=Vi(this,d),Hn(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function rt(d,g,_){Te(d,g),0<_.length&&(d.i=null,d.g.set(Vi(d,g),N(_)),d.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var b=g[_];let U=encodeURIComponent(String(b)),X=this.V(b);for(b=0;b<X.length;b++){var F=U;X[b]!==""&&(F+="="+encodeURIComponent(String(X[b]))),d.push(F)}}return this.i=d.join("&")};function Vi(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function Mu(d,g){g&&!d.j&&(Kr(d),d.i=null,d.g.forEach(function(_,b){var F=b.toLowerCase();b!=F&&(Te(this,b),rt(this,F,_))},d)),d.j=g}function Pu(d,g){let _=new To;if(c.Image){let b=new Image;b.onload=E(_n,_,"TestLoadImage: loaded",!0,g,b),b.onerror=E(_n,_,"TestLoadImage: error",!1,g,b),b.onabort=E(_n,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=E(_n,_,"TestLoadImage: timeout",!1,g,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=d}else g(!1)}function Ru(d,g){let _=new To,b=new AbortController,F=setTimeout(()=>{b.abort(),_n(_,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:b.signal}).then(U=>{clearTimeout(F),U.ok?_n(_,"TestPingServer: ok",!0,g):_n(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(F),_n(_,"TestPingServer: error",!1,g)})}function _n(d,g,_,b,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),b(_)}catch{}}function Nu(){this.g=new ph}function Bs(d,g,_){let b=_||"";try{Fs(d,function(F,U){let X=F;h(F)&&(X=vu(F)),g.push(b+U+"="+encodeURIComponent(X))})}catch(F){throw g.push(b+"type="+encodeURIComponent("_badmap")),F}}function _t(d){this.l=d.Ub||null,this.j=d.eb||!1}C(_t,Ja),_t.prototype.g=function(){return new ur(this.l,this.j)},_t.prototype.i=(function(d){return function(){return d}})({});function ur(d,g){Xt.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ur,Xt),t=ur.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,js(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||c).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ao(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,js(this)),this.g&&(this.readyState=3,js(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ou(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ou(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Ao(this):js(this),this.readyState==3&&Ou(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Ao(this))},t.Qa=function(d){this.g&&(this.response=d,Ao(this))},t.ga=function(){this.g&&Ao(this)};function Ao(d){d.readyState=4,d.l=null,d.j=null,d.v=null,js(d)}t.setRequestHeader=function(d,g){this.u.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=g.next();return d.join(`\r
`)};function js(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ku(d){let g="";return ne(d,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function Us(d,g,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=ku(_),typeof d=="string"?_!=null&&encodeURIComponent(String(_)):Je(d,g,_))}function pt(d){Xt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(pt,Xt);var Dh=/^https?$/i,ze=["POST","PUT"];t=pt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bu.g(),this.v=this.o?yu(this.o):yu(bu),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(U){Ah(this,U);return}if(d=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var F in b)_.set(F,b[F]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(let U of b.keys())_.set(U,b.get(U));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(U=>U.toLowerCase()=="content-type"),F=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ze,g,void 0))||b||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[U,X]of _)this.g.setRequestHeader(U,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xh(this),this.u=!0,this.g.send(d),this.u=!1}catch(U){Ah(this,U)}};function Ah(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,On(d),$s(d)}function On(d){d.A||(d.A=!0,Jt(d,"complete"),Jt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Jt(this,"complete"),Jt(this,"abort"),$s(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$s(this,!0)),pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xo(this):this.bb())},t.bb=function(){xo(this)};function xo(d){if(d.h&&typeof a<"u"&&(!d.v[1]||qn(d)!=4||d.Z()!=2)){if(d.u&&qn(d)==4)fh(d.Ea,0,d);else if(Jt(d,"readystatechange"),qn(d)==4){d.h=!1;try{let X=d.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var b;if(b=X===0){var F=String(d.D).match(Dn)[1]||null;!F&&c.self&&c.self.location&&(F=c.self.location.protocol.slice(0,-1)),b=!Dh.test(F?F.toLowerCase():"")}_=b}if(_)Jt(d,"complete"),Jt(d,"success");else{d.m=6;try{var U=2<qn(d)?d.g.statusText:""}catch{U=""}d.l=U+" ["+d.Z()+"]",On(d)}}finally{$s(d)}}}}function $s(d,g){if(d.g){xh(d);let _=d.g,b=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||Jt(d,"ready");try{_.onreadystatechange=b}catch{}}}function xh(d){d.I&&(c.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function qn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),My(g)}};function Mh(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ph(d){let g={};d=(d.g&&2<=qn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<d.length;b++){if(z(d[b]))continue;var _=M(d[b]);let F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();let U=g[F]||[];g[F]=U,U.push(_)}R(g,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(d,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||g}function Rh(d){this.Aa=0,this.i=[],this.j=new To,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zs("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zs("baseRetryDelayMs",5e3,d),this.cb=zs("retryDelaySeedMs",1e4,d),this.Wa=zs("forwardChannelMaxRetries",2,d),this.wa=zs("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new We(d&&d.concurrentRequestLimit),this.Da=new Nu,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Rh.prototype,t.la=8,t.G=1,t.connect=function(d,g,_,b){fn(0),this.W=d,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=ju(this,null,this.W),sl(this)};function Hs(d){if(Gn(d),d.G==3){var g=d.U++,_=hn(d.I);if(Je(_,"SID",d.K),Je(_,"RID",g),Je(_,"TYPE","terminate"),Mo(d,_),g=new Hr(d,d.j,g),g.L=2,g.v=Do(hn(_)),_=!1,c.navigator&&c.navigator.sendBeacon)try{_=c.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&c.Image&&(new Image().src=g.v,_=!0),_||(g.g=qs(g.j,null),g.g.ea(g.v)),g.F=Date.now(),tl(g)}Bu(d)}function ol(d){d.g&&(ll(d),d.g.cancel(),d.g=null)}function Gn(d){ol(d),d.u&&(c.clearTimeout(d.u),d.u=null),cl(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function sl(d){if(!lt(d.h)&&!d.s){d.s=!0;var g=d.Ga;yn||Qe(),Q||(yn(),Q=!0),we.add(g,d),d.B=0}}function Nh(d,g){return Ls(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=le(I(d.Ga,d,g),ul(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let F=new Hr(this,this.j,d),U=this.o;if(this.S&&(U?(U=T(U),D(U,this.S)):U=this.S),this.m!==null||this.O||(F.H=U,U=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Lu(this,F,g),_=hn(this.I),Je(_,"RID",d),Je(_,"CVER",22),this.D&&Je(_,"X-HTTP-Session-Id",this.D),Mo(this,_),U&&(this.O?g="headers="+encodeURIComponent(String(ku(U)))+"&"+g:this.m&&Us(_,this.m,U)),Wr(this.h,F),this.Ua&&Je(_,"TYPE","init"),this.P?(Je(_,"$req",g),Je(_,"SID","null"),F.T=!0,Co(F,_,null)):Co(F,_,g),this.G=2}}else this.G==3&&(d?Cr(this,d):this.i.length==0||lt(this.h)||Cr(this))};function Cr(d,g){var _;g?_=g.l:_=d.U++;let b=hn(d.I);Je(b,"SID",d.K),Je(b,"RID",_),Je(b,"AID",d.T),Mo(d,b),d.m&&d.o&&Us(b,d.m,d.o),_=new Hr(d,d.j,_,d.B+1),d.m===null&&(_.H=d.o),g&&(d.i=g.D.concat(d.i)),g=Lu(d,_,1e3),_.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Wr(d.h,_),Co(_,b,g)}function Mo(d,g){d.H&&ne(d.H,function(_,b){Je(g,b,_)}),d.l&&Fs({},function(_,b){Je(g,b,_)})}function Lu(d,g,_){_=Math.min(d.i.length,_);var b=d.l?I(d.l.Na,d.l,d):null;e:{var F=d.i;let U=-1;for(;;){let X=["count="+_];U==-1?0<_?(U=F[0].g,X.push("ofs="+U)):U=0:X.push("ofs="+U);let ke=!0;for(let mt=0;mt<_;mt++){let Ke=F[mt].g,ct=F[mt].map;if(Ke-=U,0>Ke)U=Math.max(0,F[mt].g-100),ke=!1;else try{Bs(ct,X,"req"+Ke+"_")}catch{b&&b(ct)}}if(ke){b=X.join("&");break e}}}return d=d.i.splice(0,_),g.D=d,b}function al(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;yn||Qe(),Q||(yn(),Q=!0),we.add(g,d),d.v=0}}function Fu(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=le(I(d.Fa,d),ul(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=le(I(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fn(10),ol(this),Vu(this))};function ll(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function Vu(d){d.g=new Hr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=hn(d.qa);Je(g,"RID","rpc"),Je(g,"SID",d.K),Je(g,"AID",d.T),Je(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&Je(g,"TO",d.ja),Je(g,"TYPE","xmlhttp"),Mo(d,g),d.m&&d.o&&Us(g,d.m,d.o),d.L&&(d.g.I=d.L);var _=d.g;d=d.ia,_.L=1,_.v=Do(hn(g)),_.m=null,_.P=!0,bh(_,d)}t.Za=function(){this.C!=null&&(this.C=null,ol(this),Fu(this),fn(19))};function cl(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Oh(d,g){var _=null;if(d.g==g){cl(d),ll(d),d.g=null;var b=2}else if(Gr(d.h,g))_=g.D,rl(d.h,g),b=1;else return;if(d.G!=0){if(g.o)if(b==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var F=d.B;b=bo(),Jt(b,new zn(b,_)),sl(d)}else al(d);else if(F=g.s,F==3||F==0&&0<g.X||!(b==1&&Nh(d,g)||b==2&&Fu(d)))switch(_&&0<_.length&&(g=d.h,g.i=g.i.concat(_)),F){case 1:Bi(d,5);break;case 4:Bi(d,10);break;case 3:Bi(d,6);break;default:Bi(d,2)}}}function ul(d,g){let _=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(_*=2),_*g}function Bi(d,g){if(d.j.info("Error code "+g),g==2){var _=I(d.fb,d),b=d.Xa;let F=!b;b=new lr(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ft(b,"https"),Do(b),F?Pu(b.toString(),_):Ru(b.toString(),_)}else fn(2);d.G=0,d.l&&d.l.sa(g),Bu(d),Gn(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),fn(2)):(this.j.info("Failed to ping google.com"),fn(1))};function Bu(d){if(d.G=0,d.ka=[],d.l){let g=xe(d.h);(g.length!=0||d.i.length!=0)&&(k(d.ka,g),k(d.ka,d.i),d.h.i.length=0,N(d.i),d.i.length=0),d.l.ra()}}function ju(d,g,_){var b=_ instanceof lr?hn(_):new lr(_);if(b.g!="")g&&(b.g=g+"."+b.g),cr(b,b.s);else{var F=c.location;b=F.protocol,g=g?g+"."+F.hostname:F.hostname,F=+F.port;var U=new lr(null);b&&ft(U,b),g&&(U.g=g),F&&cr(U,F),_&&(U.l=_),b=U}return _=d.D,g=d.ya,_&&g&&Je(b,_,g),Je(b,"VER",d.la),Mo(d,b),b}function qs(d,g,_){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new pt(new _t({eb:_})):new pt(d.pa),g.Ha(d.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zr(){}t=Zr.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function dl(){}dl.prototype.g=function(d,g){return new Ht(d,g)};function Ht(d,g){Xt.call(this),this.g=new Rh(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!z(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!z(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new ji(this)}C(Ht,Xt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Hs(this.g)},Ht.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.u&&(_={},_.__data__=vu(d),d=_);g.i.push(new ks(g.Ya++,d)),g.G==3&&sl(g)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Hs(this.g),delete this.g,Ht.aa.N.call(this)};function An(d){_u.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(let _ in g){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}C(An,_u);function Uu(){Eu.call(this),this.status=1}C(Uu,Eu);function ji(d){this.g=d}C(ji,Zr),ji.prototype.ua=function(){Jt(this.g,"a")},ji.prototype.ta=function(d){Jt(this.g,new An(d))},ji.prototype.sa=function(d){Jt(this.g,new Uu)},ji.prototype.ra=function(){Jt(this.g,"b")},dl.prototype.createWebChannel=dl.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,u0=ho.createWebChannelTransport=function(){return new dl},c0=ho.getStatEventTarget=function(){return bo()},l0=ho.Event=Oi,pv=ho.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Uf=ho.ErrorCode=wr,wu.COMPLETE="complete",a0=ho.EventType=wu,mh.EventType=Rs,Rs.OPEN="a",Rs.CLOSE="b",Rs.ERROR="c",Rs.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,Fc=ho.WebChannel=mh,l5=ho.FetchXmlHttpFactory=_t,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,s0=ho.XhrIo=pt}).apply(typeof hv<"u"?hv:typeof self<"u"?self:typeof window<"u"?window:{});var UR="@firebase/firestore",$R="4.8.0";var cn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");var su="11.10.0";var ja=new _i("@firebase/firestore");function Vc(){return ja.logLevel}function re(t,...e){if(ja.logLevel<=Ue.DEBUG){let n=e.map(YT);ja.debug(`Firestore (${su}): ${t}`,...n)}}function po(t,...e){if(ja.logLevel<=Ue.ERROR){let n=e.map(YT);ja.error(`Firestore (${su}): ${t}`,...n)}}function ws(t,...e){if(ja.logLevel<=Ue.WARN){let n=e.map(YT);ja.warn(`Firestore (${su}): ${t}`,...n)}}function YT(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,PN(t,r,n)}function PN(t,e,n){let r=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw po(r),new Error(r)}function nt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||PN(e,i,r)}function Ae(t,e){return t}var q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ae=class extends or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var bi=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Iv=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},m0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}},g0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},v0=class{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bi,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let u=o;e.enqueueRetryable(()=>A(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bi)}},0),a()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new Iv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new cn(e)}},y0=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},_0=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new y0(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},wv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},E0=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);let r=o=>{o.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let a=o.token!==this.m;return this.m=o.token,re("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wv(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function c5(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function RN(){return new TextEncoder}var Wf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=c5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function Le(t,e){return t<e?-1:t>e?1:0}function I0(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Le(r,i);{let o=RN(),a=u5(o.encode(zR(t,n)),o.encode(zR(e,n)));return a!==0?a:Le(r,i)}}n+=r>65535?2:1}return Le(t.length,e.length)}function zR(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function u5(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Le(t[n],e[n]);return Le(t.length,e.length)}function Gc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var HR="__name__",bv=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Le(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):I0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}},wt=class t extends bv{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new ae(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},d5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ar=class t extends bv{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return d5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HR}static keyField(){return new t([HR])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new ae(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},a=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new ae(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ae(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(o(),i++)}if(o(),a)throw new ae(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ge=class t{constructor(e){this.path=e}static fromPath(e){return new t(wt.fromString(e))}static fromName(e){return new t(wt.fromString(e).popFirst(5))}static empty(){return new t(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new wt(e.slice()))}};function NN(t,e,n){if(!n)throw new ae(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function f5(t,e,n,r){if(e===!0&&r===!0)throw new ae(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qR(t){if(!ge.isDocumentKey(t))throw new ae(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GR(t){if(ge.isDocumentKey(t))throw new ae(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ON(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function QT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve(12329,{type:typeof t})}function Ir(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=QT(t);throw new ae(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $t(t,e){let n={typeString:t};return e&&(n.value=e),n}function ih(t,e){if(!ON(t))throw new ae(q.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ae(q.INVALID_ARGUMENT,n);return!0}var WR=-62135596800,KR=1e6,zt=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*KR);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<WR)throw new ae(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KR}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ih(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-WR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};zt._jsonSchemaVersion="firestore/timestamp/1.0",zt._jsonSchema={type:$t("string",zt._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};var Re=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new zt(0,0))}static max(){return new t(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Kf=-1,w0=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};w0.UNKNOWN_ID=-1;function h5(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(r===1e9?new zt(n+1,0):new zt(n,r));return new Ua(i,ge.empty(),e)}function p5(t){return new Ua(t.readTime,t.key,Kf)}var Ua=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Re.min(),ge.empty(),Kf)}static max(){return new t(Re.max(),ge.empty(),Kf)}};function m5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}var g5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",b0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function au(t){return A(this,null,function*(){if(t.code!==q.FAILED_PRECONDITION||t.message!==g5)throw t;re("LocalStore","Unexpectedly lost primary lease")})}var Z=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++o,a&&o===i&&n()},u=>r(u))}),a=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,a=new Array(o),c=0;for(let u=0;u<o;u++){let h=u;n(e[h]).next(m=>{a[h]=m,++c,c===o&&r(a)},m=>i(m))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function v5(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lu(t){return t.name==="IndexedDbTransactionError"}var XT=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),JT=-1;function ny(t){return t==null}function Zf(t){return t===0&&1/t==-1/0}function y5(t){return typeof t=="number"&&Number.isInteger(t)&&!Zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var kN="";function _5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ZR(e)),e=E5(t.get(n),e);return ZR(e)}function E5(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case kN:n+="";break;default:n+=o}}return n}function ZR(t){return t+kN+""}var I5="remoteDocuments",LN="owner";var FN="mutationQueues";var VN="mutations";var BN="documentMutations",w5="remoteDocumentsV14";var jN="remoteDocumentGlobal";var UN="targets";var $N="targetDocuments";var zN="targetGlobal",HN="collectionParents";var qN="clientMetadata";var GN="bundles";var WN="namedQueries";var b5="indexConfiguration";var T5="indexState";var C5="indexEntries";var KN="documentOverlays";var S5="globals";var D5=[FN,VN,BN,I5,UN,LN,zN,$N,qN,jN,HN,GN,WN],spe=[...D5,KN],A5=[FN,VN,BN,w5,UN,LN,zN,$N,qN,jN,HN,GN,WN,KN],x5=A5,M5=[...x5,b5,T5,C5];var ape=[...M5,S5];function YR(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ss(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZN(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Dt=class t{constructor(e,n){this.comparator=e,this.root=n||Ti.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}},$c=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ti=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}};Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1;Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ti(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var un=class t{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Tv(this.data.getIterator())}getIteratorFrom(e){return new Tv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Tv=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Er=class t{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new t([])}unionWith(e){let n=new un(ar.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gc(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Cv=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Cn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Cv("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Cn.EMPTY_BYTE_STRING=new Cn("");var P5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(t){if(nt(!!t,39018),typeof t=="string"){let e=0,n=P5.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function go(t){return typeof t=="string"?Cn.fromBase64String(t):Cn.fromUint8Array(t)}var YN="server_timestamp",QN="__type__",XN="__previous_value__",JN="__local_write_time__";function eC(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[QN])===null||n===void 0?void 0:n.stringValue)===YN}function ry(t){let e=t.mapValue.fields[XN];return eC(e)?ry(e):e}function Yf(t){let e=mo(t.mapValue.fields[JN].timestampValue);return new zt(e.seconds,e.nanos)}var T0=class{constructor(e,n,r,i,o,a,c,u,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=m}},Sv="(default)",Dv=class t{constructor(e,n){this.projectId=e,this.database=n||Sv}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Sv}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var tC="__type__",eO="__max__",mv={mapValue:{fields:{__type__:{stringValue:eO}}}},nC="__vector__",Wc="value";function bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eC(t)?4:nO(t)?9007199254740991:tO(t)?10:11:ve(28295,{value:t})}function Ai(t,e){if(t===e)return!0;let n=bs(t);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yf(t).isEqual(Yf(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let a=mo(i.timestampValue),c=mo(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return go(i.bytesValue).isEqual(go(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return vt(i.geoPointValue.latitude)===vt(o.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return vt(i.integerValue)===vt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let a=vt(i.doubleValue),c=vt(o.doubleValue);return a===c?Zf(a)===Zf(c):isNaN(a)&&isNaN(c)}return!1})(t,e);case 9:return Gc(t.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return(function(i,o){let a=i.mapValue.fields||{},c=o.mapValue.fields||{};if(YR(a)!==YR(c))return!1;for(let u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!Ai(a[u],c[u])))return!1;return!0})(t,e);default:return ve(52216,{left:t})}}function Qf(t,e){return(t.values||[]).find(n=>Ai(n,e))!==void 0}function Kc(t,e){if(t===e)return 0;let n=bs(t),r=bs(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(o,a){let c=vt(o.integerValue||o.doubleValue),u=vt(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return QR(t.timestampValue,e.timestampValue);case 4:return QR(Yf(t),Yf(e));case 5:return I0(t.stringValue,e.stringValue);case 6:return(function(o,a){let c=go(o),u=go(a);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,a){let c=o.split("/"),u=a.split("/");for(let h=0;h<c.length&&h<u.length;h++){let m=Le(c[h],u[h]);if(m!==0)return m}return Le(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,a){let c=Le(vt(o.latitude),vt(a.latitude));return c!==0?c:Le(vt(o.longitude),vt(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return XR(t.arrayValue,e.arrayValue);case 10:return(function(o,a){var c,u,h,m;let v=o.fields||{},I=a.fields||{},E=(c=v[Wc])===null||c===void 0?void 0:c.arrayValue,C=(u=I[Wc])===null||u===void 0?void 0:u.arrayValue,N=Le(((h=E?.values)===null||h===void 0?void 0:h.length)||0,((m=C?.values)===null||m===void 0?void 0:m.length)||0);return N!==0?N:XR(E,C)})(t.mapValue,e.mapValue);case 11:return(function(o,a){if(o===mv.mapValue&&a===mv.mapValue)return 0;if(o===mv.mapValue)return 1;if(a===mv.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),h=a.fields||{},m=Object.keys(h);u.sort(),m.sort();for(let v=0;v<u.length&&v<m.length;++v){let I=I0(u[v],m[v]);if(I!==0)return I;let E=Kc(c[u[v]],h[m[v]]);if(E!==0)return E}return Le(u.length,m.length)})(t.mapValue,e.mapValue);default:throw ve(23264,{le:n})}}function QR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);let n=mo(t),r=mo(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function XR(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Kc(n[i],r[i]);if(o)return o}return Le(n.length,r.length)}function Zc(t){return C0(t)}function C0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=mo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return go(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ge.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=C0(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let a of r)o?o=!1:i+=",",i+=`${a}:${C0(n.fields[a])}`;return i+"}"})(t.mapValue):ve(61005,{value:t})}function yv(t){switch(bs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ry(t);return e?16+yv(e):16;case 5:return 2*t.stringValue.length;case 6:return go(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+yv(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ss(r.fields,(o,a)=>{i+=o.length+yv(a)}),i})(t.mapValue);default:throw ve(13486,{value:t})}}function S0(t){return!!t&&"integerValue"in t}function rC(t){return!!t&&"arrayValue"in t}function JR(t){return!!t&&"nullValue"in t}function eN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _v(t){return!!t&&"mapValue"in t}function tO(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[tC])===null||n===void 0?void 0:n.stringValue)===nC}function zf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ss(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zf(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===eO}var cpe={mapValue:{fields:{[tC]:{stringValue:nC},[Wc]:{arrayValue:{}}}}};var sr=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_v(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zf(n)}setAll(e){let n=ar.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=zf(a):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());_v(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_v(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ss(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(zf(this.value))}};function rO(t){let e=[];return Ss(t.fields,(n,r)=>{let i=new ar([n]);if(_v(r)){let o=rO(r.mapValue).fields;if(o.length===0)e.push(i);else for(let a of o)e.push(i.child(a))}else e.push(i)}),new Er(e)}var Br=class t{constructor(e,n,r,i,o,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Re.min(),Re.min(),Re.min(),sr.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Re.min(),Re.min(),sr.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Re.min(),Re.min(),sr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Yc=class{constructor(e,n){this.position=e,this.inclusive=n}};function tN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ge.comparator(ge.fromName(a.referenceValue),n.key):r=Kc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ai(t.position[n],e.position[n]))return!1;return!0}var Qc=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function R5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Av=class{},Qt=class t extends Av{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new A0(e,n,r):n==="array-contains"?new P0(e,r):n==="in"?new R0(e,r):n==="not-in"?new N0(e,r):n==="array-contains-any"?new O0(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new x0(e,r):new M0(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Kc(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(Kc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},xi=class t extends Av{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return iO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function iO(t){return t.op==="and"}function oO(t){return N5(t)&&iO(t)}function N5(t){for(let e of t.filters)if(e instanceof xi)return!1;return!0}function D0(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+Zc(t.value);if(oO(t))return t.filters.map(e=>D0(e)).join(",");{let e=t.filters.map(n=>D0(n)).join(",");return`${t.op}(${e})`}}function sO(t,e){return t instanceof Qt?(function(r,i){return i instanceof Qt&&r.op===i.op&&r.field.isEqual(i.field)&&Ai(r.value,i.value)})(t,e):t instanceof xi?(function(r,i){return i instanceof xi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,c)=>o&&sO(a,i.filters[c]),!0):!1})(t,e):void ve(19439)}function aO(t){return t instanceof Qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Zc(n.value)}`})(t):t instanceof xi?(function(n){return n.op.toString()+" {"+n.getFilters().map(aO).join(" ,")+"}"})(t):"Filter"}var A0=class extends Qt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){let n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}},x0=class extends Qt{constructor(e,n){super(e,"in",n),this.keys=lO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},M0=class extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=lO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function lO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}var P0=class extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return rC(n)&&Qf(n.arrayValue,this.value)}},R0=class extends Qt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Qf(this.value.arrayValue,n)}},N0=class extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qf(this.value.arrayValue,n)}},O0=class extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!rC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qf(this.value.arrayValue,r))}};var k0=class{constructor(e,n=null,r=[],i=[],o=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=c,this.Pe=null}};function rN(t,e=null,n=[],r=[],i=null,o=null,a=null){return new k0(t,e,n,r,i,o,a)}function iC(t){let e=Ae(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>D0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),ny(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zc(r)).join(",")),e.Pe=n}return e.Pe}function oC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nN(t.startAt,e.startAt)&&nN(t.endAt,e.endAt)}function L0(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Xc=class{constructor(e,n=null,r=[],i=[],o=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function O5(t,e,n,r,i,o,a,c){return new Xc(t,e,n,r,i,o,a,c)}function iy(t){return new Xc(t)}function iN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function k5(t){return t.collectionGroup!==null}function Hf(t){let e=Ae(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new un(ar.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Qc(o,r))}),n.has(ar.keyField().canonicalString())||e.Te.push(new Qc(ar.keyField(),r))}return e.Te}function Ci(t){let e=Ae(t);return e.Ie||(e.Ie=L5(e,Hf(t))),e.Ie}function L5(t,e){if(t.limitType==="F")return rN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Qc(i.field,o)});let n=t.endAt?new Yc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yc(t.startAt.position,t.startAt.inclusive):null;return rN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function F0(t,e,n){return new Xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oy(t,e){return oC(Ci(t),Ci(e))&&t.limitType===e.limitType}function cO(t){return`${iC(Ci(t))}|lt:${t.limitType}`}function Bc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>aO(i)).join(", ")}]`),ny(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zc(i)).join(",")),`Target(${r})`})(Ci(t))}; limitType=${t.limitType})`}function sy(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ge.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of Hf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,c,u){let h=tN(a,c,u);return a.inclusive?h<=0:h<0})(r.startAt,Hf(r),i)||r.endAt&&!(function(a,c,u){let h=tN(a,c,u);return a.inclusive?h>=0:h>0})(r.endAt,Hf(r),i))})(t,e)}function F5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uO(t){return(e,n)=>{let r=!1;for(let i of Hf(t)){let o=V5(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function V5(t,e,n){let r=t.field.isKeyField()?ge.comparator(e.key,n.key):(function(o,a,c){let u=a.data.field(o),h=c.data.field(o);return u!==null&&h!==null?Kc(u,h):ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:t.dir})}}var vo=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return ZN(this.inner)}size(){return this.innerSize}};var B5=new Dt(ge.comparator);function yo(){return B5}var dO=new Dt(ge.comparator);function $f(...t){let e=dO;for(let n of t)e=e.insert(n.key,n);return e}function fO(t){let e=dO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function La(){return qf()}function hO(){return qf()}function qf(){return new vo(t=>t.toString(),(t,e)=>t.isEqual(e))}var j5=new Dt(ge.comparator),U5=new un(ge.comparator);function qe(...t){let e=U5;for(let n of t)e=e.add(n);return e}var $5=new un(Le);function z5(){return $5}function sC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(e)?"-0":e}}function pO(t){return{integerValue:""+t}}function H5(t,e){return y5(e)?pO(e):sC(t,e)}var Jc=class{constructor(){this._=void 0}};function q5(t,e,n){return t instanceof eu?(function(i,o){let a={fields:{[QN]:{stringValue:YN},[JN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&eC(o)&&(o=ry(o)),o&&(a.fields[XN]=o),{mapValue:a}})(n,e):t instanceof $a?gO(t,e):t instanceof za?vO(t,e):(function(i,o){let a=mO(i,o),c=oN(a)+oN(i.Ee);return S0(a)&&S0(i.Ee)?pO(c):sC(i.serializer,c)})(t,e)}function G5(t,e,n){return t instanceof $a?gO(t,e):t instanceof za?vO(t,e):n}function mO(t,e){return t instanceof tu?(function(r){return S0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var eu=class extends Jc{},$a=class extends Jc{constructor(e){super(),this.elements=e}};function gO(t,e){let n=yO(e);for(let r of t.elements)n.some(i=>Ai(i,r))||n.push(r);return{arrayValue:{values:n}}}var za=class extends Jc{constructor(e){super(),this.elements=e}};function vO(t,e){let n=yO(e);for(let r of t.elements)n=n.filter(i=>!Ai(i,r));return{arrayValue:{values:n}}}var tu=class extends Jc{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function oN(t){return vt(t.integerValue||t.doubleValue)}function yO(t){return rC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function W5(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof $a&&i instanceof $a||r instanceof za&&i instanceof za?Gc(r.elements,i.elements,Ai):r instanceof tu&&i instanceof tu?Ai(r.Ee,i.Ee):r instanceof eu&&i instanceof eu})(t.transform,e.transform)}var V0=class{constructor(e,n){this.version=e,this.transformResults=n}},Si=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ev(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var nu=class{};function _O(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xf(t.key,Si.none()):new Ha(t.key,t.data,Si.none());{let n=t.data,r=sr.empty(),i=new un(ar.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Mi(t.key,r,new Er(i.toArray()),Si.none())}}function K5(t,e,n){t instanceof Ha?(function(i,o,a){let c=i.value.clone(),u=aN(i.fieldTransforms,o,a.transformResults);c.setAll(u),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Mi?(function(i,o,a){if(!Ev(i.precondition,o))return void o.convertToUnknownDocument(a.version);let c=aN(i.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(EO(i)),u.setAll(c),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function Gf(t,e,n,r){return t instanceof Ha?(function(o,a,c,u){if(!Ev(o.precondition,a))return c;let h=o.value.clone(),m=lN(o.fieldTransforms,u,a);return h.setAll(m),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Mi?(function(o,a,c,u){if(!Ev(o.precondition,a))return c;let h=lN(o.fieldTransforms,u,a),m=a.data;return m.setAll(EO(o)),m.setAll(h),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))})(t,e,n,r):(function(o,a,c){return Ev(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c})(t,e,n)}function Z5(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=mO(r.transform,i||null);o!=null&&(n===null&&(n=sr.empty()),n.set(r.field,o))}return n||null}function sN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gc(r,i,(o,a)=>W5(o,a))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ha=class extends nu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Mi=class extends nu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function EO(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function aN(t,e,n){let r=new Map;nt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],a=o.transform,c=e.data.field(o.field);r.set(o.field,G5(a,c,n[i]))}return r}function lN(t,e,n){let r=new Map;for(let i of t){let o=i.transform,a=n.data.field(i.field);r.set(i.field,q5(o,a,e))}return r}var Xf=class extends nu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},B0=class extends nu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var j0=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&K5(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gf(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Gf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=hO();return this.mutations.forEach(i=>{let o=e.get(i.key),a=o.overlayedDocument,c=this.applyToLocalView(a,o.mutatedFields);c=n.has(i.key)?null:c;let u=_O(a,c);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qe())}isEqual(e){return this.batchId===e.batchId&&Gc(this.mutations,e.mutations,(n,r)=>sN(n,r))&&Gc(this.baseMutations,e.baseMutations,(n,r)=>sN(n,r))}},U0=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){nt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return j5})(),o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)}};var $0=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var z0=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var jt,Ye;function Y5(t){switch(t){case q.OK:return ve(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return ve(15467,{code:t})}}function IO(t){if(t===void 0)return po("GRPC error has no .code"),q.UNKNOWN;switch(t){case jt.OK:return q.OK;case jt.CANCELLED:return q.CANCELLED;case jt.UNKNOWN:return q.UNKNOWN;case jt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case jt.INTERNAL:return q.INTERNAL;case jt.UNAVAILABLE:return q.UNAVAILABLE;case jt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case jt.NOT_FOUND:return q.NOT_FOUND;case jt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case jt.ABORTED:return q.ABORTED;case jt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case jt.DATA_LOSS:return q.DATA_LOSS;default:return ve(39323,{code:t})}}(Ye=jt||(jt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";var cN=null;var Q5=new fo([4294967295,4294967295],0);function uN(t){let e=RN().encode(t),n=new o0;return n.update(e),new Uint8Array(n.digest())}function dN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fo([n,r],0),new fo([i,o],0)]}var H0=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fa(`Invalid padding: ${n}`);if(r<0)throw new Fa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fa(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=fo.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(fo.fromNumber(r)));return i.compare(Q5)===1&&(i=new fo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=uN(e),[r,i]=dN(n);for(let o=0;o<this.hashCount;o++){let a=this.pe(r,i,o);if(!this.ye(a))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new t(o,i,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.fe===0)return;let n=uN(e),[r,i]=dN(n);for(let o=0;o<this.hashCount;o++){let a=this.pe(r,i,o);this.we(a)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Fa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var xv=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Jf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Re.min(),i,new Dt(Le),yo(),qe())}},Jf=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,qe(),qe(),qe())}};var zc=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},Mv=class{constructor(e,n){this.targetId=e,this.De=n}},Pv=class{constructor(e,n,r=Cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Rv=class{constructor(){this.ve=0,this.Ce=fN(),this.Fe=Cn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=qe(),n=qe(),r=qe();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ve(38017,{changeType:o})}}),new Jf(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=fN()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},q0=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=yo(),this.je=gv(),this.Je=gv(),this.He=new Dt(Le)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(L0(o))if(r===0){let a=new ge(o.path);this.Xe(n,a,Br.newNoDocument(a,Re.min()))}else nt(r===1,20013,{expectedCount:r});else{let a=this.ot(n);if(a!==r){let c=this._t(e),u=c?this.ut(c,e,a):1;if(u!==0){this.rt(n);let h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,h)}cN?.ct((function(m,v,I,E,C){var N,k,B,z,H,ee;let ie={localCacheCount:m,existenceFilterCount:v.count,databaseId:I.database,projectId:I.projectId},ne=v.unchangedNames;return ne&&(ie.bloomFilter={applied:C===0,hashCount:(N=ne?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(z=(B=(k=ne?.bits)===null||k===void 0?void 0:k.bitmap)===null||B===void 0?void 0:B.length)!==null&&z!==void 0?z:0,padding:(ee=(H=ne?.bits)===null||H===void 0?void 0:H.padding)!==null&&ee!==void 0?ee:0,mightContain:R=>{var T;return(T=E?.mightContain(R))!==null&&T!==void 0&&T}}),ie})(a,e.De,this.We.lt(),c,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,a,c;try{a=go(r).toUint8Array()}catch(u){if(u instanceof Cv)return ws("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new H0(a,i,o)}catch(u){return ws(u instanceof Fa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let a=this.We.lt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,a)=>{let c=this.st(a);if(c){if(o.current&&L0(c.target)){let u=new ge(c.target.path);this.Tt(u).has(a)||this.It(a,u)||this.Xe(a,u,Br.newNoDocument(u,e))}o.Ne&&(n.set(a,o.Le()),o.ke())}});let r=qe();this.Je.forEach((o,a)=>{let c=!0;a.forEachWhile(u=>{let h=this.st(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,a)=>a.setReadTime(e));let i=new xv(e,n,this.He,this.ze,r);return this.ze=yo(),this.je=gv(),this.Je=gv(),this.He=new Dt(Le),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Rv,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new un(Le),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new un(Le),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Rv),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function gv(){return new Dt(ge.comparator)}function fN(){return new Dt(ge.comparator)}var X5={asc:"ASCENDING",desc:"DESCENDING"},J5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eW={and:"AND",or:"OR"},G0=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function W0(t,e){return t.useProto3Json||ny(e)?e:{value:e}}function Nv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tW(t,e){return Nv(t,e.toTimestamp())}function Di(t){return nt(!!t,49232),Re.fromTimestamp((function(n){let r=mo(n);return new zt(r.seconds,r.nanos)})(t))}function aC(t,e){return K0(t,e).canonicalString()}function K0(t,e){let n=(function(i){return new wt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function bO(t){let e=wt.fromString(t);return nt(AO(e),10190,{key:e.toString()}),e}function Z0(t,e){return aC(t.databaseId,e.path)}function d0(t,e){let n=bO(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(CO(n))}function TO(t,e){return aC(t.databaseId,e)}function nW(t){let e=bO(t);return e.length===4?wt.emptyPath():CO(e)}function Y0(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CO(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hN(t,e,n){return{name:Z0(t,e),fields:n.value.mapValue.fields}}function rW(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ve(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(h,m){return h.useProto3Json?(nt(m===void 0||typeof m=="string",58123),Cn.fromBase64String(m||"")):(nt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Cn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&(function(h){let m=h.code===void 0?q.UNKNOWN:IO(h.code);return new ae(m,h.message||"")})(a);n=new Pv(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=d0(t,r.document.name),o=Di(r.document.updateTime),a=r.document.createTime?Di(r.document.createTime):Re.min(),c=new sr({mapValue:{fields:r.document.fields}}),u=Br.newFoundDocument(i,o,a,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new zc(h,m,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=d0(t,r.document),o=r.readTime?Di(r.readTime):Re.min(),a=Br.newNoDocument(i,o),c=r.removedTargetIds||[];n=new zc([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=d0(t,r.document),o=r.removedTargetIds||[];n=new zc([],o,i,null)}else{if(!("filter"in e))return ve(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,a=new z0(i,o),c=r.targetId;n=new Mv(c,a)}}return n}function iW(t,e){let n;if(e instanceof Ha)n={update:hN(t,e.key,e.value)};else if(e instanceof Xf)n={delete:Z0(t,e.key)};else if(e instanceof Mi)n={update:hN(t,e.key,e.data),updateMask:hW(e.fieldMask)};else{if(!(e instanceof B0))return ve(16599,{Rt:e.type});n={verify:Z0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,a){let c=a.transform;if(c instanceof eu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof $a)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof za)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof tu)return{fieldPath:a.field.canonicalString(),increment:c.Ee};throw ve(20930,{transform:a.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:tW(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ve(27497)})(t,e.precondition)),n}function oW(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map(n=>(function(i,o){let a=i.updateTime?Di(i.updateTime):Di(o);return a.isEqual(Re.min())&&(a=Di(o)),new V0(a,i.transformResults||[])})(n,e))):[]}function sW(t,e){return{documents:[TO(t,e.path)]}}function aW(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TO(t,i);let o=(function(h){if(h.length!==0)return DO(xi.create(h,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let a=(function(h){if(h.length!==0)return h.map(m=>(function(I){return{field:jc(I.field),direction:uW(I.dir)}})(m))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);let c=W0(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{Vt:n,parent:i}}function lW(t){let e=nW(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){nt(r===1,65062);let m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(v){let I=SO(v);return I instanceof xi&&oO(I)?I.getFilters():[I]})(n.where));let a=[];n.orderBy&&(a=(function(v){return v.map(I=>(function(C){return new Qc(Uc(C.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(I))})(n.orderBy));let c=null;n.limit&&(c=(function(v){let I;return I=typeof v=="object"?v.value:v,ny(I)?null:I})(n.limit));let u=null;n.startAt&&(u=(function(v){let I=!!v.before,E=v.values||[];return new Yc(E,I)})(n.startAt));let h=null;return n.endAt&&(h=(function(v){let I=!v.before,E=v.values||[];return new Yc(E,I)})(n.endAt)),O5(e,i,a,o,c,"F",u,h)}function cW(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SO(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Uc(n.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Uc(n.unaryFilter.field);return Qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Uc(n.unaryFilter.field);return Qt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=Uc(n.unaryFilter.field);return Qt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Qt.create(Uc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return xi.create(n.compositeFilter.filters.map(r=>SO(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(t):ve(30097,{filter:t})}function uW(t){return X5[t]}function dW(t){return J5[t]}function fW(t){return eW[t]}function jc(t){return{fieldPath:t.canonicalString()}}function Uc(t){return ar.fromServerFormat(t.fieldPath)}function DO(t){return t instanceof Qt?(function(n){if(n.op==="=="){if(eN(n.value))return{unaryFilter:{field:jc(n.field),op:"IS_NAN"}};if(JR(n.value))return{unaryFilter:{field:jc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eN(n.value))return{unaryFilter:{field:jc(n.field),op:"IS_NOT_NAN"}};if(JR(n.value))return{unaryFilter:{field:jc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jc(n.field),op:dW(n.op),value:n.value}}})(t):t instanceof xi?(function(n){let r=n.getFilters().map(i=>DO(i));return r.length===1?r[0]:{compositeFilter:{op:fW(n.op),filters:r}}})(t):ve(54877,{filter:t})}function hW(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var eh=class t{constructor(e,n,r,i,o=Re.min(),a=Re.min(),c=Cn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Q0=class{constructor(e){this.gt=e}};function pW(t){let e=lW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?F0(e,e.limit,"L"):e}var Ov=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(vt(e.integerValue));else if("doubleValue"in e){let r=vt(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Zf(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=mo(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(go(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?nO(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):tO(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):ve(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let a=Wc,c=((i=(r=o[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(vt(c)),this.xt(a,n),this.Dt(o[a],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),ge.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};Ov.Ut=new Ov;var X0=class{constructor(){this.Dn=new J0}addToCollectionParentIndex(e,n){return this.Dn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Ua.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Ua.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}},J0=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new un(wt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new un(wt.comparator)).toArray()}};var upe=new Uint8Array(0);var pN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xO=41943040,_r=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(xO,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);var th=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var mN="LruGarbageCollector",mW=1048576;function gN([t,e],[n,r]){let i=Le(t,n);return i===0?Le(e,r):i}var eT=class{constructor(e){this.Tr=e,this.buffer=new un(gN),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();gN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},tT=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){re(mN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>A(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){lu(n)?re(mN,"Ignoring IndexedDB error during garbage collection: ",n):yield au(n)}yield this.Rr(3e5)}))}},nT=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(XT.ue);let r=new eT(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(pN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pN):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,a,c,u,h,m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,a=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,n))).next(v=>(o=v,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(h=Date.now(),Vc()<=Ue.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${i} in `+(c-a)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${v} documents in `+(h-u)+`ms
Total Duration: ${h-m}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v})))}};function gW(t,e){return new nT(t,e)}var rT=class{constructor(){this.changes=new vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Br.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var iT=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var oT=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Gf(r.mutation,i,Er.empty(),zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=qe()){let i=La();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=$f();return o.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){let r=La();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,qe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let o=yo(),a=qf(),c=(function(){return qf()})();return n.forEach((u,h)=>{let m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof Mi)?o=o.insert(h.key,h):m!==void 0?(a.set(h.key,m.mutation.getFieldMask()),Gf(m.mutation,h,m.mutation.getFieldMask(),zt.now())):a.set(h.key,Er.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,m)=>a.set(h,m)),n.forEach((h,m)=>{var v;return c.set(h,new iT(m,(v=a.get(h))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){let r=qf(),i=new Dt((a,c)=>a-c),o=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(let c of a)c.keys().forEach(u=>{let h=n.get(u);if(h===null)return;let m=r.get(u)||Er.empty();m=c.applyToLocalView(h,m),r.set(u,m);let v=(i.get(c.batchId)||qe()).add(u);i=i.insert(c.batchId,v)})}).next(()=>{let a=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),h=u.key,m=u.value,v=hO();m.forEach(I=>{if(!o.has(I)){let E=_O(n.get(I),r.get(I));E!==null&&v.set(I,E),o=o.add(I)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,v))}return Z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return ge.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):k5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Z.resolve(La()),c=Kf,u=o;return a.next(h=>Z.forEach(h,(m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(m)?Z.resolve():this.remoteDocumentCache.getEntry(e,m).next(I=>{u=u.insert(m,I)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,qe())).next(m=>({batchId:c,changes:fO(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let i=$f();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,a=$f();return this.indexManager.getCollectionParents(e,o).next(c=>Z.forEach(c,u=>{let h=(function(v,I){return new Xc(I,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((v,I)=>{a=a.insert(v,I)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((u,h)=>{let m=h.getKey();a.get(m)===null&&(a=a.insert(m,Br.newInvalidDocument(m)))});let c=$f();return a.forEach((u,h)=>{let m=o.get(u);m!==void 0&&Gf(m.mutation,h,Er.empty(),zt.now()),sy(n,h)&&(c=c.insert(u,h))}),c})}};var sT=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Di(i.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:pW(i.bundledQuery),readTime:Di(i.readTime)}})(n)),Z.resolve()}};var aT=class{constructor(){this.overlays=new Dt(ge.comparator),this.kr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){let r=La();return Z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){let i=La(),o=n.length+1,a=new ge(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){let u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Dt((h,m)=>h-m),a=this.overlays.getIterator();for(;a.hasNext();){let h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=o.get(h.largestBatchId);m===null&&(m=La(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}let c=La(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,m)=>c.set(h,m)),!(c.size()>=i)););return Z.resolve(c)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let a=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new $0(n,r));let o=this.kr.get(n);o===void 0&&(o=qe(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var lT=class{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}};var nh=class{constructor(){this.qr=new un(Ut.Qr),this.$r=new un(Ut.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Ut(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ut(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new ge(new wt([])),r=new Ut(n,e),i=new Ut(n,e+1),o=[];return this.$r.forEachInRange([r,i],a=>{this.Wr(a),o.push(a.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new ge(new wt([])),r=new Ut(n,e),i=new Ut(n,e+1),o=qe();return this.$r.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){let n=new Ut(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ut=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ge.comparator(e.key,n.key)||Le(e.Hr,n.Hr)}static Ur(e,n){return Le(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}};var cT=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new un(Ut.Qr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new j0(o,n,r,i);this.mutationQueue.push(a);for(let c of i)this.Yr=this.Yr.add(new Ut(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Z.resolve(a)}lookupMutationBatch(e,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?JT:this.er-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],a=>{let c=this.Zr(a.Hr);o.push(c)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(Le);return n.forEach(i=>{let o=new Ut(i,0),a=new Ut(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,a],c=>{r=r.add(c.Hr)})}),Z.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ge.isDocumentKey(o)||(o=o.child(""));let a=new Ut(new ge(o),0),c=new un(Le);return this.Yr.forEachWhile(u=>{let h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(u.Hr)),!0)},a),Z.resolve(this.ei(c))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){nt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Z.forEach(n.mutations,i=>{let o=new Ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Ut(n,0),i=this.Yr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var uT=class{constructor(e){this.ni=e,this.docs=(function(){return new Dt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Br.newInvalidDocument(n))}getEntries(e,n){let r=yo();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Br.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=yo(),a=n.path,c=new ge(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:h,value:{document:m}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||m5(p5(m),r)<=0||(i.has(m.key)||sy(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ve(9500)}ri(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dT(this)}getSize(e){return Z.resolve(this.size)}},dT=class extends rT{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var fT=class{constructor(e){this.persistence=e,this.ii=new vo(n=>iC(n),oC),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.si=0,this.oi=new nh,this.targetCount=0,this._i=th.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Z.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new th(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.hr(n),Z.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(a),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Z.waitFor(o).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.oi.containsKey(n))}};var kv=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new XT(0),this.ci=!1,this.ci=!0,this.li=new lT,this.referenceDelegate=e(this),this.hi=new fT(this),this.indexManager=new X0,this.remoteDocumentCache=(function(i){return new uT(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new Q0(n),this.Ti=new sT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new cT(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);let i=new hT(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return Z.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},hT=class extends b0{constructor(e){super(),this.currentSequenceNumber=e}},pT=class t{constructor(e){this.persistence=e,this.Ai=new nh,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw ve(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.mi,r=>{let i=ge.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,Re.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Z.or([()=>Z.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Lv=class t{constructor(e,n){this.persistence=e,this.gi=new vo(r=>_5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=gW(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Z.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?Z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,a=>this.Sr(e,a,n).next(c=>{c||(r++,o.removeEntry(a,Re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Z.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yv(e.data.value)),n}Sr(e,n,r){return Z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return Z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var mT=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=qe(),i=qe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var gT=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var vT=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return s1()?8:v5(ln())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;let a=new gT;return this.ws(e,n,a).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,a,c.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Vc()<=Ue.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Bc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Vc()<=Ue.DEBUG&&re("QueryEngine","Query:",Bc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Vc()<=Ue.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Bc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):Z.resolve())}ps(e,n){if(iN(n))return Z.resolve(null);let r=Ci(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=F0(n,null,"F"),r=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let a=qe(...o);return this.gs.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let h=this.bs(n,c);return this.Ds(n,h,a,u.readTime)?this.ps(e,F0(n,null,"F")):this.vs(e,h,n,u)}))})))}ys(e,n,r,i){return iN(n)||i.isEqual(Re.min())?Z.resolve(null):this.gs.getDocuments(e,r).next(o=>{let a=this.bs(n,o);return this.Ds(n,a,r,i)?Z.resolve(null):(Vc()<=Ue.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bc(n)),this.vs(e,a,n,h5(i,Kf)).next(c=>c))})}bs(e,n){let r=new un(uO(e));return n.forEach((i,o)=>{sy(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Vc()<=Ue.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Bc(n)),this.gs.getDocumentsMatchingQuery(e,n,Ua.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}};var lC="LocalStore",vW=3e8,yT=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Dt(Le),this.Ms=new vo(o=>iC(o),oC),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oT(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function yW(t,e,n,r){return new yT(t,e,n,r)}function MO(t,e){return A(this,null,function*(){let n=Ae(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let a=[],c=[],u=qe();for(let h of i){a.push(h.batchId);for(let m of h.mutations)u=u.add(m.key)}for(let h of o){c.push(h.batchId);for(let m of h.mutations)u=u.add(m.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Bs:h,removedBatchIds:a,addedBatchIds:c}))})})})}function _W(t,e){let n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(c,u,h,m){let v=h.batch,I=v.keys(),E=Z.resolve();return I.forEach(C=>{E=E.next(()=>m.getEntry(u,C)).next(N=>{let k=h.docVersions.get(C);nt(k!==null,48541),N.version.compareTo(k)<0&&(v.applyToRemoteDocument(N,h),N.isValidDocument()&&(N.setReadTime(h.commitVersion),m.addEntry(N)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(u,v))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=qe();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function PO(t){let e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function EW(t,e){let n=Ae(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let a=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let c=[];e.targetChanges.forEach((m,v)=>{let I=i.get(v);if(!I)return;c.push(n.hi.removeMatchingKeys(o,m.removedDocuments,v).next(()=>n.hi.addMatchingKeys(o,m.addedDocuments,v)));let E=I.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(Cn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),i=i.insert(v,E),(function(N,k,B){return N.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=vW?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(I,E,m)&&c.push(n.hi.updateTargetData(o,E))});let u=yo(),h=qe();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(IW(o,a,e.documentUpdates).next(m=>{u=m.Ls,h=m.ks})),!r.isEqual(Re.min())){let m=n.hi.getLastRemoteSnapshotVersion(o).next(v=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(m)}return Z.waitFor(c).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,h)).next(()=>u)}).then(o=>(n.Fs=i,o))}function IW(t,e,n){let r=qe(),i=qe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=yo();return n.forEach((c,u)=>{let h=o.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Re.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):re(lC,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)}),{Ls:a,ks:i}})}function wW(t,e){let n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=JT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bW(t,e){let n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,Z.resolve(i)):n.hi.allocateTargetId(r).next(a=>(i=new eh(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function _T(t,e,n){return A(this,null,function*(){let r=Ae(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!lu(a))throw a;re(lC,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function vN(t,e,n){let r=Ae(t),i=Re.min(),o=qe();return r.persistence.runTransaction("Execute query","readwrite",a=>(function(u,h,m){let v=Ae(u),I=v.Ms.get(m);return I!==void 0?Z.resolve(v.Fs.get(I)):v.hi.getTargetData(h,m)})(r,a,Ci(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(a,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:Re.min(),n?o:qe())).next(c=>(TW(r,F5(e),c),{documents:c,qs:o})))}function TW(t,e,n){let r=t.xs.get(e)||Re.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var Fv=class{constructor(){this.activeTargetIds=z5()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var ET=class{constructor(){this.Fo=new Fv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Fv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var IT=class{xo(e){}shutdown(){}};var yN="ConnectivityMonitor",Vv=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){re(yN,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){re(yN,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var vv=null;function wT(){return vv===null?vv=(function(){return 268435456+Math.round(2147483648*Math.random())})():vv++,"0x"+vv.toString(16)}var f0="RestConnection",CW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},bT=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Sv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let a=wT(),c=this.Go(e,n.toUriEncodedString());re(f0,`Sending RPC '${e}' ${a}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:h}=new URL(c),m=as(h);return this.jo(e,c,u,r,m).then(v=>(re(f0,`Received RPC '${e}' ${a}: `,v),v),v=>{throw ws(f0,`RPC '${e}' ${a} failed with error: `,v,"url: ",c,"request:",r),v})}Jo(e,n,r,i,o,a){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+su})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=CW[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var TT=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Tn="WebChannelConnection",CT=class extends bT{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let a=wT();return new Promise((c,u)=>{let h=new s0;h.setWithCredentials(!0),h.listenOnce(a0.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Uf.NO_ERROR:let v=h.getResponseJson();re(Tn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),c(v);break;case Uf.TIMEOUT:re(Tn,`RPC '${e}' ${a} timed out`),u(new ae(q.DEADLINE_EXCEEDED,"Request time out"));break;case Uf.HTTP_ERROR:let I=h.getStatus();if(re(Tn,`RPC '${e}' ${a} failed with status:`,I,"response text:",h.getResponseText()),I>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);let C=E?.error;if(C&&C.status&&C.message){let N=(function(B){let z=B.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(z)>=0?z:q.UNKNOWN})(C.status);u(new ae(N,C.message))}else u(new ae(q.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ae(q.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{c_:e,streamId:a,l_:h.getLastErrorCode(),h_:h.getLastError()})}}finally{re(Tn,`RPC '${e}' ${a} completed.`)}});let m=JSON.stringify(i);re(Tn,`RPC '${e}' ${a} sending request:`,i),h.send(n,"POST",m,r,15)})}P_(e,n,r){let i=wT(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=u0(),c=c0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let m=o.join("");re(Tn,`Creating RPC '${e}' stream ${i}: ${m}`,u);let v=a.createWebChannel(m,u);this.T_(v);let I=!1,E=!1,C=new TT({Ho:k=>{E?re(Tn,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(I||(re(Tn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),I=!0),re(Tn,`RPC '${e}' stream ${i} sending:`,k),v.send(k))},Yo:()=>v.close()}),N=(k,B,z)=>{k.listen(B,H=>{try{z(H)}catch(ee){setTimeout(()=>{throw ee},0)}})};return N(v,Fc.EventType.OPEN,()=>{E||(re(Tn,`RPC '${e}' stream ${i} transport opened.`),C.s_())}),N(v,Fc.EventType.CLOSE,()=>{E||(E=!0,re(Tn,`RPC '${e}' stream ${i} transport closed`),C.__(),this.I_(v))}),N(v,Fc.EventType.ERROR,k=>{E||(E=!0,ws(Tn,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),C.__(new ae(q.UNAVAILABLE,"The operation could not be completed")))}),N(v,Fc.EventType.MESSAGE,k=>{var B;if(!E){let z=k.data[0];nt(!!z,16349);let H=z,ee=H?.error||((B=H[0])===null||B===void 0?void 0:B.error);if(ee){re(Tn,`RPC '${e}' stream ${i} received error:`,ee);let ie=ee.status,ne=(function(S){let D=jt[S];if(D!==void 0)return IO(D)})(ie),R=ee.message;ne===void 0&&(ne=q.INTERNAL,R="Unknown error status: "+ie+" with message "+ee.message),E=!0,C.__(new ae(ne,R)),v.close()}else re(Tn,`RPC '${e}' stream ${i} received:`,z),C.a_(z)}}),N(c,l0.STAT_EVENT,k=>{k.stat===pv.PROXY?re(Tn,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===pv.NOPROXY&&re(Tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function h0(){return typeof document<"u"?document:null}function ay(t){return new G0(t,!0)}var Bv=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var _N="PersistentStream",jv=class{constructor(e,n,r,i,o,a,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Bv(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return A(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return A(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return A(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(po(n.toString()),po("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new ae(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>A(this,null,function*(){this.state=0,this.start()}))}G_(e){return re(_N,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(re(_N,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ST=class extends jv{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=rW(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Re.min();let a=o.targetChange;return a.targetIds&&a.targetIds.length?Re.min():a.readTime?Di(a.readTime):Re.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=Y0(this.serializer),n.addTarget=(function(o,a){let c,u=a.target;if(c=L0(u)?{documents:sW(o,u)}:{query:aW(o,u).Vt},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=wO(o,a.resumeToken);let h=W0(o,a.expectedCount);h!==null&&(c.expectedCount=h)}else if(a.snapshotVersion.compareTo(Re.min())>0){c.readTime=Nv(o,a.snapshotVersion.toTimestamp());let h=W0(o,a.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);let r=cW(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=Y0(this.serializer),n.removeTarget=e,this.k_(n)}},DT=class extends jv{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=oW(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=Y0(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>iW(this.serializer,r))};this.k_(n)}};var AT=class{},xT=class extends AT{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new ae(q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,K0(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(q.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Jo(e,K0(n,r),i,a,c,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(q.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},MT=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(po(n),this._a=!1):re("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var qa="RemoteStore",PT=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(a=>{r.enqueueAndForget(()=>A(this,null,function*(){Ga(this)&&(re(qa,"Restarting streams for network reachability change."),yield(function(u){return A(this,null,function*(){let h=Ae(u);h.Ia.add(4),yield oh(h),h.Aa.set("Unknown"),h.Ia.delete(4),yield ly(h)})})(this))}))}),this.Aa=new MT(r,i)}};function ly(t){return A(this,null,function*(){if(Ga(t))for(let e of t.da)yield e(!0)})}function oh(t){return A(this,null,function*(){for(let e of t.da)yield e(!1)})}function RO(t,e){let n=Ae(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),fC(n)?dC(n):cu(n).x_()&&uC(n,e))}function cC(t,e){let n=Ae(t),r=cu(n);n.Ta.delete(e),r.x_()&&NO(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ga(n)&&n.Aa.set("Unknown"))}function uC(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cu(t).H_(e)}function NO(t,e){t.Ra.$e(e),cu(t).Y_(e)}function dC(t){t.Ra=new q0({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),cu(t).start(),t.Aa.aa()}function fC(t){return Ga(t)&&!cu(t).M_()&&t.Ta.size>0}function Ga(t){return Ae(t).Ia.size===0}function OO(t){t.Ra=void 0}function SW(t){return A(this,null,function*(){t.Aa.set("Online")})}function DW(t){return A(this,null,function*(){t.Ta.forEach((e,n)=>{uC(t,e)})})}function AW(t,e){return A(this,null,function*(){OO(t),fC(t)?(t.Aa.la(e),dC(t)):t.Aa.set("Unknown")})}function xW(t,e,n){return A(this,null,function*(){if(t.Aa.set("Online"),e instanceof Pv&&e.state===2&&e.cause)try{yield(function(i,o){return A(this,null,function*(){let a=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(yield i.remoteSyncer.rejectListen(c,a),i.Ta.delete(c),i.Ra.removeTarget(c))})})(t,e)}catch(r){re(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Uv(t,r)}else if(e instanceof zc?t.Ra.Ye(e):e instanceof Mv?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Re.min()))try{let r=yield PO(t.localStore);n.compareTo(r)>=0&&(yield(function(o,a){let c=o.Ra.Pt(a);return c.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){let m=o.Ta.get(h);m&&o.Ta.set(h,m.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,h)=>{let m=o.Ta.get(u);if(!m)return;o.Ta.set(u,m.withResumeToken(Cn.EMPTY_BYTE_STRING,m.snapshotVersion)),NO(o,u);let v=new eh(m.target,u,h,m.sequenceNumber);uC(o,v)}),o.remoteSyncer.applyRemoteEvent(c)})(t,n))}catch(r){re(qa,"Failed to raise snapshot:",r),yield Uv(t,r)}})}function Uv(t,e,n){return A(this,null,function*(){if(!lu(e))throw e;t.Ia.add(1),yield oh(t),t.Aa.set("Offline"),n||(n=()=>PO(t.localStore)),t.asyncQueue.enqueueRetryable(()=>A(null,null,function*(){re(qa,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield ly(t)}))})}function kO(t,e){return e().catch(n=>Uv(t,n,e))}function cy(t){return A(this,null,function*(){let e=Ae(t),n=Ts(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:JT;for(;MW(e);)try{let i=yield wW(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,PW(e,i)}catch(i){yield Uv(e,i)}LO(e)&&FO(e)})}function MW(t){return Ga(t)&&t.Pa.length<10}function PW(t,e){t.Pa.push(e);let n=Ts(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function LO(t){return Ga(t)&&!Ts(t).M_()&&t.Pa.length>0}function FO(t){Ts(t).start()}function RW(t){return A(this,null,function*(){Ts(t).na()})}function NW(t){return A(this,null,function*(){let e=Ts(t);for(let n of t.Pa)e.X_(n.mutations)})}function OW(t,e,n){return A(this,null,function*(){let r=t.Pa.shift(),i=U0.from(r,e,n);yield kO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield cy(t)})}function kW(t,e){return A(this,null,function*(){e&&Ts(t).Z_&&(yield(function(r,i){return A(this,null,function*(){if((function(a){return Y5(a)&&a!==q.ABORTED})(i.code)){let o=r.Pa.shift();Ts(r).N_(),yield kO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield cy(r)}})})(t,e)),LO(t)&&FO(t)})}function EN(t,e){return A(this,null,function*(){let n=Ae(t);n.asyncQueue.verifyOperationInProgress(),re(qa,"RemoteStore received new credentials");let r=Ga(n);n.Ia.add(3),yield oh(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield ly(n)})}function LW(t,e){return A(this,null,function*(){let n=Ae(t);e?(n.Ia.delete(2),yield ly(n)):e||(n.Ia.add(2),yield oh(n),n.Aa.set("Unknown"))})}function cu(t){return t.Va||(t.Va=(function(n,r,i){let o=Ae(n);return o.ia(),new ST(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:SW.bind(null,t),e_:DW.bind(null,t),n_:AW.bind(null,t),J_:xW.bind(null,t)}),t.da.push(e=>A(null,null,function*(){e?(t.Va.N_(),fC(t)?dC(t):t.Aa.set("Unknown")):(yield t.Va.stop(),OO(t))}))),t.Va}function Ts(t){return t.ma||(t.ma=(function(n,r,i){let o=Ae(n);return o.ia(),new DT(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:RW.bind(null,t),n_:kW.bind(null,t),ea:NW.bind(null,t),ta:OW.bind(null,t)}),t.da.push(e=>A(null,null,function*(){e?(t.ma.N_(),yield cy(t)):(yield t.ma.stop(),t.Pa.length>0&&(re(qa,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var RT=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let a=Date.now()+r,c=new t(e,n,a,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function hC(t,e){if(po("AsyncQueue",`${e}: ${t}`),lu(t))return new ae(q.UNAVAILABLE,`${e}: ${t}`);throw t}var $v=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=$f(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var zv=class{constructor(){this.fa=new Dt(ge.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):ve(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},ru=class t{constructor(e,n,r,i,o,a,c,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){let a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new t(e,n,$v.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var NT=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},OT=class{constructor(){this.queries=IN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=Ae(n),o=i.queries;i.queries=IN(),o.forEach((a,c)=>{for(let u of c.wa)u.onError(r)})})(this,new ae(q.ABORTED,"Firestore shutting down"))}};function IN(){return new vo(t=>cO(t),oy)}function VO(t,e){return A(this,null,function*(){let n=Ae(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new NT,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(a){let c=hC(a,`Initialization of query '${Bc(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&pC(n)})}function BO(t,e){return A(this,null,function*(){let n=Ae(t),r=e.query,i=3,o=n.queries.get(r);if(o){let a=o.wa.indexOf(e);a>=0&&(o.wa.splice(a,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function FW(t,e){let n=Ae(t),r=!1;for(let i of e){let o=i.query,a=n.queries.get(o);if(a){for(let c of a.wa)c.Ca(i)&&(r=!0);a.ya=i}}r&&pC(n)}function VW(t,e,n){let r=Ae(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function pC(t){t.Da.forEach(e=>{e.next()})}var kT,wN;(wN=kT||(kT={})).Fa="default",wN.Cache="cache";var Hv=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ru(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==kT.Cache}};var qv=class{constructor(e){this.key=e}},Gv=class{constructor(e){this.key=e}},LT=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=qe(),this.mutatedKeys=qe(),this.Xa=uO(e),this.eu=new $v(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new zv,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,v)=>{let I=i.get(m),E=sy(this.query,v)?v:null,C=!!I&&this.mutatedKeys.has(I.key),N=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),k=!1;I&&E?I.data.isEqual(E.data)?C!==N&&(r.track({type:3,doc:E}),k=!0):this.iu(I,E)||(r.track({type:2,doc:E}),k=!0,(u&&this.Xa(E,u)>0||h&&this.Xa(E,h)<0)&&(c=!0)):!I&&E?(r.track({type:0,doc:E}),k=!0):I&&!E&&(r.track({type:1,doc:I}),k=!0,(u||h)&&(c=!0)),k&&(E?(a=a.add(E),o=N?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{eu:a,ru:r,Ds:c,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let a=e.ru.pa();a.sort((m,v)=>(function(E,C){let N=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{At:k})}};return N(E)-N(C)})(m.type,v.type)||this.Xa(m.doc,v.doc)),this.su(r),i=i!=null&&i;let c=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,h=u!==this.Ya;return this.Ya=u,a.length!==0||h?{snapshot:new ru(this.query,e.eu,o,a,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new zv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=qe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Gv(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new qv(r))}),n}uu(e){this.Ha=e.qs,this.Za=qe();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ru.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},mC="SyncEngine",FT=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},VT=class{constructor(e){this.key=e,this.lu=!1}},BT=class{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new vo(c=>cO(c),oy),this.Tu=new Map,this.Iu=new Set,this.du=new Dt(ge.comparator),this.Eu=new Map,this.Au=new nh,this.Ru={},this.Vu=new Map,this.mu=th.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function BW(t,e,n=!0){return A(this,null,function*(){let r=qO(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield jO(r,e,n,!0),i})}function jW(t,e){return A(this,null,function*(){let n=qO(t);yield jO(n,e,!0,!1)})}function jO(t,e,n,r){return A(this,null,function*(){let i=yield bW(t.localStore,Ci(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield UW(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&RO(t.remoteStore,i),c})}function UW(t,e,n,r,i){return A(this,null,function*(){t.gu=(v,I,E)=>(function(N,k,B,z){return A(this,null,function*(){let H=k.view.nu(B);H.Ds&&(H=yield vN(N.localStore,k.query,!1).then(({documents:R})=>k.view.nu(R,H)));let ee=z&&z.targetChanges.get(k.targetId),ie=z&&z.targetMismatches.get(k.targetId)!=null,ne=k.view.applyChanges(H,N.isPrimaryClient,ee,ie);return TN(N,k.targetId,ne._u),ne.snapshot})})(t,v,I,E);let o=yield vN(t.localStore,e,!0),a=new LT(e,o.qs),c=a.nu(o.documents),u=Jf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=a.applyChanges(c,t.isPrimaryClient,u);TN(t,n,h._u);let m=new FT(e,n,a);return t.Pu.set(e,m),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),h.snapshot})}function $W(t,e,n){return A(this,null,function*(){let r=Ae(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(a=>!oy(a,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _T(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&cC(r.remoteStore,i.targetId),jT(r,i.targetId)}).catch(au))):(jT(r,i.targetId),yield _T(r.localStore,i.targetId,!0))})}function zW(t,e){return A(this,null,function*(){let n=Ae(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),cC(n.remoteStore,r.targetId))})}function HW(t,e,n){return A(this,null,function*(){let r=QW(t);try{let i=yield(function(a,c){let u=Ae(a),h=zt.now(),m=c.reduce((E,C)=>E.add(C.key),qe()),v,I;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let C=yo(),N=qe();return u.Os.getEntries(E,m).next(k=>{C=k,C.forEach((B,z)=>{z.isValidDocument()||(N=N.add(B))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,C)).next(k=>{v=k;let B=[];for(let z of c){let H=Z5(z,v.get(z.key).overlayedDocument);H!=null&&B.push(new Mi(z.key,H,rO(H.value.mapValue),Si.exists(!0)))}return u.mutationQueue.addMutationBatch(E,h,B,c)}).next(k=>{I=k;let B=k.applyToLocalDocumentSet(v,N);return u.documentOverlayCache.saveOverlays(E,k.batchId,B)})}).then(()=>({batchId:I.batchId,changes:fO(v)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,c,u){let h=a.Ru[a.currentUser.toKey()];h||(h=new Dt(Le)),h=h.insert(c,u),a.Ru[a.currentUser.toKey()]=h})(r,i.batchId,n),yield sh(r,i.changes),yield cy(r.remoteStore)}catch(i){let o=hC(i,"Failed to persist write");n.reject(o)}})}function UO(t,e){return A(this,null,function*(){let n=Ae(t);try{let r=yield EW(n.localStore,e);e.targetChanges.forEach((i,o)=>{let a=n.Eu.get(o);a&&(nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.lu=!0:i.modifiedDocuments.size>0?nt(a.lu,14607):i.removedDocuments.size>0&&(nt(a.lu,42227),a.lu=!1))}),yield sh(n,r,e)}catch(r){yield au(r)}})}function bN(t,e,n){let r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,a)=>{let c=a.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(a,c){let u=Ae(a);u.onlineState=c;let h=!1;u.queries.forEach((m,v)=>{for(let I of v.wa)I.va(c)&&(h=!0)}),h&&pC(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qW(t,e,n){return A(this,null,function*(){let r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let a=new Dt(ge.comparator);a=a.insert(o,Br.newNoDocument(o,Re.min()));let c=qe().add(o),u=new xv(Re.min(),new Map,new Dt(Le),a,c);yield UO(r,u),r.du=r.du.remove(o),r.Eu.delete(e),gC(r)}else yield _T(r.localStore,e,!1).then(()=>jT(r,e,n)).catch(au)})}function GW(t,e){return A(this,null,function*(){let n=Ae(t),r=e.batch.batchId;try{let i=yield _W(n.localStore,e);zO(n,r,null),$O(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield sh(n,i)}catch(i){yield au(i)}})}function WW(t,e,n){return A(this,null,function*(){let r=Ae(t);try{let i=yield(function(a,c){let u=Ae(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return u.mutationQueue.lookupMutationBatch(h,c).next(v=>(nt(v!==null,37113),m=v.keys(),u.mutationQueue.removeMutationBatch(h,v))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,m,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>u.localDocuments.getDocuments(h,m))})})(r.localStore,e);zO(r,e,n),$O(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield sh(r,i)}catch(i){yield au(i)}})}function $O(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function zO(t,e,n){let r=Ae(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function jT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||HO(t,r)})}function HO(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(cC(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),gC(t))}function TN(t,e,n){for(let r of n)r instanceof qv?(t.Au.addReference(r.key,e),KW(t,r)):r instanceof Gv?(re(mC,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||HO(t,r.key)):ve(19791,{yu:r})}function KW(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(re(mC,"New document in limbo: "+n),t.Iu.add(r),gC(t))}function gC(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new ge(wt.fromString(e)),r=t.mu.next();t.Eu.set(r,new VT(n)),t.du=t.du.insert(n,r),RO(t.remoteStore,new eh(Ci(iy(n.path)),r,"TargetPurposeLimboResolution",XT.ue))}}function sh(t,e,n){return A(this,null,function*(){let r=Ae(t),i=[],o=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{a.push(r.gu(u,e,n).then(h=>{var m;if((h||n)&&r.isPrimaryClient){let v=h?!h.fromCache:(m=n?.targetChanges.get(u.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(u.targetId,v?"current":"not-current")}if(h){i.push(h);let v=mT.Es(u.targetId,h);o.push(v)}}))}),yield Promise.all(a),r.hu.J_(i),yield(function(u,h){return A(this,null,function*(){let m=Ae(u);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Z.forEach(h,I=>Z.forEach(I.Is,E=>m.persistence.referenceDelegate.addReference(v,I.targetId,E)).next(()=>Z.forEach(I.ds,E=>m.persistence.referenceDelegate.removeReference(v,I.targetId,E)))))}catch(v){if(!lu(v))throw v;re(lC,"Failed to update sequence numbers: "+v)}for(let v of h){let I=v.targetId;if(!v.fromCache){let E=m.Fs.get(I),C=E.snapshotVersion,N=E.withLastLimboFreeSnapshotVersion(C);m.Fs=m.Fs.insert(I,N)}}})})(r.localStore,o))})}function ZW(t,e){return A(this,null,function*(){let n=Ae(t);if(!n.currentUser.isEqual(e)){re(mC,"User change. New user:",e.toKey());let r=yield MO(n.localStore,e);n.currentUser=e,(function(o,a){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new ae(q.CANCELLED,a))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield sh(n,r.Bs)}})}function YW(t,e){let n=Ae(t),r=n.Eu.get(e);if(r&&r.lu)return qe().add(r.key);{let i=qe(),o=n.Tu.get(e);if(!o)return i;for(let a of o){let c=n.Pu.get(a);i=i.unionWith(c.view.tu)}return i}}function qO(t){let e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qW.bind(null,e),e.hu.J_=FW.bind(null,e.eventManager),e.hu.pu=VW.bind(null,e.eventManager),e}function QW(t){let e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WW.bind(null,e),e}var GO=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return A(this,null,function*(){this.serializer=ay(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return yW(this.persistence,new vT,n.initialUser,this.serializer)}Du(n){return new kv(pT.Vi,this.serializer)}bu(n){return new ET}terminate(){return A(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),UT=class extends GO{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){nt(this.persistence.referenceDelegate instanceof Lv,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new tT(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new kv(r=>Lv.Vi(r,n),this.serializer)}};var XW=(()=>{class t{initialize(n,r){return A(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>bN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZW.bind(null,this.syncEngine),yield LW(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return(function(){return new OT})()}createDatastore(n){let r=ay(n.databaseInfo.databaseId),i=(function(a){return new CT(a)})(n.databaseInfo);return(function(a,c,u,h){return new xT(a,c,u,h)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,a,c,u){return new PT(i,o,a,c,u)})(this.localStore,this.datastore,n.asyncQueue,r=>bN(this.syncEngine,r,0),(function(){return Vv.C()?new Vv:new IT})())}createSyncEngine(n,r){return(function(o,a,c,u,h,m,v){let I=new BT(o,a,c,u,h,m);return v&&(I.fu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return A(this,null,function*(){var n,r;yield(function(o){return A(this,null,function*(){let a=Ae(o);re(qa,"RemoteStore shutting down."),a.Ia.add(5),yield oh(a),a.Ea.shutdown(),a.Aa.set("Unknown")})})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Wv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):po("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Cs="FirestoreClient",$T=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=Wf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,a=>A(this,null,function*(){re(Cs,"Received user=",a.uid),yield this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,a=>(re(Cs,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>A(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=hC(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function p0(t,e){return A(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),re(Cs,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>A(null,null,function*(){r.isEqual(i)||(yield MO(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{ws("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{re("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ws("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function CN(t,e){return A(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield JW(t);re(Cs,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>EN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>EN(e.remoteStore,i)),t._onlineComponents=e})}function JW(t){return A(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(Cs,"Using user provided OfflineComponentProvider");try{yield p0(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ws("Error using user provided cache. Falling back to memory cache: "+n),yield p0(t,new GO)}}else re(Cs,"Using default OfflineComponentProvider"),yield p0(t,new UT(void 0));return t._offlineComponents})}function WO(t){return A(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(Cs,"Using user provided OnlineComponentProvider"),yield CN(t,t._uninitializedComponentsProvider._online)):(re(Cs,"Using default OnlineComponentProvider"),yield CN(t,new XW))),t._onlineComponents})}function e6(t){return WO(t).then(e=>e.syncEngine)}function zT(t){return A(this,null,function*(){let e=yield WO(t),n=e.eventManager;return n.onListen=BW.bind(null,e.syncEngine),n.onUnlisten=$W.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zW.bind(null,e.syncEngine),n})}function t6(t,e,n={}){let r=new bi;return t.asyncQueue.enqueueAndForget(()=>A(null,null,function*(){return(function(o,a,c,u,h){let m=new Wv({next:I=>{m.Ou(),a.enqueueAndForget(()=>BO(o,v));let E=I.docs.has(c);!E&&I.fromCache?h.reject(new ae(q.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&I.fromCache&&u&&u.source==="server"?h.reject(new ae(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(I)},error:I=>h.reject(I)}),v=new Hv(iy(c.path),m,{includeMetadataChanges:!0,ka:!0});return VO(o,v)})(yield zT(t),t.asyncQueue,e,n,r)})),r.promise}function KO(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var SN=new Map;var ZO="firestore.googleapis.com",DN=!0,Kv=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZO,this.ssl=DN}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:DN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mW)throw new ae(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},iu=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new m0;switch(r.type){case"firstParty":return new _0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return A(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=SN.get(n);r&&(re("ComponentProvider","Removing Datastore"),SN.delete(n),r.terminate())})(this),Promise.resolve()}};function YO(t,e,n,r={}){var i;t=Ir(t,iu);let o=as(e),a=t._getSettings(),c=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Ug(`https://${u}`),$g("Firestore",!0)),a.host!==ZO&&a.host!==u&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let h=Object.assign(Object.assign({},a),{host:u,ssl:o,emulatorOptions:r});if(!yi(h,c)&&(t._setSettings(h),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=cn.MOCK_USER;else{m=e1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new ae(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new cn(I)}t._authCredentials=new g0(new Iv(m,v))}}var Zv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},dn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ih(n,t._jsonSchema))return new t(e,r||null,new ge(wt.fromString(n.referencePath)))}};dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:$t("string",dn._jsonSchemaVersion),referencePath:$t("string")};var ys=class t extends Zv{constructor(e,n,r){super(e,n,iy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ge(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function QO(t,e,...n){if(t=Rt(t),NN("collection","path",e),t instanceof iu){let r=wt.fromString(e,...n);return GR(r),new ys(t,null,r)}{if(!(t instanceof dn||t instanceof ys))throw new ae(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(wt.fromString(e,...n));return GR(r),new ys(t.firestore,null,r)}}function vC(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=Wf.newId()),NN("doc","path",e),t instanceof iu){let r=wt.fromString(e,...n);return qR(r),new dn(t,null,new ge(r))}{if(!(t instanceof dn||t instanceof ys))throw new ae(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(wt.fromString(e,...n));return qR(r),new dn(t.firestore,t instanceof ys?t.converter:null,new ge(r))}}var AN="AsyncQueue",Yv=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Bv(this,"async_queue_retry"),this.oc=()=>{let r=h0();r&&re(AN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=h0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=h0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new bi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return A(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!lu(e))throw e;re(AN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,po("INTERNAL UNHANDLED ERROR: ",xN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=RT.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ve(47125,{hc:xN(this.tc)})}verifyOperationInProgress(){}Pc(){return A(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function xN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function MN(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var Pi=class extends iu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Yv,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return A(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Yv(e),this._firestoreClient=void 0,yield e}})}};function XO(t,e){let n=typeof t=="object"?t:Aa(),r=typeof t=="string"?t:e||Sv,i=Rc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=JP("firestore");o&&YO(i,...o)}return i}function yC(t){if(t._terminated)throw new ae(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n6(t),t._firestoreClient}function n6(t){var e,n,r;let i=t._freezeSettings(),o=(function(c,u,h,m){return new T0(c,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,KO(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new $T(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(t._componentsProvider))}var _s=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Cn.fromBase64String(e))}catch(n){throw new ae(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ih(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};_s._jsonSchemaVersion="firestore/bytes/1.0",_s._jsonSchema={type:$t("string",_s._jsonSchemaVersion),bytes:$t("string")};var ou=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var rh=class{constructor(e){this._methodName=e}};var Es=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(ih(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Es._jsonSchemaVersion="firestore/geoPoint/1.0",Es._jsonSchema={type:$t("string",Es._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};var Is=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ih(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new ae(q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Is._jsonSchemaVersion="firestore/vectorValue/1.0",Is._jsonSchema={type:$t("string",Is._jsonSchemaVersion),vectorValues:$t("object")};var r6=/^__.*__$/,HT=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ha(e,this.data,n,this.fieldTransforms)}},Qv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function JO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ec:t})}}var qT=class t{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Jv(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(JO(this.Ec)&&r6.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},GT=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ay(e)}Dc(e,n,r,i=!1){return new qT({Ec:e,methodName:n,bc:r,path:ar.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function _C(t){let e=t._freezeSettings(),n=ay(t._databaseId);return new GT(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ek(t,e,n,r,i,o={}){let a=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);EC("Data must be an object, but it was:",a,r);let c=tk(r,a),u,h;if(o.merge)u=new Er(a.fieldMask),h=a.fieldTransforms;else if(o.mergeFields){let m=[];for(let v of o.mergeFields){let I=WT(e,v,n);if(!a.contains(I))throw new ae(q.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);rk(m,I)||m.push(I)}u=new Er(m),h=a.fieldTransforms.filter(v=>u.covers(v.field))}else u=null,h=a.fieldTransforms;return new HT(new sr(c),u,h)}var Xv=class t extends rh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function i6(t,e,n,r){let i=t.Dc(1,e,n);EC("Data must be an object, but it was:",i,r);let o=[],a=sr.empty();Ss(r,(u,h)=>{let m=IC(e,u,n);h=Rt(h);let v=i.gc(m);if(h instanceof Xv)o.push(m);else{let I=uy(h,v);I!=null&&(o.push(m),a.set(m,I))}});let c=new Er(o);return new Qv(a,c,i.fieldTransforms)}function o6(t,e,n,r,i,o){let a=t.Dc(1,e,n),c=[WT(e,r,n)],u=[i];if(o.length%2!=0)throw new ae(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<o.length;I+=2)c.push(WT(e,o[I])),u.push(o[I+1]);let h=[],m=sr.empty();for(let I=c.length-1;I>=0;--I)if(!rk(h,c[I])){let E=c[I],C=u[I];C=Rt(C);let N=a.gc(E);if(C instanceof Xv)h.push(E);else{let k=uy(C,N);k!=null&&(h.push(E),m.set(E,k))}}let v=new Er(h);return new Qv(m,v,a.fieldTransforms)}function uy(t,e){if(nk(t=Rt(t)))return EC("Unsupported field value:",e,t),tk(t,e);if(t instanceof rh)return(function(r,i){if(!JO(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],a=0;for(let c of r){let u=uy(c,i.yc(a));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),a++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return H5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=zt.fromDate(r);return{timestampValue:Nv(i.serializer,o)}}if(r instanceof zt){let o=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nv(i.serializer,o)}}if(r instanceof Es)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _s)return{bytesValue:wO(i.serializer,r._byteString)};if(r instanceof dn){let o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:aC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Is)return(function(a,c){return{mapValue:{fields:{[tC]:{stringValue:nC},[Wc]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw c.wc("VectorValues must only contain numeric values.");return sC(c.serializer,h)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${QT(r)}`)})(t,e)}function tk(t,e){let n={};return ZN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(t,(r,i)=>{let o=uy(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function nk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof Es||t instanceof _s||t instanceof dn||t instanceof rh||t instanceof Is)}function EC(t,e,n){if(!nk(n)||!ON(n)){let r=QT(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function WT(t,e,n){if((e=Rt(e))instanceof ou)return e._internalPath;if(typeof e=="string")return IC(t,e);throw Jv("Field path arguments must be of type string or ",t,!1,void 0,n)}var s6=new RegExp("[~\\*/\\[\\]]");function IC(t,e,n){if(e.search(s6)>=0)throw Jv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ou(...e.split("."))._internalPath}catch{throw Jv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jv(t,e,n,r,i){let o=r&&!r.isEmpty(),a=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new ae(q.INVALID_ARGUMENT,c+t+u)}function rk(t,e){return t.some(n=>n.isEqual(e))}var ey=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new KT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(ik("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},KT=class extends ey{data(){return super.data()}};function ik(t,e){return typeof e=="string"?IC(t,e):e instanceof ou?e._internalPath:e._delegate._internalPath}function a6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ZT=class{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ss(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Wc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>vt(a.doubleValue));return new Is(o)}convertGeoPoint(e){return new Es(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ry(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yf(e));default:return null}}convertTimestamp(e){let n=mo(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=wt.fromString(e);nt(AO(r),9688,{name:e});let i=new Dv(r.get(1),r.get(3)),o=new ge(r.popFirst(5));return i.isEqual(n)||po(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function ok(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Va=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ba=class t extends ey{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(ik("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ba._jsonSchema={type:$t("string",Ba._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};var Hc=class extends Ba{data(e={}){return super.data(e)}},qc=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Va(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hc(this._firestore,this._userDataWriter,r.key,r,new Va(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{let u=new Hc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Va(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Hc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Va(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),h=-1,m=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),m=a.indexOf(c.doc.key)),{type:l6(c.type),doc:u,oldIndex:h,newIndex:m}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function l6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:t})}}function sk(t){t=Ir(t,dn);let e=Ir(t.firestore,Pi);return t6(yC(e),t._key).then(n=>dk(e,t,n))}qc._jsonSchemaVersion="firestore/querySnapshot/1.0",qc._jsonSchema={type:$t("string",qc._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};var ty=class extends ZT{constructor(e){super(),this.firestore=e}convertBytes(e){return new _s(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}};function ak(t,e,n){t=Ir(t,dn);let r=Ir(t.firestore,Pi),i=ok(t.converter,e,n);return dy(r,[ek(_C(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Si.none())])}function lk(t,e,n,...r){t=Ir(t,dn);let i=Ir(t.firestore,Pi),o=_C(i),a;return a=typeof(e=Rt(e))=="string"||e instanceof ou?o6(o,"updateDoc",t._key,e,n,r):i6(o,"updateDoc",t._key,e),dy(i,[a.toMutation(t._key,Si.exists(!0))])}function ck(t){return dy(Ir(t.firestore,Pi),[new Xf(t._key,Si.none())])}function uk(t,e){let n=Ir(t.firestore,Pi),r=vC(t),i=ok(t.converter,e);return dy(n,[ek(_C(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Si.exists(!1))]).then(()=>r)}function wC(t,...e){var n,r,i;t=Rt(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||MN(e[a])||(o=e[a++]);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(MN(e[a])){let v=e[a];e[a]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[a+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[a+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let u,h,m;if(t instanceof dn)h=Ir(t.firestore,Pi),m=iy(t._key.path),u={next:v=>{e[a]&&e[a](dk(h,t,v))},error:e[a+1],complete:e[a+2]};else{let v=Ir(t,Zv);h=Ir(v.firestore,Pi),m=v._query;let I=new ty(h);u={next:E=>{e[a]&&e[a](new qc(h,I,v,E))},error:e[a+1],complete:e[a+2]},a6(t._query)}return(function(I,E,C,N){let k=new Wv(N),B=new Hv(E,k,C);return I.asyncQueue.enqueueAndForget(()=>A(null,null,function*(){return VO(yield zT(I),B)})),()=>{k.Ou(),I.asyncQueue.enqueueAndForget(()=>A(null,null,function*(){return BO(yield zT(I),B)}))}})(yC(h),m,c,u)}function dy(t,e){return(function(r,i){let o=new bi;return r.asyncQueue.enqueueAndForget(()=>A(null,null,function*(){return HW(yield e6(r),i,o)})),o.promise})(yC(t),e)}function dk(t,e,n){let r=n.docs.get(e._key),i=new ty(t);return new Ba(t,i,e._key,r,new Va(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){su=i})(cs),Fr(new Nn("firestore",(r,{instanceIdentifier:i,options:o})=>{let a=r.getProvider("app").getImmediate(),c=new Pi(new v0(r.getProvider("auth-internal")),new E0(a,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ae(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dv(h.options.projectId,m)})(a,i),a);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),St(UR,$R,e),St(UR,$R,"esm2017")})();var fy=function(){return fy=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},fy.apply(this,arguments)};var d6={includeMetadataChanges:!1};function bC(t,e){return e===void 0&&(e=d6),new Oe(function(n){var r=wC(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function fk(t){return bC(t,{includeMetadataChanges:!0})}function hk(t,e){return e===void 0&&(e={}),fk(t).pipe(Pe(function(n){return TC(n,e)}))}function TC(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:fy(fy({},r),(n={},n[e.idField]=t.id,n))}function pk(t){return bC(t,{includeMetadataChanges:!0}).pipe(Pe(function(e){return e.docs}))}function mk(t,e){return e===void 0&&(e={}),pk(t).pipe(Pe(function(n){return n.map(function(r){return TC(r,e)})}))}var jr=class{constructor(e){return e}},gk="firestore",CC=class{constructor(){return Oc(gk)}};var SC=new ce("angularfire2.firestore-instances");function f6(t,e){let n=Af(gk,t,e);return n&&new jr(n)}function h6(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new jr(r)}}var p6={provide:CC,deps:[[new er,SC]]},m6={provide:jr,useFactory:f6,deps:[[new er,SC],ao]};function vk(t,...e){return St("angularfire",us.full,"fst"),Qn([m6,p6,{provide:SC,useFactory:h6(t),multi:!0,deps:[it,Gt,ds,Ma,[new er,jf],[new er,kc],...e]}])}var yk=Bt(mk,!0);var hy=Bt(hk,!0);var DC=Bt(uk,!0,2);var py=Bt(QO,!0,2);var _k=Bt(ck,!0,2);var Ur=Bt(vC,!0,2);var Ek=Bt(sk,!0);var Ik=Bt(XO,!0);var ah=Bt(ak,!0,2);var wk=Bt(lk,!0,2);var Ds=class t{constructor(e){this.fs=e}getMenu(){let e=py(this.fs,"products");return yk(e,{idField:"id"})}addMenuItem(e){let n=py(this.fs,"products");return DC(n,e)}addMenuItems(e){return A(this,null,function*(){let n=py(this.fs,"products");for(let r of e)yield DC(n,r)})}updateMenuItem(e,n){let r=Ur(this.fs,`products/${e}`);return wk(r,n)}deleteMenuItem(e){let n=Ur(this.fs,`products/${e}`);return _k(n)}static \u0275fac=function(n){return new(n||t)(pe(jr))};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ri=class t{constructor(e,n,r){this.auth=e;this.fs=n;this._router=r;LR(this.auth,i=>{i?(this.userIdSubject.next(i.uid),this.cartIdSubject.next(i.uid),localStorage.setItem("uid",i.uid),localStorage.setItem("user",JSON.stringify(i))):(this.userIdSubject.next(null),this.cartIdSubject.next("guest-cart"),localStorage.removeItem("uid"),localStorage.removeItem("user"))})}userIdSubject=new Tt(null);userId$=this.userIdSubject.asObservable();cartIdSubject=new Tt("guest-cart");cartId$=this.cartIdSubject.asObservable();userProfile$=this.userId$.pipe(pn(e=>{if(!e)return _e(null);let n=Ur(this.fs,`users/${e}`);return hy(n)}));signup(e){return A(this,null,function*(){let n=yield OR(this.auth,e.email,e.password),r=n.user.uid;localStorage.setItem("uid",r),localStorage.setItem("user",JSON.stringify(n.user)),this.cartIdSubject.next(r);let i=Ur(this.fs,`users/${r}`);return yield ah(i,{firstName:e.firstName,lastName:e.lastName,email:e.email,createdAt:new Date,role:"user"}),r})}login(e){return A(this,null,function*(){let n=yield FR(this.auth,e.email,e.password);return this.cartIdSubject.next(n.user.uid),localStorage.setItem("uid",n.user.uid),localStorage.setItem("user",JSON.stringify(n.user)),this._router.navigate(["/home"]),n.user.uid})}logout(){return this.userIdSubject.next(null),this.cartIdSubject.next("guest-cart"),localStorage.removeItem("uid"),localStorage.removeItem("user"),VR(this.auth)}static \u0275fac=function(n){return new(n||t)(pe(ka),pe(jr),pe(an))};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ni=class t{constructor(e,n){this.fs=e;this.authService=n;this.authService.cartId$.subscribe(r=>{this.cartId=r})}cartId="guest-cart";cartItems=new Tt(0);cartItems$=this.cartItems.asObservable();setCartId(e){this.cartId=e,this.loadCartItemsCount()}loadCartItemsCount(){return A(this,null,function*(){let e=yield this.getCart();this.cartItems.next(e.length)})}getCartItems(){let e=Ur(this.fs,`carts/${this.cartId}`);return hy(e).pipe(Pe(n=>n?.items||[]))}getCart(){return A(this,null,function*(){let e=Ur(this.fs,`carts/${this.cartId}`),n=yield Ek(e);if(n.exists()){let r=n.data().items||[];return this.cartItems.next(r.length),r}return[]})}saveCart(e){return A(this,null,function*(){let n=Ur(this.fs,`carts/${this.cartId}`);this.cartItems.next(e.length),yield ah(n,{items:e})})}addItem(e){return A(this,null,function*(){let n=yield this.getCart(),r=n.find(i=>i.item.id===e.id);r?r.item.quantity++:(e.quantity=1,n.push({item:e})),yield this.saveCart(n)})}updateQuantity(e,n){return A(this,null,function*(){let r=yield this.getCart(),i=r.find(o=>o.item.id===e);i&&(i.item.quantity=n,i.item.quantity<=0&&(r=r.filter(o=>o.item.id!==e)),yield this.saveCart(r))})}removeItem(e){return A(this,null,function*(){let n=yield this.getCart();n=n.filter(r=>r.item.id!==e),yield this.saveCart(n)})}clearCart(){return A(this,null,function*(){let e=Ur(this.fs,`carts/${this.cartId}`);this.cartItems.next(0),yield ah(e,{items:[]})})}static \u0275fac=function(n){return new(n||t)(pe(jr),pe(Ri))};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})};var g6=(t,e)=>e.id;function v6(t,e){if(t&1){let n=ya();K(0,"div",32)(1,"div",56),Be(2,"img",57),K(3,"div",58)(4,"h5",59),$(5),Y(),K(6,"p",60),$(7),Y(),K(8,"p",61),$(9),Y(),K(10,"button",62),hi("click",function(){let i=oi(n).$implicit,o=Zt();return si(o.addToCart(i))}),$(11,"add to cart"),Y()()()()}if(t&2){let n=e.$implicit;he(2),ic("src",n.img,rc),he(3),jn(n.name),he(2),jn(n.time),he(2),to("$",n.price)}}function y6(t,e){t&1&&(K(0,"div"),$(1,"There are no items."),Y())}var vy=class t{constructor(e,n){this._menuService=e;this._cart=n}menuItems;newItem={name:"",time:"",price:0,img:"",category:"",quantity:0};items=[{name:"Breakfast Food",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food1.png",category:"Breakfast Food",quantity:100},{name:"Breakfast Food",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food2.png",category:"Breakfast Food",quantity:100},{name:"Breakfast Food",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food3.png",category:"Breakfast Food",quantity:100},{name:"Breakfast Food",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food4.png",category:"Breakfast Food",quantity:100},{name:"Breakfast Food",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food5.png",category:"Breakfast Food",quantity:100},{name:"Breakfast Food",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food6.png",category:"Breakfast Food",quantity:100},{name:"Cup Cake",time:"Time: 10 - 15 Minutes | Serves: 1",price:20,img:"assets/food7.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food8.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food9.png",category:"Breakfast Food",quantity:100},{name:"Pizza",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food10.png",category:"Breakfast Food",quantity:100},{name:"Pizza",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food11.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food12.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food13.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food14.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food15.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:20,img:"assets/food16.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food17.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food18.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:20,img:"assets/food19.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food20.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:20,img:"assets/food21.png",category:"Breakfast Food",quantity:100},{name:"Pasta",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food22.png",category:"Breakfast Food",quantity:100},{name:"Birger",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food23.png",category:"Breakfast Food",quantity:100},{name:"Salad",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food24.png",category:"Breakfast Food",quantity:100}];ngOnInit(){this.menuItems=this._menuService.getMenu();let e=!0;this.menuItems.subscribe(n=>{n.length<=0&&(e=!1),console.log("have items  "+e)}),e||this._menuService.addMenuItems(this.items),new ss(".myProducts",{modules:[Vw],slidesPerView:3,slidesPerGroup:1,spaceBetween:1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}addToCart(e){this._cart.addItem(e)}static \u0275fac=function(n){return new(n||t)(fe(Ds),fe(Ni))};static \u0275cmp=ht({type:t,selectors:[["app-home"]],decls:156,vars:3,consts:[[1,"head","my-5"],[1,"container"],[1,"d-flex","flex-column-reverse","flex-md-row","align-items-center","justify-content-center"],[1,"content","py-5","pe-3","text-center","text-md-start"],[1,"btn"],[1,"image","p-md-4"],["src","assets/home1.png","alt","",1,"img-fluid"],[1,"rating","p-4"],[1,"d-flex","justify-content-between","text-center","container"],[1,"about","my-5"],[1,"d-flex","flex-column","flex-md-row","align-items-center","justify-content-center"],[1,"image"],["src","assets/home2.png","alt","",1,"img-fluid"],[1,"content","text-center","text-md-start","p-3"],[1,"about2","my-5"],[1,"image","d-flex","flex-column","align-items-end"],[1,"d-flex","align-items-end","w-75"],[1,""],["src","assets/ingrd2.png","alt","",1,"img-fluid"],["src","assets/ingred1.png","alt","",1,"img-fluid"],[1,"d-flex"],["src","assets/ingrd3.png","alt","",1,"img-fluid"],["src","assets/ingrd4.png","alt","",1,"img-fluid"],[1,"story","my-5"],[1,"pic"],[1,"container","text-center"],[1,"btn","btn-outline"],[1,"foods","my-4"],[1,"px-5","py-3"],[1,"menu"],[1,"swiper","myProducts","p-2"],[1,"swiper-wrapper"],[1,"px-md-2","px-sm-1","px-0","swiper-slide"],[1,"swiper-button-next"],[1,"swiper-button-prev"],[1,"testimonial","p-5"],["id","carousel-testimonial",1,"carousel","slide","p-5","m-4"],[1,"carousel-indicators"],["data-target","#carousel-testimonial","data-slide-to","0"],["data-target","#carousel-testimonial","data-slide-to","1",1,"active"],["data-target","#carousel-testimonial","data-slide-to","2"],[1,"carousel-inner"],[1,"carousel-item"],[1,"profile","d-flex","align-items-center","justify-content-center"],["src","assets/profile.png","alt","",1,"img-fluid","pe-3"],[1,"details","text-start"],[1,"name"],[1,"job"],[1,"p-2"],[1,"carousel-item","active"],[1,"profile","d-flex","align-items-end","justify-content-center"],["src","assets/profile.png","alt","",1,"img-fluid","b-50"],["src","assets/profile.png","alt","",1,"img-fluid","pe-1"],[1,"learnMore"],[1,"d-flex","flex-column","flex-sm-row"],[1,"btn","mx-2"],[1,"card"],["alt","",1,"card-img-top",3,"src"],[1,"card-body","text-start"],[1,"card-title"],[1,"card-text"],[1,"price"],[1,"btn",3,"click"]],template:function(n,r){n&1&&(K(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),$(5," Good Food Choices "),Be(6,"br"),$(7,"are good "),Be(8,"br"),$(9,"investments. "),Y(),K(10,"p"),$(11,"Lorem ipsum dolor sit amet consectetur. Urna eu amet laoreet nisl. Amet pellentesque quam lobortis metus et. Consequat at mauris lacus sed blandit purus proin. Nunc lacus vivamus tortor bibendum est habitant ut mattis vivamus."),Y(),K(12,"button",4),$(13,"Order Now"),Y()(),K(14,"div",5),Be(15,"img",6),Y()()()(),K(16,"div",7)(17,"div",8)(18,"div")(19,"h3"),$(20,"1287+"),Y(),K(21,"p"),$(22,"Savings"),Y()(),K(23,"div")(24,"h3"),$(25,"5786+"),Y(),K(26,"p"),$(27,"photos"),Y()(),K(28,"div")(29,"h3"),$(30,"1440+"),Y(),K(31,"p"),$(32,"rocket"),Y()(),K(33,"div")(34,"h3"),$(35,"7110+"),Y(),K(36,"p"),$(37,"rocket"),Y()()()(),K(38,"div",9)(39,"div",1)(40,"div",10)(41,"div",11),Be(42,"img",12),Y(),K(43,"div",13)(44,"h4"),$(45," We pride ourselves on "),Be(46,"br"),$(47,"making real food from the"),Be(48,"br"),$(49,"best ingredients "),Y(),K(50,"p"),$(51,"Lorem ipsum dolor sit amet consectetur. Urna eu amet laoreet nisl. Amet pellentesque quam lobortis metus et. Consequat at mauris lacus sed blandit purus proin. Nunc lacus vivamus tortor bibendum est habitant ut mattis vivamus."),Y(),K(52,"button",4),$(53,"Learn More"),Y()()()()(),K(54,"div",14)(55,"div",1)(56,"div",10)(57,"div",13)(58,"h4"),$(59," We make everything by hand with the best possible ingredients "),Y(),K(60,"p"),$(61,"Lorem ipsum dolor sit amet consectetur. Urna eu amet laoreet nisl. Amet pellentesque quam lobortis metus et. Consequat at mauris lacus sed blandit purus proin. Nunc lacus vivamus tortor bibendum est habitant ut mattis vivamus."),Y(),K(62,"ul")(63,"li"),$(64,"Etiam sed dolor ac diam volutpat"),Y(),K(65,"li"),$(66,"Etiam sed dolor ac diam volutpat"),Y(),K(67,"li"),$(68,"Etiam sed dolor ac diam volutpat"),Y()(),K(69,"button",4),$(70,"Learn More"),Y()(),K(71,"div",15)(72,"div",16)(73,"div",17),Be(74,"img",18),Y(),K(75,"div",17),Be(76,"img",19),Y()(),K(77,"div",20)(78,"div",17),Be(79,"img",21),Y(),K(80,"div",17),Be(81,"img",22),Y()()()()()(),K(82,"div",23)(83,"div",24),Be(84,"img",6),Y(),K(85,"div",25)(86,"h4"),$(87," When a man\u2019s stomach is full it makes no "),Be(88,"br"),$(89,"difference whether he is rich or poor. "),Y(),K(90,"p"),$(91,"Lorem ipsum dolor sit amet consectetur. Urna eu amet laoreet nisl. Amet pellentesque quam lobortis metus et. Consequat at mauris lacus sed blandit purus proin. Nunc lacus vivamus tortor bibendum est habitant ut mattis vivamus."),Y(),K(92,"button",26),$(93," watch our story "),Y()()(),K(94,"div",27)(95,"div",25)(96,"div",28)(97,"h4"),$(98,"Explore Our Foods"),Y(),K(99,"p"),$(100,"Lorem ipsum dolor sit amet consectetur. Urna eu amet laoreet nisl. Amet pellentesque quam lobortis metus et. Consequat at mauris lacus sed blandit purus proin. Nunc lacus vivamus tortor bibendum est habitant ut mattis vivamus."),Y()(),K(101,"div",29)(102,"div",30)(103,"div",31),ma(104,v6,12,4,"div",32,g6,!1,y6,2,0,"div"),Rd(107,"async"),Y(),Be(108,"div",33)(109,"div",34),Y()()()(),K(110,"div",35)(111,"div",25)(112,"h4"),$(113,"Testimonials"),Y(),K(114,"div",36)(115,"ol",37),Be(116,"li",38)(117,"li",39)(118,"li",40),Y(),K(119,"div",41)(120,"div",42)(121,"div",43),Be(122,"img",44),K(123,"div",45)(124,"div",46),$(125,"William"),Y(),K(126,"div",47),$(127,"Co "),Y()()(),K(128,"p",48),$(129,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Debitis dignissimos ipsum nesciunt accusantium alias natus non doloribus molestias, repellat, aspernatur excepturi? Ipsa reprehenderit odit saepe magnam repellendus sed hic sit?"),Y()(),K(130,"div",49)(131,"div",50),Be(132,"img",51),K(133,"div",45)(134,"div",46),$(135,"William"),Y(),K(136,"div",47),$(137,"Co "),Y()()(),K(138,"p"),$(139,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Debitis dignissimos ipsum nesciunt accusantium alias natus non doloribus molestias, repellat, aspernatur excepturi? Ipsa reprehenderit odit saepe magnam repellendus sed hic sit?"),Y()(),K(140,"div",42)(141,"div",50),Be(142,"img",52),K(143,"div",45)(144,"div",46),$(145,"William"),Y(),K(146,"div",47),$(147,"Co"),Y()()(),K(148,"p"),$(149,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Debitis dignissimos ipsum nesciunt accusantium alias natus non doloribus molestias, repellat, aspernatur excepturi? Ipsa reprehenderit odit saepe magnam repellendus sed hic sit?"),Y()()()()()(),K(150,"div",53)(151,"div",54)(152,"P"),$(153," Baked fresh daily by baker\u2019s with passion."),Y(),K(154,"button",55),$(155,"Learn more"),Y()()()),n&2&&(he(104),ga(Nd(107,1,r.menuItems)))},dependencies:[Cc,yr,Fd],styles:[".btn[_ngcontent-%COMP%]{background-color:#195a00;color:#fff;margin-right:.5em;padding:.3em 1em;font-size:small;border-radius:0;text-transform:capitalize}.head[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .about2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-width:50%}.head[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .about2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:x-small}.rating[_ngcontent-%COMP%]{background-color:#195a00;color:#fff}.rating[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .rating[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.rating[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:uppercase;font-size:small}.about2[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:small}.about2[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:.5em}.story[_ngcontent-%COMP%]{padding:4rem 8rem;background-color:#e9e7ea;position:relative}.story[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#195a00}.story[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:small}.story[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#e9e7ea;border:1px solid #43121D;border-radius:5px;color:#43121d}.story[_ngcontent-%COMP%]   .pic[_ngcontent-%COMP%]{position:absolute;bottom:3rem;right:3rem;width:12%}.foods[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#43121d}.foods[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:small;padding:0 4rem}.foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .swiper-horizontal[_ngcontent-%COMP%]   .swiper-button-next[_ngcontent-%COMP%], .foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .swiper-horizontal[_ngcontent-%COMP%]   .swiper-button-prev[_ngcontent-%COMP%]{color:#195a00}.foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .swiper-horizontal[_ngcontent-%COMP%]   .swiper-button-next[_ngcontent-%COMP%]{right:-.5rem}.foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .swiper-horizontal[_ngcontent-%COMP%]   .swiper-button-prev[_ngcontent-%COMP%]{left:-.5rem}.foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]{padding:0}.foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:30px 5px 30px 0;overflow:hidden;margin:.5rem;border-left:0;box-shadow:5px 5px 5px #00000026}.foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{border-radius:5px;height:13rem}.foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:0;margin:0}.foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:x-small}.foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:#195a00;padding:5px 0;font-size:large}.foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:2px}.testimonial[_ngcontent-%COMP%]{background-color:#195a00}.testimonial[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff}.testimonial[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]{background-color:#fff}.testimonial[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{margin-left:.7rem}.testimonial[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:large}.testimonial[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]{font-size:small;color:#a7a7a7}.testimonial[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]{margin-bottom:-2.8rem}.testimonial[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin:.5rem;background-color:#b75269;width:10px;height:10px;border-radius:50%;cursor:pointer}.testimonial[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}.testimonial[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:small;margin-top:1rem}.learnMore[_ngcontent-%COMP%]{padding:2rem;background-image:url(/assets/learn.png);background-size:cover;color:#fff}.learnMore[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .learnMore[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:0}.learnMore[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:3px}.learnMore[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:2rem}@media (max-width: 575px){.story[_ngcontent-%COMP%]{padding:0}.head[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .about2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-width:100%}.py-3[_ngcontent-%COMP%], .p-5[_ngcontent-%COMP%]{padding:2px!important}.testimonial[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]{margin-bottom:-1.5rem}.foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:8rem}}@media (min-width: 576px) and (max-width: 767px){.foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:9rem}}@media (min-width: 768px) and (max-width: 991px){.foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:10rem}}@media (min-width: 992px) and (max-width: 1199px){.foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:12rem}}@media (min-width: 1200px){.foods[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:14rem}}"]})};function _6(t,e){t&1&&(oe(0,"p",15),$(1,"Email is Required"),se())}function E6(t,e){t&1&&(oe(0,"p",15),$(1,"Invalid email format"),se())}function I6(t,e){if(t&1&&(oe(0,"div"),ot(1,_6,2,0,"p",15),ot(2,E6,2,0,"p",15),se()),t&2){let n,r,i=Zt();he(),st((n=i.loginForm.get("email"))!=null&&n.getError("required")?1:-1),he(),st((r=i.loginForm.get("email"))!=null&&r.getError("email")?2:-1)}}function w6(t,e){t&1&&(oe(0,"p",15),$(1,"Password is Required"),se())}function b6(t,e){t&1&&(oe(0,"p",15),$(1,"Minimum Password is 4 digits "),se())}function T6(t,e){if(t&1&&(oe(0,"div"),ot(1,w6,2,0,"p",15),ot(2,b6,2,0,"p",15),se()),t&2){let n,r,i=Zt();he(),st((n=i.loginForm.get("password"))!=null&&n.getError("required")?1:-1),he(),st((r=i.loginForm.get("password"))!=null&&r.getError("minLength")?2:-1)}}var yy=class t{constructor(e,n,r){this._auth=e;this._router=n;this._cart=r}isloading=!1;loginForm=new bc({email:new vi(null,[Yt.required,Yt.email]),password:new vi(null,[Yt.minLength(4),Yt.required])});ngOnInit(){}loginData(e){if(this.isloading=!0,e.valid){let n=e.value;this._auth.login(n).then(r=>{this._cart.setCartId(r)})}}static \u0275fac=function(n){return new(n||t)(fe(Ri),fe(an),fe(Ni))};static \u0275cmp=ht({type:t,selectors:[["app-login"]],decls:20,vars:3,consts:[[1,"container-fluid","h-70"],[1,"row"],[1,"col","col-img"],["src","assets/signup.png","alt","",1,"img-fluid","px-3"],[1,"col","col-form"],[1,"sign-form"],[1,"title","text-center"],["src","assets/sign.png","alt","",1,"img-fluid"],[1,"overview"],[1,"sign-title"],[1,""],[3,"submit","formGroup"],["type","email","formControlName","email","placeholder","Email",1,"form-control","mb-2"],["type","password","formControlName","password","placeholder","Password",1,"form-control","mb-2"],["type","submit",1,"btn","btn-primary","w-100"],[1,"alert","py-2","alert-danger"]],template:function(n,r){if(n&1&&(oe(0,"div",0)(1,"div",1)(2,"div",2),ut(3,"img",3),se(),oe(4,"div",4)(5,"div",5)(6,"div",6)(7,"div"),ut(8,"img",7),se()(),oe(9,"div",8)(10,"div",9),$(11,"Login"),se()(),oe(12,"div",10)(13,"form",11),tr("submit",function(){return r.loginData(r.loginForm)}),ut(14,"input",12),ot(15,I6,3,2,"div"),ut(16,"input",13),ot(17,T6,3,2,"div"),oe(18,"button",14),$(19," Login "),se()()()()()()()),n&2){let i,o;he(13),va("formGroup",r.loginForm),he(2),st((i=r.loginForm.get("email"))!=null&&i.errors&&((i=r.loginForm.get("email"))!=null&&i.touched)?15:-1),he(2),st((o=r.loginForm.get("password"))!=null&&o.errors&&((o=r.loginForm.get("password"))!=null&&o.touched)?17:-1)}},dependencies:[Ng,Rg,Tc,Ag,xg,mf,gf,yr],styles:[".col[_ngcontent-%COMP%]{min-height:100%}.col-img[_ngcontent-%COMP%], .col-form[_ngcontent-%COMP%]{padding:0}.sign-form[_ngcontent-%COMP%]{background-color:#f0f4ec;padding:3rem;height:100%}.sign-form[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{padding-bottom:2rem}.sign-form[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .sign-title[_ngcontent-%COMP%]{font-size:x-large;color:#195a00;font-weight:700}.sign-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#195a00;color:#fff}"]})};function C6(t,e){t&1&&(oe(0,"p",19),$(1,"First Name is Required"),se())}function S6(t,e){t&1&&(oe(0,"p",19),$(1,"Minimum length is 4 letter"),se())}function D6(t,e){t&1&&(oe(0,"p",19),$(1,"max length is 15 letter"),se())}function A6(t,e){if(t&1&&(oe(0,"div"),ot(1,C6,2,0,"p",19),ot(2,S6,2,0,"p",19),ot(3,D6,2,0,"p",19),se()),t&2){let n,r,i,o=Zt();he(),st((n=o.registerForm.get("first_name"))!=null&&n.getError("required")?1:-1),he(),st((r=o.registerForm.get("first_name"))!=null&&r.hasError("minlength")?2:-1),he(),st((i=o.registerForm.get("first_name"))!=null&&i.hasError("maxlength")?3:-1)}}function x6(t,e){t&1&&(oe(0,"p",19),$(1,"Last Name is Required"),se())}function M6(t,e){t&1&&(oe(0,"p",19),$(1,"Minimum length is 4 letter"),se())}function P6(t,e){t&1&&(oe(0,"p",19),$(1,"max length is 15 letter"),se())}function R6(t,e){if(t&1&&(oe(0,"div"),ot(1,x6,2,0,"p",19),ot(2,M6,2,0,"p",19),ot(3,P6,2,0,"p",19),se()),t&2){let n,r,i,o=Zt();he(),st((n=o.registerForm.get("last_name"))!=null&&n.getError("required")?1:-1),he(),st((r=o.registerForm.get("last_name"))!=null&&r.getError("minlength")?2:-1),he(),st((i=o.registerForm.get("last_name"))!=null&&i.getError("maxlength")?3:-1)}}function N6(t,e){t&1&&(oe(0,"p",19),$(1,"Email is Required"),se())}function O6(t,e){t&1&&(oe(0,"p",19),$(1,"Invalid email format"),se())}function k6(t,e){if(t&1&&(oe(0,"div"),ot(1,N6,2,0,"p",19),ot(2,O6,2,0,"p",19),se()),t&2){let n,r,i=Zt();he(),st((n=i.registerForm.get("email"))!=null&&n.getError("required")?1:-1),he(),st((r=i.registerForm.get("email"))!=null&&r.getError("email")?2:-1)}}function L6(t,e){t&1&&(oe(0,"p",19),$(1,"Password is Required"),se())}function F6(t,e){t&1&&(oe(0,"p",19),$(1,"Minimum Password is 4 digits "),se())}function V6(t,e){if(t&1&&(oe(0,"div"),ot(1,L6,2,0,"p",19),ot(2,F6,2,0,"p",19),se()),t&2){let n,r,i=Zt();he(),st((n=i.registerForm.get("password"))!=null&&n.getError("required")?1:-1),he(),st((r=i.registerForm.get("password"))!=null&&r.getError("minLength")?2:-1)}}function B6(t,e){t&1&&(oe(0,"p",19),$(1,"Confirm Password is Required"),se())}function j6(t,e){t&1&&(oe(0,"p",19),$(1,"Passwords do not match"),se())}function U6(t,e){if(t&1&&(oe(0,"div"),ot(1,B6,2,0,"p",19),ot(2,j6,2,0,"p",19),se()),t&2){let n,r=Zt();he(),st((n=r.registerForm.get("confirmPassword"))!=null&&n.getError("required")?1:-1),he(),st(r.passwordMismatch?2:-1)}}var _y=class t{constructor(e,n){this._auth=e;this._route=n;this.registerForm.valueChanges.subscribe(r=>{let{password:i,confirmPassword:o}=r;this.passwordMismatch=i!==o})}isloading=!1;passwordMismatch=!1;registerForm=new bc({first_name:new vi(null,[Yt.minLength(4),Yt.maxLength(15),Yt.required]),last_name:new vi(null,[Yt.minLength(4),Yt.maxLength(15),Yt.required]),email:new vi(null,[Yt.required,Yt.email]),password:new vi(null,[Yt.minLength(4),Yt.required]),confirmPassword:new vi(null,[Yt.required])});ngOnInit(){}registerData(e){if(this.isloading=!0,e.valid){let n={firstName:e.value.first_name,lastName:e.value.last_name,email:e.value.email,password:e.value.password};this._auth.signup(n).then(r=>{console.log("User UID:",r),this._route.navigate(["/home"]),alert("Your account has been created!")}).catch(r=>{console.log(r),alert(r.message)})}}static \u0275fac=function(n){return new(n||t)(fe(Ri),fe(an))};static \u0275cmp=ht({type:t,selectors:[["app-register"]],decls:30,vars:7,consts:[[1,"container-fluid","h-70"],[1,"row"],[1,"col","col-img"],["src","assets/signup.png","alt","",1,"img-fluid","px-3"],[1,"col","col-form"],[1,"sign-form"],[1,"title","text-center"],["src","assets/sign.png","alt","",1,""],[1,"overview"],[1,"sign-title"],[1,""],[3,"submit","formGroup"],[1,"col"],["type","text","formControlName","first_name","placeholder","First name",1,"form-control","mb-2"],["type","text","formControlName","last_name","placeholder","Last name",1,"form-control","mb-2"],["type","email","formControlName","email","placeholder","Email",1,"form-control","mb-2"],["type","password","formControlName","password","placeholder","Password",1,"form-control","mb-2"],["type","password","formControlName","confirmPassword","placeholder","Confirm Password",1,"form-control","mb-2"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"alert","py-2","alert-danger"]],template:function(n,r){if(n&1&&(oe(0,"div",0)(1,"div",1)(2,"div",2),ut(3,"img",3),se(),oe(4,"div",4)(5,"div",5)(6,"div",6),ut(7,"img",7),se(),oe(8,"div",8)(9,"div",9),$(10,"Sign Up"),se(),oe(11,"div"),$(12,"Please, fill in this form to sign up"),se()(),oe(13,"div",10)(14,"form",11),tr("submit",function(){return r.registerData(r.registerForm)}),oe(15,"div",1)(16,"div",12),ut(17,"input",13),ot(18,A6,4,3,"div"),se(),oe(19,"div",12),ut(20,"input",14),ot(21,R6,4,3,"div"),se()(),ut(22,"input",15),ot(23,k6,3,2,"div"),ut(24,"input",16),ot(25,V6,3,2,"div"),ut(26,"input",17),ot(27,U6,3,2,"div"),oe(28,"button",18),$(29," Sign Up "),se()()()()()()()),n&2){let i,o,a,c,u;he(14),va("formGroup",r.registerForm),he(4),st((i=r.registerForm.get("first_name"))!=null&&i.errors&&((i=r.registerForm.get("first_name"))!=null&&i.touched)?18:-1),he(3),st((o=r.registerForm.get("last_name"))!=null&&o.errors&&((o=r.registerForm.get("last_name"))!=null&&o.touched)?21:-1),he(2),st((a=r.registerForm.get("email"))!=null&&a.errors&&((a=r.registerForm.get("email"))!=null&&a.touched)?23:-1),he(2),st((c=r.registerForm.get("password"))!=null&&c.errors&&((c=r.registerForm.get("password"))!=null&&c.touched)?25:-1),he(2),st((u=r.registerForm.get("confirmPassword"))!=null&&u.touched?27:-1),he(),va("disabled",r.registerForm.invalid)}},dependencies:[Ng,Rg,Tc,Ag,xg,mf,gf,yr],styles:[".col[_ngcontent-%COMP%]{min-height:100%}.col-img[_ngcontent-%COMP%], .col-form[_ngcontent-%COMP%]{padding:0}.sign-form[_ngcontent-%COMP%]{background-color:#f0f4ec;padding:3rem;height:100%}.sign-form[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{padding-bottom:2rem}.sign-form[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .sign-title[_ngcontent-%COMP%]{font-size:x-large;color:#195a00;font-weight:700}.sign-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#195a00;color:#fff}"]})};var Ey=class t{constructor(e){this._router=e}back(){this._router.navigate(["/home"])}static \u0275fac=function(n){return new(n||t)(fe(an))};static \u0275cmp=ht({type:t,selectors:[["app-not-found"]],decls:10,vars:0,consts:[[1,"container","text-center","p-5"],["src","assets/404.png","alt","",1,"img-fluid","w-50"],[1,"py-3"],[1,"btn",3,"click"]],template:function(n,r){n&1&&(K(0,"div",0),Be(1,"img",1),K(2,"h3"),$(3,"Oops! page not found"),Y(),K(4,"p",2),$(5,"Ut consequat ac tortor eu vehicula. Aenean accumsan purus eros."),Be(6,"br"),$(7," Maecenas sagittis tortor at metus mollis"),Y(),K(8,"button",3),hi("click",function(){return r.back()}),$(9,"Back To Home"),Y()())},styles:[".btn[_ngcontent-%COMP%]{background-color:#195a00;color:#fff;padding:.5em 2em;border-radius:40px}"]})};var uu=lL(Tk());var wy=class t{ngAfterViewInit(){let e=uu.map("map").setView([30.033333,31.233334],13);uu.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xA9 OpenStreetMap contributors"}).addTo(e),uu.marker([30.033333,31.233334]).addTo(e).bindPopup("Hello Cairo!").openPopup()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ht({type:t,selectors:[["app-contact"]],decls:27,vars:0,consts:[["id","map",2,"height","400px","width","100%","border-radius","10px","overflow","hidden"],[1,"row","mb-3","b-btm","align-items-center"],[1,"col","p-5"],[1,"d-none","d-md-block"],[1,"row"],[1,"col"],["src","assets/contact1.png","alt","",1,"img-fluid"],["src","assets/contact-1.png","alt","",1,"col-3","img-fluid"],["src","assets/contact-2.png","alt","",1,"col-3","img-fluid"],["src","assets/contact-3.png","alt","",1,"col-3","img-fluid"],["src","assets/contact-4.png","alt","",1,"col-3","img-fluid"]],template:function(n,r){n&1&&(Be(0,"div",0),K(1,"div",1)(2,"div",2)(3,"h4"),$(4,"Us On The Map"),Y(),K(5,"p",3),$(6,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Distinctio quis quibusdam doloribus eum, possimus sequi inventore iste! Error temporibus placeat quam numquam quas magni aut ducimus, nobis sit tempora. Rerum."),Y(),K(7,"div",4)(8,"div",5)(9,"h5"),$(10,"Customer Support"),Y(),K(11,"p"),$(12,"(+880) 1757044044"),Be(13,"br"),$(14,"foodtime@gmail.com"),Y()(),K(15,"div",5)(16,"h5"),$(17,"Address"),Y(),K(18,"p"),$(19,"2118 Thornridge Cir. Syracuse, Connecticut 35624"),Y()()()(),K(20,"div",5),Be(21,"img",6),Y()(),K(22,"div",4),Be(23,"img",7)(24,"img",8)(25,"img",9)(26,"img",10),Y())},styles:[".b-btm[_ngcontent-%COMP%]{border-bottom:1px solid #195A00!important}p[_ngcontent-%COMP%]{font-size:small}"]})};var lh=(t,e)=>{let n=W(an);return localStorage.getItem("uid")?!0:(n.navigate(["/login"]),!1)};var by=class t{constructor(e){this.menuService=e}menuItems;newItem={name:"",time:"",price:0,img:"",category:"",quantity:0};items=[{name:"Breakfast Food",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food1.png",category:"Breakfast Food",quantity:100},{name:"Breakfast Food",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food2.png",category:"Breakfast Food",quantity:100},{name:"Breakfast Food",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food3.png",category:"Breakfast Food",quantity:100},{name:"Breakfast Food",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food4.png",category:"Breakfast Food",quantity:100},{name:"Breakfast Food",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food5.png",category:"Breakfast Food",quantity:100},{name:"Breakfast Food",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food6.png",category:"Breakfast Food",quantity:100},{name:"Cup Cake",time:"Time: 10 - 15 Minutes | Serves: 1",price:20,img:"assets/food7.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food8.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food9.png",category:"Breakfast Food",quantity:100},{name:"Pizza",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food10.png",category:"Breakfast Food",quantity:100},{name:"Pizza",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food11.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food12.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food13.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food14.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food15.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:20,img:"assets/food16.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food17.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food18.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:20,img:"assets/food19.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food20.png",category:"Breakfast Food",quantity:100},{name:"Gyro Sandwich",time:"Time: 10 - 15 Minutes | Serves: 1",price:20,img:"assets/food21.png",category:"Breakfast Food",quantity:100},{name:"Pasta",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food22.png",category:"Breakfast Food",quantity:100},{name:"Birger",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food23.png",category:"Breakfast Food",quantity:100},{name:"Salad",time:"Time: 10 - 15 Minutes | Serves: 1",price:350,img:"assets/food24.png",category:"Breakfast Food",quantity:100}];ngOnInit(){this.menuItems=this.menuService.getMenu()}addItem(){this.menuService.addMenuItem(this.newItem).then(()=>{alert("\u062A\u0645\u062A \u0627\u0644\u0625\u0636\u0627\u0641\u0629"),this.newItem={name:"",time:"",price:0,img:"",category:"",quantity:0}})}updateItem(e){let n={price:99};this.menuService.updateMenuItem(e,n).then(()=>{alert("\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B")})}deleteItem(e){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0639\u0646\u0635\u0631\u061F")&&this.menuService.deleteMenuItem(e).then(()=>{alert("\u062A\u0645 \u0627\u0644\u062D\u0630\u0641")})}static \u0275fac=function(n){return new(n||t)(fe(Ds))};static \u0275cmp=ht({type:t,selectors:[["app-menu"]],decls:16,vars:0,consts:[[1,"about","my-5"],[1,"container"],[1,"d-flex","flex-column","flex-md-row","align-items-center","justify-content-center"],[1,"image"],["src","assets/home2.png","alt","",1,"img-fluid"],[1,"content","text-center","text-md-start","p-3"],[1,"btn"]],template:function(n,r){n&1&&(K(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Be(4,"img",4),Y(),K(5,"div",5)(6,"h4"),$(7," We pride ourselves on "),Be(8,"br"),$(9,"making real food from the"),Be(10,"br"),$(11,"best ingredients "),Y(),K(12,"p"),$(13,"Lorem ipsum dolor sit amet consectetur. Urna eu amet laoreet nisl. Amet pellentesque quam lobortis metus et. Consequat at mauris lacus sed blandit purus proin. Nunc lacus vivamus tortor bibendum est habitant ut mattis vivamus."),Y(),K(14,"button",6),$(15,"Learn More"),Y()()()()())},dependencies:[Cc,yr],encapsulation:2})};var $6=(t,e)=>e.item.id;function z6(t,e){if(t&1){let n=ya();K(0,"div",2)(1,"div",3),Be(2,"img",4),K(3,"div",5)(4,"h5",6),$(5),Y(),K(6,"p",7),$(7),Y(),K(8,"p",8),$(9),Y(),K(10,"p",8),$(11),Y(),K(12,"p",8),$(13),Y(),K(14,"button",9),hi("click",function(){let i=oi(n).$implicit,o=Zt();return si(o.updateQuantity(i.item,"+"))}),$(15,"+"),Y(),K(16,"button",9),hi("click",function(){let i=oi(n).$implicit,o=Zt();return si(o.updateQuantity(i.item,"-"))}),$(17,"-"),Y(),K(18,"button",9),hi("click",function(){let i=oi(n).$implicit,o=Zt();return si(o.deleteCart(i.item))}),$(19,"delete"),Y()()()()}if(t&2){let n=e.$implicit;he(2),ic("src",n.item.img,rc),he(3),jn(n.item.name),he(2),jn(n.item.time),he(2),to("Price: $",n.item.price),he(2),to("Quantity: ",n.item.quantity),he(2),to("Total Price: $",n.item.quantity*n.item.price)}}function H6(t,e){t&1&&(K(0,"div"),$(1,"There are no items."),Y())}var Ty=class t{constructor(e,n){this._menuService=e;this._cart=n}menuItems;items=[];ngOnInit(){this.menuItems=this._cart.getCartItems();let e=!1;this.menuItems.subscribe(n=>{n.length<=0&&(e=!1)})}addToCart(e){this._cart.addItem(e)}deleteCart(e){this._cart.removeItem(e.id?e.id:"")}updateQuantity(e,n){n=="+"?e.quantity++:e.quantity--,this._cart.updateQuantity(e.id?e.id:"",e.quantity)}static \u0275fac=function(n){return new(n||t)(fe(Ds),fe(Ni))};static \u0275cmp=ht({type:t,selectors:[["app-cart"]],decls:8,vars:3,consts:[[1,"header","d-flex","align-items-center","justify-content-center"],[1,"d-flex","my-5"],[1,"col-4"],[1,"card"],["alt","",1,"card-img-top",3,"src"],[1,"card-body","text-start"],[1,"card-title"],[1,"card-text"],[1,"price"],[1,"btn",3,"click"]],template:function(n,r){n&1&&(K(0,"div",0)(1,"h3"),$(2," Cart"),Y()(),K(3,"div",1),ma(4,z6,20,6,"div",2,$6,!1,H6,2,0,"div"),Rd(7,"async"),Y()),n&2&&(he(4),ga(Nd(7,1,r.menuItems)))},dependencies:[Cc,yr,Fd],styles:[".header[_ngcontent-%COMP%]{background-image:url(/assets/cart.png);background-size:cover;color:#fff;height:180px}.btn[_ngcontent-%COMP%]{background-color:#195a00;color:#fff;margin-right:.5em;padding:.3em 1em;font-size:small;border-radius:0;text-transform:capitalize}.d-flex[_ngcontent-%COMP%]{flex-wrap:wrap}.col-4[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]{border-radius:30px 5px 30px 0;overflow:hidden;border-left:0;margin:.5rem;box-shadow:5px 5px 5px #00000026}.card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{border-radius:5px;height:13rem}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:0;margin:0}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:x-small}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:#195a00;padding:5px 0;font-size:large}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:2px}"]})};function q6(t,e){return this.faq.length}function G6(t,e){if(t&1&&(K(0,"h4"),$(1),Y(),K(2,"p"),$(3),Y()),t&2){let n=e.$implicit;he(),jn(n.question),he(2),jn(n.answer)}}function W6(t,e){t&1&&(K(0,"div"),$(1,"There are no items."),Y())}var Cy=class t{faq=[{question:"How Can I Order?",answer:"Lorem ipsum dolor sit amet consectetur. Aliquet egestas at lacus cum nullam commodo eget consequat. Nulla mattis cras in velit scelerisque diam sit phasellus. Sit odio ultricies volutpat elementum egestas a sed ullamcorper. "},{question:"What a Delivery Post?",answer:"Lorem ipsum dolor sit amet consectetur. Aliquet egestas at lacus cum nullam commodo eget consequat. Nulla mattis cras in velit scelerisque diam sit phasellus. Sit odio ultricies volutpat elementum egestas a sed ullamcorper. "},{question:"Where Can I Find You?",answer:"Lorem ipsum dolor sit amet consectetur. Aliquet egestas at lacus cum nullam commodo eget consequat. Nulla mattis cras in velit scelerisque diam sit phasellus. Sit odio ultricies volutpat elementum egestas a sed ullamcorper. "},{question:"How Much Delivery Cost?",answer:"Lorem ipsum dolor sit amet consectetur. Aliquet egestas at lacus cum nullam commodo eget consequat. Nulla mattis cras in velit scelerisque diam sit phasellus. Sit odio ultricies volutpat elementum egestas a sed ullamcorper. "},{question:"What Is Our Special Offers?",answer:"Lorem ipsum dolor sit amet consectetur. Aliquet egestas at lacus cum nullam commodo eget consequat. Nulla mattis cras in velit scelerisque diam sit phasellus. Sit odio ultricies volutpat elementum egestas a sed ullamcorper. "},{question:"What Is Our Best Choice?",answer:"Lorem ipsum dolor sit amet consectetur. Aliquet egestas at lacus cum nullam commodo eget consequat. Nulla mattis cras in velit scelerisque diam sit phasellus. Sit odio ultricies volutpat elementum egestas a sed ullamcorper. "},{question:"Delivery Working Hours?",answer:"Lorem ipsum dolor sit amet consectetur. Aliquet egestas at lacus cum nullam commodo eget consequat. Nulla mattis cras in velit scelerisque diam sit phasellus. Sit odio ultricies volutpat elementum egestas a sed ullamcorper. "}];static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ht({type:t,selectors:[["app-faq"]],decls:22,vars:1,consts:[[1,"header","d-flex","align-items-center","justify-content-center"],[1,"container"],[1,"row","my-4"],[1,"col-8"],[1,"col-4"],["src","assets/faqimg1.png","alt","",1,"img-fluid"],["src","assets/faqimg2.png","alt","",1,"img-fluid"]],template:function(n,r){n&1&&(K(0,"div",0)(1,"h3"),$(2," FAQ Page"),Y()(),K(3,"div",1)(4,"div",2)(5,"div",3),ma(6,G6,4,2,null,null,q6,!0,W6,2,0,"div"),Y(),K(9,"div",4)(10,"h4"),$(11,"Everything You Need To Know"),Y(),K(12,"p"),$(13,"Lorem ipsum dolor sit amet consectetur. Aliquet egestas at lacus cum nullam commodo eget consequat. Nulla mattis cras in velit scelerisque diam sit phasellus. "),Y(),K(14,"h4"),$(15,"Customer Support"),Y(),K(16,"p"),$(17,"(+880) 1757044044"),Be(18,"br"),$(19,"foodtime@gmail.com"),Y(),Be(20,"img",5)(21,"img",6),Y()()()),n&2&&(he(6),ga(r.faq))},styles:[".header[_ngcontent-%COMP%]{background-image:url(/assets/faq.png);background-size:cover;color:#fff;height:180px}h4[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:1rem;font-weight:700}img[_ngcontent-%COMP%]{margin-top:2rem}p[_ngcontent-%COMP%]{font-size:small}"]})};var Ck=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:vy,canActivate:[lh]},{path:"register",component:_y},{path:"login",component:yy},{path:"contact",component:wy,canActivate:[lh]},{path:"menu",component:by,canActivate:[lh]},{path:"cart",component:Ty,canActivate:[lh]},{path:"faq",component:Cy},{path:"**",component:Ey}];var Sk={providers:[aE(),PI({eventCoalescing:!0}),Ew(Ck),D1(()=>A1({apiKey:"AIzaSyAULiaDivdhPZSK36hcec1Ww44g88o-70s",authDomain:"food-266.firebaseapp.com",projectId:"food-266",storageBucket:"food-266.firebasestorage.app",messagingSenderId:"564559297541",appId:"1:564559297541:web:1c4104cb0808484935f06c"})),vk(()=>Ik()),NR(()=>kR())]};function K6(t,e){if(t&1){let n=ya();oe(0,"div",11)(1,"div",13)(2,"div",14)(3,"div",15),$(4),se()(),ut(5,"i",16),se(),oe(6,"div",17),$(7),se(),oe(8,"button",18),tr("click",function(){oi(n);let i=Zt();return si(i.logout())}),$(9,"Logout"),se()()}if(t&2){let n=Zt();he(4),jn(n.cartitemsCount),he(3),jn(n.userName)}}function Z6(t,e){t&1&&(oe(0,"div",12)(1,"button",19),$(2,"Login"),se(),oe(3,"button",20),$(4,"Register"),se()())}var Sy=class t{constructor(e,n,r){this.authService=e;this._router=n;this._cart=r}islogin=!1;userName=null;sub;cartitemsCount=0;ngOnInit(){let e=localStorage.getItem("user");this.userName=e?JSON.parse(e).firstName:null,this.islogin=!!e,this.sub=this.authService.userProfile$.subscribe(n=>{n?(this.userName=n.firstName,this.islogin=!0,localStorage.setItem("user",JSON.stringify(n))):(this.islogin=!1,this.userName=null,localStorage.removeItem("user"))}),this._cart.getCart(),this._cart.cartItems$.subscribe(n=>{this.cartitemsCount=n,console.log(n)})}ngOnDestroy(){this.sub?.unsubscribe()}logout(){this.authService.logout(),this._router.navigate(["/login"])}static \u0275fac=function(n){return new(n||t)(fe(Ri),fe(an),fe(Ni))};static \u0275cmp=ht({type:t,selectors:[["app-header"]],decls:18,vars:2,consts:[[1,"navbar"],[1,"container-fluid","d-flex","p-4","m-0","justify-content-between"],[1,"left"],["src","assets/title.png","alt","",1,"img-fluid","w-75"],[1,"center","d-md-flex","d-none"],["routerLink","home","routerLinkActive","active"],["routerLink","about","routerLinkActive","active"],["routerLink","menu","routerLinkActive","active"],["routerLink","contact","routerLinkActive","active"],["routerLink","faq","routerLinkActive","active"],[1,"right","d-flex"],[1,"live","d-flex","align-items-center"],[1,"start"],["routerLink","cart","routerLinkActive","active",1,"cart"],[1,"notification"],[1,"cart-items"],[1,"fa-solid","fa-cart-shopping"],[1,"user-info","px-3"],[1,"btn","me-0",3,"click"],["routerLink","login",1,"btn"],["routerLink","register",1,"btn"]],template:function(n,r){n&1&&(oe(0,"nav",0)(1,"div",1)(2,"div",2),ut(3,"img",3),se(),oe(4,"div",4)(5,"a",5),$(6,"Home"),se(),oe(7,"a",6),$(8,"About Us"),se(),oe(9,"a",7),$(10,"Menu"),se(),oe(11,"a",8),$(12,"Contact Us"),se(),oe(13,"a",9),$(14,"FAQ"),se()(),oe(15,"div",10),ot(16,K6,10,2,"div",11),ot(17,Z6,5,0,"div",12),se()()()),n&2&&(he(16),st(r.islogin?16:-1),he(),st(r.islogin?-1:17))},dependencies:[is,_w],styles:[".btn[_ngcontent-%COMP%]{background-color:#195a00;color:#fff;margin-right:.5em;padding:.3em 1em;border-radius:40px}.navbar[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{width:100%}.navbar[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]{position:relative;cursor:pointer}.navbar[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#195a00}.navbar[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{top:-.3rem;right:-.5rem;width:15px;height:15px;border-radius:50%;background-color:#195a00;color:#fff;position:absolute;font-size:x-small;display:flex;align-items:center;justify-content:center}.navbar[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none;margin:0 1em;color:#000}.navbar[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#195a00}"]})};var Dy=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ht({type:t,selectors:[["app-footer"]],decls:29,vars:0,consts:[[1,"container","text-center","d-flex","flex-column","align-items-center","justify-content-center","p-5"],["action","",1,"d-flex","w-75","flex-column","flex-sm-row"],["type","text","placeholder","Type here","aria-describedby","button-addon2 m-0",1,"form-control"],[1,"btn"],[1,"copy","text-center"],[1,"links","d-flex","align-items-center","justify-content-center"],["routerLink","home"],[1,"media","d-flex","align-items-center","justify-content-center","text-center"],[1,"fa-brands","fa-facebook-f"],[1,"fa-brands","fa-twitter"],[1,"fa-brands","fa-instagram"],[1,"fa-brands","fa-linkedin-in"]],template:function(n,r){n&1&&(oe(0,"footer")(1,"div",0)(2,"h2"),$(3,"Hurry up! Subscribe our newsletter "),ut(4,"br"),$(5,"and get 25% off"),se(),oe(6,"p"),$(7,"Lorem ipsum dolor sit amet consectetur. Urna eu amet laoreet nisl. Amet pellentesque "),se(),oe(8,"form",1),ut(9,"input",2),oe(10,"button",3),$(11,"Subscribe"),se()()(),oe(12,"div",4)(13,"div",5)(14,"a",6),$(15,"Register"),se(),oe(16,"a",6),$(17,"Home"),se(),oe(18,"a",6),$(19,"Contact Us"),se(),oe(20,"a",6),$(21,"FAQ"),se()(),oe(22,"div",7),ut(23,"i",8)(24,"i",9)(25,"i",10)(26,"i",11),se(),oe(27,"p"),$(28,"\xA92024 ARR, All right reserved"),se()()())},dependencies:[is],styles:["footer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#43121d}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small}footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#195a00;color:#fff;margin-left:5px;border-radius:4px;font-size:small;padding:8px 30px}footer[_ngcontent-%COMP%]   .copy[_ngcontent-%COMP%]{background-color:#195a00;color:#fff;padding:2rem;font-size:small}footer[_ngcontent-%COMP%]   .copy[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:1rem;cursor:pointer}footer[_ngcontent-%COMP%]   .copy[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#195a00;background-color:#fff;border-radius:50%;padding:5px;width:30px;height:30px;margin:.5rem;display:flex;align-items:center;justify-content:center}footer[_ngcontent-%COMP%]   .copy[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1rem}"]})};var Ay=class t{title=Bn("food");static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ht({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(n,r){n&1&&ut(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[sf,Sy,Dy],encapsulation:2})};ZI(Ay,Sk).catch(t=>console.error(t));
